!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).coreapi=e()}((function(){return function e(t,r,n){function o(s,a){if(!r[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=r[s]={exports:{}};t[s][0].call(f.exports,(function(e){return o(t[s][1][e]||e)}),f,f.exports,e,t,r,n)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t.username,n=t.password,o=window.btoa(r+":"+n);this.auth="Basic "+o}return n(e,[{key:"authenticate",value:function(e){return e.headers.Authorization=this.auth,e}}]),e}();t.exports={BasicAuthentication:o}},{}],2:[function(e,t,r){"use strict";var n=e("./basic"),o=e("./session"),i=e("./token");t.exports={BasicAuthentication:n.BasicAuthentication,SessionAuthentication:o.SessionAuthentication,TokenAuthentication:i.TokenAuthentication}},{"./basic":1,"./session":3,"./token":4}],3:[function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=e("../utils"),i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.csrfToken=function(e,t){if((t=t||window.document.cookie)&&""!==t)for(var r=t.split(";"),n=0;n<r.length;n++){var o=r[n].replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(o.substring(0,e.length+1)===e+"=")return decodeURIComponent(o.substring(e.length+1))}return null}(t.csrfCookieName,t.cookieString),this.csrfHeaderName=t.csrfHeaderName}return n(e,[{key:"authenticate",value:function(e){return e.credentials="same-origin",this.csrfToken&&!o.csrfSafeMethod(e.method)&&(e.headers[this.csrfHeaderName]=this.csrfToken),e}}]),e}();t.exports={SessionAuthentication:i}},{"../utils":15}],4:[function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.token=t.token,this.scheme=t.scheme||"Bearer"}return n(e,[{key:"authenticate",value:function(e){return e.headers.Authorization=this.scheme+" "+this.token,e}}]),e}();t.exports={TokenAuthentication:o}},{}],5:[function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=e("./document"),i=e("./codecs"),s=e("./errors"),a=e("./transports"),u=e("./utils");function c(e,t){var r=!0,n=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value;if(void 0===(e=e instanceof o.Document?e.content[c]:e[c]))throw new s.LinkLookupError("Invalid link lookup: "+JSON.stringify(t))}}catch(e){n=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(n)throw i}}if(!(e instanceof o.Link))throw new s.LinkLookupError("Invalid link lookup: "+JSON.stringify(t));return e}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r={auth:t.auth||null,headers:t.headers||{},requestCallback:t.requestCallback,responseCallback:t.responseCallback};this.decoders=t.decoders||[new i.CoreJSONCodec,new i.JSONCodec,new i.TextCodec],this.transports=t.transports||[new a.HTTPTransport(r)]}return n(e,[{key:"action",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=c(e,t);return u.determineTransport(this.transports,n.url).action(n,this.decoders,r)}},{key:"get",value:function(e){var t=new o.Link(e,"get");return u.determineTransport(this.transports,e).action(t,this.decoders)}}]),e}();t.exports={Client:f}},{"./codecs":7,"./document":10,"./errors":11,"./transports":14,"./utils":15}],6:[function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=e("../document"),s=e("url-parse");function a(e){return e.match(/__(type|meta)$/)?e.substring(1):e}function u(e,t){var r=e[t];return"string"==typeof r?r:""}function c(e,t){var r=e[t];return"boolean"==typeof r&&r}function f(e,t){var r=e instanceof Object&&!(e instanceof Array);if(r&&"document"===e._type){var n=function(e,t){var r=e._meta;return"object"===(void 0===r?"undefined":o(r))?r:{}}(e),l=u(n,"url"),h=l?s(l,t).toString():"",p=u(n,"title"),d=u(n,"description"),y=function(e,t){var r=["_type","_meta"],n={};for(var o in e)if(e.hasOwnProperty(o)&&!r.includes(o)){var i=a(o),s=f(e[o],t);n[i]=s}return n}(e,h);return new i.Document(h,p,d,y)}if(r&&"link"===e._type){for(var v=u(e,"url"),m=v?s(v,t).toString():"",b=u(e,"action")||"get",w=u(e,"title"),g=u(e,"description"),T=function(e,t){var r=e.fields;return r instanceof Array?r:[]}(e),k=[],x=0,O=T.length;x<O;x++){var C=T[x],E=u(C,"name"),A=c(C,"required"),_=u(C,"location"),j=u(C,"fieldDescription"),S=new i.Field(E,A,_,j);k.push(S)}return new i.Link(m,b,"application/json",k,w,g)}if(r){var P={};for(var U in e)e.hasOwnProperty(U)&&(P[U]=f(e[U],t));return P}if(e instanceof Array){for(var q=[],B=0,D=e.length;B<D;B++)q.push(f(e[B],t));return q}return e}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mediaType="application/coreapi+json"}return n(e,[{key:"decode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e;return void 0!==t.preloaded&&t.preloaded||(r=JSON.parse(e)),f(r,t.url)}}]),e}();t.exports={CoreJSONCodec:l}},{"../document":10,"url-parse":19}],7:[function(e,t,r){"use strict";var n=e("./corejson"),o=e("./json"),i=e("./text");t.exports={CoreJSONCodec:n.CoreJSONCodec,JSONCodec:o.JSONCodec,TextCodec:i.TextCodec}},{"./corejson":6,"./json":8,"./text":9}],8:[function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mediaType="application/json"}return n(e,[{key:"decode",value:function(e){return JSON.parse(e)}}]),e}();t.exports={JSONCodec:o}},{}],9:[function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mediaType="text/*"}return n(e,[{key:"decode",value:function(e){return e}}]),e}();t.exports={TextCodec:o}},{}],10:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.exports={Document:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};n(this,e),this.url=t,this.title=r,this.description=o,this.content=i},Link:function e(t,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/json",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";if(n(this,e),void 0===t)throw new Error("url argument is required");if(void 0===r)throw new Error("method argument is required");this.url=t,this.method=r,this.encoding=o,this.fields=i,this.title=s,this.description=a},Field:function e(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(n(this,e),void 0===t)throw new Error("name argument is required");this.name=t,this.required=r,this.location=o,this.description=i}}},{}],11:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(e){function t(e){n(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.message=e,r.name="ParameterError",r}return i(t,Error),t}(),a=function(e){function t(e){n(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.message=e,r.name="LinkLookupError",r}return i(t,Error),t}(),u=function(e){function t(e,r){n(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.message=e,i.content=r,i.name="ErrorMessage",i}return i(t,Error),t}();t.exports={ParameterError:s,LinkLookupError:a,ErrorMessage:u}},{}],12:[function(e,t,r){"use strict";var n=e("./auth"),o=e("./client"),i=e("./codecs"),s=e("./document"),a=e("./errors"),u=e("./transports"),c=e("./utils"),f={Client:o.Client,Document:s.Document,Link:s.Link,auth:n,codecs:i,errors:a,transports:u,utils:c};t.exports=f},{"./auth":2,"./client":5,"./codecs":7,"./document":10,"./errors":11,"./transports":14,"./utils":15}],13:[function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=e("isomorphic-fetch"),i=e("../errors"),s=e("../utils"),a=e("url-parse"),u=e("url-template"),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.schemes=["http","https"],this.auth=t.auth||null,this.headers=t.headers||{},this.fetch=t.fetch||o,this.FormData=t.FormData||window.FormData,this.requestCallback=t.requestCallback,this.responseCallback=t.responseCallback}return n(e,[{key:"buildRequest",value:function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e.fields,o=e.method.toUpperCase(),s={},c={},f={},l=[],h=!1,p=0,d=n.length;p<d;p++){var y=n[p];if(r.hasOwnProperty(y.name))l.push(y.name),"query"===y.location?s[y.name]=r[y.name]:"path"===y.location?c[y.name]=r[y.name]:"form"===y.location?(f[y.name]=r[y.name],h=!0):"body"===y.location&&(f=r[y.name],h=!0);else if(y.required)throw new i.ParameterError('Missing required field: "'+y.name+'"')}for(var v in r)if(r.hasOwnProperty(v)&&!l.includes(v))throw new i.ParameterError('Unknown parameter: "'+v+'"');var m={method:o,headers:{}};if(Object.assign(m.headers,this.headers),h)if("application/json"===e.encoding)m.body=JSON.stringify(f),m.headers["Content-Type"]="application/json";else if("multipart/form-data"===e.encoding){var b=new this.FormData;for(var w in f)b.append(w,f[w]);m.body=b}else if("application/x-www-form-urlencoded"===e.encoding){var g=[];for(var T in f){var k=encodeURIComponent(T),x=encodeURIComponent(f[T]);g.push(k+"="+x)}g=g.join("&"),m.body=g,m.headers["Content-Type"]="application/x-www-form-urlencoded"}this.auth&&(m=this.auth.authenticate(m));var O=u.parse(e.url);return O=O.expand(c),(O=new a(O)).set("query",s),{url:O.toString(),options:m}}},{key:"action",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.responseCallback,o=this.buildRequest(e,t,r);return this.requestCallback&&this.requestCallback(o),this.fetch(o.url,o.options).then((function(e){if(204!==e.status)return function(e,t,r){return e.text().then((function(n){r&&r(e,n);var o=e.headers.get("Content-Type"),i=s.negotiateDecoder(t,o),a={url:e.url};return i.decode(n,a)}))}(e,t,n).then((function(t){if(e.ok)return t;var r=e.status+" "+e.statusText,n=new i.ErrorMessage(r,t);return Promise.reject(n)}))}))}}]),e}();t.exports={HTTPTransport:c}},{"../errors":11,"../utils":15,"isomorphic-fetch":16,"url-parse":19,"url-template":21}],14:[function(e,t,r){"use strict";var n=e("./http");t.exports={HTTPTransport:n.HTTPTransport}},{"./http":13}],15:[function(e,t,r){"use strict";var n=e("url-parse");t.exports={determineTransport:function(e,t){var r=new n(t).protocol.replace(":",""),o=!0,i=!1,s=void 0;try{for(var a,u=e[Symbol.iterator]();!(o=(a=u.next()).done);o=!0){var c=a.value;if(c.schemes.includes(r))return c}}catch(e){i=!0,s=e}finally{try{!o&&u.return&&u.return()}finally{if(i)throw s}}throw Error("Unsupported scheme in URL: "+t)},negotiateDecoder:function(e,t){if(null==t)return e[0];var r=t.toLowerCase().split(";")[0].trim(),n=r.split("/")[0]+"/*",o=[r,n,"*/*"],i=!0,s=!1,a=void 0;try{for(var u,c=e[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var f=u.value;if(o.includes(f.mediaType))return f}}catch(e){s=!0,a=e}finally{try{!i&&c.return&&c.return()}finally{if(s)throw a}}throw Error("Unsupported media in Content-Type header: "+t)},csrfSafeMethod:function(e){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(e)}}},{"url-parse":19}],16:[function(e,t,r){e("whatwg-fetch"),t.exports=self.fetch.bind(self)},{"whatwg-fetch":22}],17:[function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty;r.stringify=function(e,t){t=t||"";var r=[];for(var o in"string"!=typeof t&&(t="?"),e)n.call(e,o)&&r.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return r.length?t+r.join("&"):""},r.parse=function(e){for(var t,r=/([^=?&]+)=?([^&]*)/g,n={};t=r.exec(e);n[decodeURIComponent(t[1])]=decodeURIComponent(t[2]));return n}},{}],18:[function(e,t,r){"use strict";t.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},{}],19:[function(e,t,r){"use strict";var n=e("requires-port"),o=e("./lolcation"),i=e("querystringify"),s=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,a=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]];function u(e){var t=s.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function c(e,t,r){if(!(this instanceof c))return new c(e,t,r);var s,f,l,h,p,d,y=a.slice(),v=typeof t,m=this,b=0;for("object"!==v&&"string"!==v&&(r=t,t=null),r&&"function"!=typeof r&&(r=i.parse),t=o(t),s=!(f=u(e||"")).protocol&&!f.slashes,m.slashes=f.slashes||s&&t.slashes,m.protocol=f.protocol||t.protocol||"",e=f.rest,f.slashes||(y[2]=[/(.*)/,"pathname"]);b<y.length;b++)l=(h=y[b])[0],d=h[1],l!=l?m[d]=e:"string"==typeof l?~(p=e.indexOf(l))&&("number"==typeof h[2]?(m[d]=e.slice(0,p),e=e.slice(p+h[2])):(m[d]=e.slice(p),e=e.slice(0,p))):(p=l.exec(e))&&(m[d]=p[1],e=e.slice(0,p.index)),m[d]=m[d]||s&&h[3]&&t[d]||"",h[4]&&(m[d]=m[d].toLowerCase());r&&(m.query=r(m.query)),s&&t.slashes&&"/"!==m.pathname.charAt(0)&&(""!==m.pathname||""!==t.pathname)&&(m.pathname=function(e,t){for(var r=(t||"/").split("/").slice(0,-1).concat(e.split("/")),n=r.length,o=r[n-1],i=!1,s=0;n--;)"."===r[n]?r.splice(n,1):".."===r[n]?(r.splice(n,1),s++):s&&(0===n&&(i=!0),r.splice(n,1),s--);return i&&r.unshift(""),"."!==o&&".."!==o||r.push(""),r.join("/")}(m.pathname,t.pathname)),n(m.port,m.protocol)||(m.host=m.hostname,m.port=""),m.username=m.password="",m.auth&&(h=m.auth.split(":"),m.username=h[0]||"",m.password=h[1]||""),m.origin=m.protocol&&m.host&&"file:"!==m.protocol?m.protocol+"//"+m.host:"null",m.href=m.toString()}c.prototype.set=function(e,t,r){var o=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(r||i.parse)(t)),o[e]=t;break;case"port":o[e]=t,n(t,o.protocol)?t&&(o.host=o.hostname+":"+t):(o.host=o.hostname,o[e]="");break;case"hostname":o[e]=t,o.port&&(t+=":"+o.port),o.host=t;break;case"host":o[e]=t,/:\d+$/.test(t)?(t=t.split(":"),o.port=t.pop(),o.hostname=t.join(":")):(o.hostname=t,o.port="");break;case"protocol":o.protocol=t.toLowerCase(),o.slashes=!r;break;case"pathname":o.pathname=t.length&&"/"!==t.charAt(0)?"/"+t:t;break;default:o[e]=t}for(var s=0;s<a.length;s++){var u=a[s];u[4]&&(o[u[1]]=o[u[1]].toLowerCase())}return o.origin=o.protocol&&o.host&&"file:"!==o.protocol?o.protocol+"//"+o.host:"null",o.href=o.toString(),o},c.prototype.toString=function(e){e&&"function"==typeof e||(e=i.stringify);var t,r=this,n=r.protocol;n&&":"!==n.charAt(n.length-1)&&(n+=":");var o=n+(r.slashes?"//":"");return r.username&&(o+=r.username,r.password&&(o+=":"+r.password),o+="@"),o+=r.host+r.pathname,(t="object"==typeof r.query?e(r.query):r.query)&&(o+="?"!==t.charAt(0)?"?"+t:t),r.hash&&(o+=r.hash),o},c.extractProtocol=u,c.location=o,c.qs=i,t.exports=c},{"./lolcation":20,querystringify:17,"requires-port":18}],20:[function(e,t,r){(function(r){"use strict";var n,o=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,i={hash:1,query:1};t.exports=function(t){t=t||r.location||{},n=n||e("./");var s,a={},u=typeof t;if("blob:"===t.protocol)a=new n(unescape(t.pathname),{});else if("string"===u)for(s in a=new n(t,{}),i)delete a[s];else if("object"===u){for(s in t)s in i||(a[s]=t[s]);void 0===a.slashes&&(a.slashes=o.test(t.href))}return a}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./":19}],21:[function(e,t,r){var n;n=function(){function e(){}return e.prototype.encodeReserved=function(e){return e.split(/(%[0-9A-Fa-f]{2})/g).map((function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e})).join("")},e.prototype.encodeUnreserved=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))},e.prototype.encodeValue=function(e,t,r){return t="+"===e||"#"===e?this.encodeReserved(t):this.encodeUnreserved(t),r?this.encodeUnreserved(r)+"="+t:t},e.prototype.isDefined=function(e){return null!=e},e.prototype.isKeyOperator=function(e){return";"===e||"&"===e||"?"===e},e.prototype.getValues=function(e,t,r,n){var o=e[r],i=[];if(this.isDefined(o)&&""!==o)if("string"==typeof o||"number"==typeof o||"boolean"==typeof o)o=o.toString(),n&&"*"!==n&&(o=o.substring(0,parseInt(n,10))),i.push(this.encodeValue(t,o,this.isKeyOperator(t)?r:null));else if("*"===n)Array.isArray(o)?o.filter(this.isDefined).forEach((function(e){i.push(this.encodeValue(t,e,this.isKeyOperator(t)?r:null))}),this):Object.keys(o).forEach((function(e){this.isDefined(o[e])&&i.push(this.encodeValue(t,o[e],e))}),this);else{var s=[];Array.isArray(o)?o.filter(this.isDefined).forEach((function(e){s.push(this.encodeValue(t,e))}),this):Object.keys(o).forEach((function(e){this.isDefined(o[e])&&(s.push(this.encodeUnreserved(e)),s.push(this.encodeValue(t,o[e].toString())))}),this),this.isKeyOperator(t)?i.push(this.encodeUnreserved(r)+"="+s.join(",")):0!==s.length&&i.push(s.join(","))}else";"===t?this.isDefined(o)&&i.push(this.encodeUnreserved(r)):""!==o||"&"!==t&&"?"!==t?""===o&&i.push(""):i.push(this.encodeUnreserved(r)+"=");return i},e.prototype.parse=function(e){var t=this,r=["+","#",".","/",";","?","&"];return{expand:function(n){return e.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,(function(e,o,i){if(o){var s=null,a=[];if(-1!==r.indexOf(o.charAt(0))&&(s=o.charAt(0),o=o.substr(1)),o.split(/,/g).forEach((function(e){var r=/([^:\*]*)(?::(\d+)|(\*))?/.exec(e);a.push.apply(a,t.getValues(n,s,r[1],r[2]||r[3]))})),s&&"+"!==s){var u=",";return"?"===s?u="&":"#"!==s&&(u=s),(0!==a.length?s:"")+a.join(u)}return a.join(",")}return t.encodeReserved(i)}))}}},new e},"object"==typeof r?t.exports=n():this.urltemplate=n()},{}],22:[function(e,t,r){!function(e){"use strict";if(!e.fetch){var t="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,n="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,i="ArrayBuffer"in e;if(i)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=function(e){return e&&DataView.prototype.isPrototypeOf(e)},u=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};d.prototype.append=function(e,t){e=l(e),t=h(t);var r=this.map[e];this.map[e]=r?r+","+t:t},d.prototype.delete=function(e){delete this.map[l(e)]},d.prototype.get=function(e){return e=l(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(l(e))},d.prototype.set=function(e,t){this.map[l(e)]=h(t)},d.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},d.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),p(e)},d.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),p(e)},d.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),p(e)},r&&(d.prototype[Symbol.iterator]=d.prototype.entries);var c=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},w.call(g.prototype),w.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},k.error=function(){var e=new k(null,{status:0,statusText:""});return e.type="error",e};var f=[301,302,303,307,308];k.redirect=function(e,t){if(-1===f.indexOf(t))throw new RangeError("Invalid status code");return new k(null,{status:t,headers:{location:e}})},e.Headers=d,e.Request=g,e.Response=k,e.fetch=function(e,t){return new Promise((function(r,o){var i=new g(e,t),s=new XMLHttpRequest;s.onload=function(){var e,t,n={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new d,e.split("\r\n").forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();t.append(n,o)}})),t)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var o="response"in s?s.response:s.responseText;r(new k(o,n))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.open(i.method,i.url,!0),"include"===i.credentials&&(s.withCredentials=!0),"responseType"in s&&n&&(s.responseType="blob"),i.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),s.send(void 0===i._bodyInit?null:i._bodyInit)}))},e.fetch.polyfill=!0}function l(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function h(e){return"string"!=typeof e&&(e=String(e)),e}function p(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach((function(e,t){this.append(t,e)}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function y(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function v(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function m(e){var t=new FileReader,r=v(t);return t.readAsArrayBuffer(e),r}function b(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function w(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(n&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(o&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(i&&n&&a(e))this._bodyArrayBuffer=b(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!i||!ArrayBuffer.prototype.isPrototypeOf(e)&&!u(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=b(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n&&(this.blob=function(){var e=y(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.text=function(){var e,t,r,n=y(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,r=v(t=new FileReader),t.readAsText(e),r;if(this._bodyArrayBuffer){var o=new Uint8Array(this._bodyArrayBuffer),i=String.fromCharCode.apply(null,o);return Promise.resolve(i)}if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.arrayBuffer=function(){return this._bodyArrayBuffer?y(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),o&&(this.formData=function(){return this.text().then(T)}),this.json=function(){return this.text().then(JSON.parse)},this}function g(e,t){var r,n,o=(t=t||{}).body;if("string"==typeof e)this.url=e;else{if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=(n=(r=t.method||this.method||"GET").toUpperCase(),c.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function T(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}})),t}function k(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},{}]},{},[12])(12)}));