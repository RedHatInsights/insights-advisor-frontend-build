{"version":3,"sources":["webpack:///./src/PresentationalComponents/Common/Tables.js"],"names":["urlBuilder","filters","selectedTags","url","URL","window","location","queryString","Object","keys","map","key","Array","isArray","join","params","URLSearchParams","get","length","set","history","replaceState","origin","pathname","toString","hash","filterFetchBuilder","assign","entries","filterName","filterValue","paramParser","searchParams","search","from","reduce","acc","value","JSON","parse","split","encodeOptionsToURL","options","index","pruneFilters","localFilters","filterCategories","prunedFilters","arr","item","category","chips","selectedCategoryValue","values","find","String","name","text","label","string","title","toUpperCase","substring","urlParam","workloadQueryBuilder","workloads","SID","generateFilter","system_profile","SAP","isSelected","sap_system","sap_sids","undefined","arrayEnhancer"],"mappings":"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","file":"js/7109.c13e17f6ba2d505086df.js","sourcesContent":["import { generateFilter } from '@redhat-cloud-services/frontend-components-utilities/helpers';\n\n// Builds returns url params from table filters, pushes to url if history object is passed\nexport const urlBuilder = (filters = {}, selectedTags = []) => {\n  const url = new URL(window.location);\n  const queryString = `${Object.keys(filters)\n    .map(\n      (key) =>\n        `${key}=${\n          Array.isArray(filters[key]) ? filters[key].join() : filters[key]\n        }`\n    )\n    .join('&')}`;\n  const params = new URLSearchParams(queryString);\n\n  //Removes invalid 'undefined' url param value\n  params.get('reports_shown') === 'undefined' && params.delete('reports_shown');\n  selectedTags?.length\n    ? params.set('tags', selectedTags)\n    : params.delete('tags');\n  window.history.replaceState(\n    null,\n    null,\n    `${url.origin}${url.pathname}?${params.toString()}${window.location.hash}`\n  );\n  return `?${queryString}`;\n};\n\n// transforms array of strings -> comma seperated strings, required by advisor api\nexport const filterFetchBuilder = (filters) =>\n  Object.assign(\n    {},\n    ...Object.entries(filters).map(([filterName, filterValue]) =>\n      Array.isArray(filterValue)\n        ? (filterValue[0] === 'true' || filterValue[0] === 'false') &&\n          filterValue.length > 1\n          ? null\n          : { [filterName]: filterValue.join() }\n        : { [filterName]: filterValue }\n    )\n  );\n\n// parses url params for use in table/filter chips\nexport const paramParser = () => {\n  const searchParams = new URLSearchParams(window.location.search);\n  return Array.from(searchParams).reduce(\n    (acc, [key, value]) => ({\n      ...acc,\n      [key]:\n        value === 'true' || value === 'false'\n          ? JSON.parse(value)\n          : value.split(','),\n    }),\n    {}\n  );\n};\n\n// create url from options\nexport const encodeOptionsToURL = (options) => {\n  return Object.entries(options).reduce((acc, [key, value], index) => {\n    return (acc += index === 0 ? `${key}=${value}` : `&${key}=${value}`);\n  }, '');\n};\n\n// capitalizes text string\nexport const capitalize = (string) =>\n  string[0].toUpperCase() + string.substring(1);\n\nexport const pruneFilters = (localFilters, filterCategories) => {\n  const prunedFilters = Object.entries(localFilters);\n  return prunedFilters.length > 0\n    ? prunedFilters.reduce((arr, item) => {\n        if (filterCategories[item[0]]) {\n          const category = filterCategories[item[0]];\n          const chips = Array.isArray(item[1])\n            ? item[1].map((value) => {\n                const selectedCategoryValue = category.values.find(\n                  (values) => values.value === String(value)\n                );\n                return selectedCategoryValue\n                  ? {\n                      name:\n                        selectedCategoryValue.text ||\n                        selectedCategoryValue.label,\n                      value,\n                    }\n                  : { name: value, value };\n              })\n            : [\n                {\n                  name: category.values.find(\n                    (values) => values.value === String(item[1])\n                  ).label,\n                  value: item[1],\n                },\n              ];\n          return [\n            ...arr,\n            {\n              category: capitalize(category.title),\n              chips,\n              urlParam: category.urlParam,\n            },\n          ];\n        } else if (item[0] === 'text') {\n          return [\n            ...arr,\n            {\n              category: 'Name',\n              chips: [{ name: item[1], value: item[1] }],\n              urlParam: item[0],\n            },\n          ];\n        } else {\n          return arr;\n        }\n      }, [])\n    : [];\n};\n\n// builds workload query filter\nexport const workloadQueryBuilder = (workloads, SID) =>\n  generateFilter(\n    {\n      system_profile: {\n        ...(workloads?.SAP?.isSelected && { sap_system: true }),\n        ...(SID?.length > 0 && { sap_sids: SID }),\n      },\n    },\n    undefined,\n    { arrayEnhancer: 'contains' }\n  );\n"],"sourceRoot":""}