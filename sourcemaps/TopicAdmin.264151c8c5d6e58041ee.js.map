{"version":3,"sources":["webpack:///./src/PresentationalComponents/Modals/AddEditTopic.js","webpack:///./src/PresentationalComponents/TopicsAdminTable/TopicsAdminTable.js","webpack:///./src/PresentationalComponents/Modals/_AddEditTopic.scss","webpack:///./src/PresentationalComponents/TopicsAdminTable/_TopicsAdminTable.scss","webpack:///./src/PresentationalComponents/Modals/_AddEditTopic.scss?8839","webpack:///./src/PresentationalComponents/TopicsAdminTable/_TopicsAdminTable.scss?8d57"],"names":["AddEditTopic","handleModalToggle","intl","isModalOpen","topic","addNotification","fetchTopicsAdmin","useState","name","setName","description","setDescription","tag","setTag","enabled","setEnabled","featured","setFeatured","slug","undefined","setSlug","editTopic","type","data","API","BASE_URL","variant","dismissable","title","formatMessage","messages","Object","entries","response","map","key","value","toUpperCase","setNameAndSlug","replace","toLowerCase","footer","Split","className","hasGutter","SplitItem","Button","onClick","ouiaId","isFilled","isDisabled","Modal","isOpen","onClose","Form","FormGroup","label","fieldId","TextInput","isRequired","id","onChange","helperText","TextArea","desc","isInline","Radio","isChecked","Checkbox","aria-label","propTypes","PropTypes","injectIntl","connect","dispatch","useIntl","useDispatch","topics","useSelector","AdvisorStore","topicsFetchStatus","transforms","sortable","cols","rows","setRows","sortBy","setSortBy","addEditTopicOpen","setAddEditTopicOpen","selectedTopic","setSelectedTopic","topicsArray","setTopicsArray","onSort","useCallback","_event","index","direction","attr","0","1","2","3","4","Immutable","asMutable","sort","a","b","hideTopics","useEffect","AppActions","length","cells","MessageState","icon","text","props","colSpan","flatMap","rule","PageHeader","Title","headingLevel","size","Main","PrimaryToolbar","_","Table","isStickyHeader","TableHeader","TableBody","Loading","Failed","message","TableToolbar","___CSS_LOADER_EXPORT___","push","module","update","hot","invalidate","oldLocals","accept","isNamedExport","p","isEqualLocals","dispose"],"mappings":"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","file":"js/TopicAdmin.960283fcc0cbb9a1e862.js","sourcesContent":["import './_AddEditTopic.scss';\n\nimport React, { useState } from 'react';\nimport {\n  Split,\n  SplitItem,\n} from '@patternfly/react-core/dist/js/layouts/Split/index';\n\nimport API from '../../Utilities/Api';\nimport { BASE_URL } from '../../AppConstants';\nimport { Button } from '@patternfly/react-core/dist/js/components/Button/Button';\nimport { Checkbox } from '@patternfly/react-core/dist/js/components/Checkbox/Checkbox';\nimport { Form } from '@patternfly/react-core/dist/js/components/Form/Form';\nimport { FormGroup } from '@patternfly/react-core/dist/js/components/Form/FormGroup';\nimport { Modal } from '@patternfly/react-core/dist/js/components/Modal/Modal';\nimport PropTypes from 'prop-types';\nimport { Radio } from '@patternfly/react-core/dist/js/components/Radio/Radio';\nimport { TextArea } from '@patternfly/react-core/dist/js/components/TextArea/TextArea';\nimport { TextInput } from '@patternfly/react-core/dist/js/components/TextInput/TextInput';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/';\nimport { connect } from 'react-redux';\nimport { fetchTopicsAdmin } from '../../AppActions';\nimport { injectIntl } from 'react-intl';\nimport messages from '../../Messages';\n\nconst AddEditTopic = ({\n  handleModalToggle,\n  intl,\n  isModalOpen,\n  topic,\n  addNotification,\n  fetchTopicsAdmin,\n}) => {\n  const [name, setName] = useState(topic.name || '');\n  const [description, setDescription] = useState(topic.description || '');\n  const [tag, setTag] = useState(topic.tag || '');\n  const [enabled, setEnabled] = useState(topic.enabled || false);\n  const [featured, setFeatured] = useState(topic.featured || false);\n  const [slug, setSlug] = useState(topic.slug || undefined);\n\n  const editTopic = async ({ type }) => {\n    try {\n      const data = { name, slug, tag, description, enabled, featured };\n      if (type === 'DELETE') {\n        await API.delete(`${BASE_URL}/topic/${slug}`);\n      } else if (topic.slug) {\n        await API.put(`${BASE_URL}/topic/${slug}/`, data);\n      } else {\n        await API.post(`${BASE_URL}/topic/`, {}, data);\n      }\n    } catch (error) {\n      addNotification({\n        variant: 'danger',\n        dismissable: true,\n        title: intl.formatMessage(messages.error),\n        description: Object.entries(error.response.data).map(\n          ([key, value]) => `${key.toUpperCase()}:${value} `\n        ),\n      });\n    } finally {\n      handleModalToggle(false);\n      fetchTopicsAdmin();\n    }\n  };\n\n  const setNameAndSlug = (name) => {\n    if (topic.slug) {\n      setName(name);\n    } else {\n      setName(name);\n      setSlug(name.replace(/\\s/g, '').toLowerCase());\n    }\n  };\n\n  const footer = (\n    <Split className=\"split-override\" hasGutter>\n      <SplitItem>\n        <Button\n          key=\"confirm\"\n          variant=\"primary\"\n          onClick={() => editTopic({ type: 'POST/PUT' })}\n          ouiaId=\"confirm\"\n        >\n          {intl.formatMessage(messages.save)}\n        </Button>\n      </SplitItem>\n      <SplitItem>\n        <Button\n          key=\"cancel\"\n          variant=\"secondary\"\n          onClick={() => handleModalToggle(false)}\n          ouiaId=\"cancel\"\n        >\n          {intl.formatMessage(messages.cancel)}\n        </Button>\n      </SplitItem>\n      <SplitItem isFilled />\n      <SplitItem>\n        <Button\n          key=\"delete\"\n          ouiaId=\"delete\"\n          variant=\"danger\"\n          isDisabled={topic.slug ? false : true}\n          onClick={() => editTopic({ type: 'DELETE' })}\n        >\n          {intl.formatMessage(messages.deleteTopic)}\n        </Button>\n      </SplitItem>\n    </Split>\n  );\n\n  return (\n    <Modal\n      title={intl.formatMessage(messages.topicAdminTitle)}\n      isOpen={isModalOpen}\n      onClose={() => handleModalToggle(false)}\n      footer={footer}\n      className=\"modal-width-override\"\n    >\n      <Form>\n        <FormGroup\n          label={intl.formatMessage(messages.name)}\n          fieldId=\"topic-form-name\"\n          className=\"text-input-override\"\n        >\n          <TextInput\n            value={name}\n            isRequired\n            type=\"text\"\n            id=\"topic-form-name\"\n            name=\"topic-form-name\"\n            onChange={(name) => setNameAndSlug(name)}\n          />\n        </FormGroup>\n        <FormGroup\n          label={intl.formatMessage(messages.topicAddEditDescription)}\n          fieldId=\"topic-form-description\"\n          helperText={intl.formatMessage(\n            messages.topicAddEditDescriptionHelperText\n          )}\n          className=\"text-area-override\"\n        >\n          <TextArea\n            value={description}\n            isRequired\n            name=\"topic-form-description\"\n            id=\"topic-form-description\"\n            onChange={(desc) => setDescription(desc)}\n          />\n        </FormGroup>\n        <FormGroup isInline fieldId=\"topic-form-labels\">\n          <FormGroup\n            label={intl.formatMessage(messages.tag)}\n            fieldId=\"topic-form-tag\"\n            helperText={intl.formatMessage(messages.topicAddEditTagHelperText)}\n            className=\"text-input-override\"\n          >\n            <TextInput\n              value={tag.replace(/\\s/g, '').toLowerCase()}\n              isRequired\n              type=\"text\"\n              id=\"topic-form-tag\"\n              name=\"topic-form-tag\"\n              onChange={(tag) => setTag(tag.replace(/\\s/g, '').toLowerCase())}\n            />\n          </FormGroup>\n          <FormGroup\n            label={intl.formatMessage(messages.topicSlug)}\n            fieldId=\"topic-form-name-2\"\n            helperText=\"\"\n            className=\"text-input-override\"\n          >\n            <TextInput\n              value={slug || name.replace(/\\s/g, '').toLowerCase()}\n              isDisabled={topic.slug}\n              type=\"text\"\n              id=\"topic-form-name-2\"\n              name=\"topic-form-name-2\"\n              onChange={(name) => setNameAndSlug(name)}\n            />\n          </FormGroup>\n        </FormGroup>\n        <FormGroup\n          label={intl.formatMessage(messages.status)}\n          fieldId=\"topic-form-enabled\"\n        >\n          <Radio\n            isChecked={!enabled}\n            id=\"disabled\"\n            label={intl.formatMessage(messages.topicAddEditDisabled)}\n            onChange={() => setEnabled(!enabled)}\n            className=\"radio-override\"\n          />\n          <Radio\n            isChecked={enabled}\n            id=\"enabled\"\n            label={intl.formatMessage(messages.topicAddEditEnabled)}\n            onChange={() => setEnabled(!enabled)}\n            className=\"radio-override\"\n          />\n        </FormGroup>\n        <FormGroup\n          label={intl.formatMessage(messages.featured)}\n          fieldId=\"topic-form-featured\"\n        >\n          <Checkbox\n            isChecked={featured}\n            label={intl.formatMessage(messages.topicAddEditFeatureBox)}\n            id=\"checkbox-featured\"\n            name=\"checkbox-featured\"\n            aria-label=\"update-featured\"\n            onChange={() => setFeatured(!featured)}\n            className=\"checkbox-override\"\n          />\n        </FormGroup>\n      </Form>\n    </Modal>\n  );\n};\n\nAddEditTopic.propTypes = {\n  handleModalToggle: PropTypes.func,\n  isModalOpen: PropTypes.bool,\n  topic: PropTypes.object,\n  intl: PropTypes.any,\n  addNotification: PropTypes.func,\n  fetchTopicsAdmin: PropTypes.func,\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  addNotification: (data) => dispatch(addNotification(data)),\n  fetchTopicsAdmin: () => dispatch(fetchTopicsAdmin()),\n});\n\nexport default injectIntl(connect(null, mapDispatchToProps)(AddEditTopic));\n","import './_TopicsAdminTable.scss';\n\nimport * as AppActions from '../../AppActions';\n\nimport React, { useCallback, useEffect, useState } from 'react';\nimport {\n  Table,\n  TableBody,\n  TableHeader,\n  sortable,\n} from '@patternfly/react-table';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport AddEditTopic from '../Modals/AddEditTopic';\nimport BanIcon from '@patternfly/react-icons/dist/js/icons/ban-icon';\nimport { Button } from '@patternfly/react-core/dist/js/components/Button/Button';\nimport CheckCircleIcon from '@patternfly/react-icons/dist/js/icons/check-circle-icon';\nimport EditAltIcon from '@patternfly/react-icons/dist/js/icons/edit-alt-icon';\nimport Failed from '../Loading/Failed';\nimport Immutable from 'seamless-immutable';\nimport Loading from '../Loading/Loading';\nimport { Main } from '@redhat-cloud-services/frontend-components/Main';\nimport MessageState from '../MessageState/MessageState';\nimport { PageHeader } from '@redhat-cloud-services/frontend-components/PageHeader';\nimport { PrimaryToolbar } from '@redhat-cloud-services/frontend-components/PrimaryToolbar';\nimport StarIcon from '@patternfly/react-icons/dist/js/icons/star-icon';\nimport { TableToolbar } from '@redhat-cloud-services/frontend-components/TableToolbar';\nimport { Title } from '@patternfly/react-core/dist/js/components/Title/Title';\nimport messages from '../../Messages';\nimport { useIntl } from 'react-intl';\n\nconst TopicsAdminTable = () => {\n  const intl = useIntl();\n  const dispatch = useDispatch();\n  const topics = useSelector(({ AdvisorStore }) => AdvisorStore.topics);\n  const topicsFetchStatus = useSelector(\n    ({ AdvisorStore }) => AdvisorStore.topicsFetchStatus\n  );\n\n  const [cols] = useState([\n    { title: intl.formatMessage(messages.title), transforms: [sortable] },\n    { title: intl.formatMessage(messages.tag), transforms: [sortable] },\n    { title: intl.formatMessage(messages.topicSlug), transforms: [sortable] },\n    { title: intl.formatMessage(messages.status), transforms: [sortable] },\n    { title: intl.formatMessage(messages.featured), transforms: [sortable] },\n    '',\n    '',\n  ]);\n  const [rows, setRows] = useState([]);\n  const [sortBy, setSortBy] = useState({});\n  const [addEditTopicOpen, setAddEditTopicOpen] = useState(false);\n  const [selectedTopic, setSelectedTopic] = useState({});\n  const [topicsArray, setTopicsArray] = useState([]);\n\n  const onSort = useCallback(\n    (_event, index, direction) => {\n      const attrIndex = {\n        0: 'name',\n        1: 'tag',\n        2: 'slug',\n        3: 'enabled',\n        4: 'featured',\n      };\n      const attr = attrIndex[index];\n      setSortBy({ index, direction });\n      setTopicsArray(\n        Immutable.from(\n          topicsArray.asMutable().sort((a, b) => {\n            if (direction === 'asc') {\n              if (attr === 'enabled' || attr === 'featured') {\n                return a[attr] > b[attr] ? -1 : 1;\n              } else {\n                return a[attr] > b[attr] ? 1 : -1;\n              }\n            } else {\n              if (attr === 'enabled' || attr === 'featured') {\n                return a[attr] > b[attr] ? 1 : -1;\n              } else {\n                return a[attr] > b[attr] ? -1 : 1;\n              }\n            }\n          })\n        )\n      );\n    },\n    [setSortBy, setTopicsArray, topicsArray]\n  );\n\n  const hideTopics = (topic) => {\n    if (!topic) {\n      setAddEditTopicOpen(true);\n    } else {\n      setSelectedTopic(topic);\n      setAddEditTopicOpen(true);\n    }\n  };\n\n  useEffect(() => {\n    setTopicsArray(topics);\n  }, [topics]);\n\n  useEffect(() => {\n    const fetchTopicsAdmin = () => dispatch(AppActions.fetchTopicsAdmin());\n\n    fetchTopicsAdmin();\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (topicsArray.length === 0) {\n      setRows([\n        {\n          cells: [\n            {\n              title: (\n                <MessageState icon=\"none\" title={''} text={''}></MessageState>\n              ),\n              props: { colSpan: 7 },\n            },\n          ],\n        },\n      ]);\n    } else {\n      const rows = topicsArray.flatMap((value, key) => [\n        {\n          isOpen: false,\n          rule: value,\n          cells: [\n            {\n              title: <span key={key}> {value.name}</span>,\n            },\n            {\n              title: <span key={key}> {value.tag}</span>,\n            },\n            {\n              title: <span key={key}> {value.slug}</span>,\n            },\n            {\n              title: (\n                <span>\n                  {value.enabled ? (\n                    <span>\n                      <CheckCircleIcon className=\"success\" />{' '}\n                      {intl.formatMessage(messages.enabled)}\n                    </span>\n                  ) : (\n                    <span>\n                      <BanIcon className=\"ban\" />{' '}\n                      {intl.formatMessage(messages.disabled)}\n                    </span>\n                  )}\n                </span>\n              ),\n            },\n            {\n              title: (\n                <span>\n                  {value.featured ? (\n                    <span>\n                      <StarIcon /> {intl.formatMessage(messages.featured)}\n                    </span>\n                  ) : (\n                    <span></span>\n                  )}\n                </span>\n              ),\n            },\n            '',\n            {\n              title: (\n                <Button\n                  ouiaId=\"hide\"\n                  variant=\"link\"\n                  onClick={() => hideTopics(value)}\n                >\n                  <EditAltIcon /> {intl.formatMessage(messages.topicAdminEdit)}\n                </Button>\n              ),\n            },\n          ],\n        },\n      ]);\n      setRows(rows.asMutable());\n    }\n  }, [topicsArray, intl]);\n\n  return (\n    <React.Fragment>\n      {addEditTopicOpen && (\n        <AddEditTopic\n          isModalOpen={addEditTopicOpen}\n          handleModalToggle={setAddEditTopicOpen}\n          topic={selectedTopic}\n        />\n      )}\n      <PageHeader>\n        <Title headingLevel=\"h3\" size=\"2xl\" className=\"titlePaddingOverride\">\n          {intl.formatMessage(messages.topicAdminTitle)}\n        </Title>\n      </PageHeader>\n      <Main>\n        <React.Fragment>\n          <PrimaryToolbar className=\"toolbar-padding-override\">\n            <Button\n              variant=\"primary\"\n              ouiaId=\"adminCreate\"\n              onClick={(_) => hideTopics(_)}\n            >\n              {intl.formatMessage(messages.topicAdminCreate)}\n            </Button>\n          </PrimaryToolbar>\n          {topicsFetchStatus === 'fulfilled' && (\n            <Table\n              ouiaId=\"adminTable\"\n              aria-label={'topics-admin-table'}\n              sortBy={sortBy}\n              onSort={onSort}\n              cells={cols}\n              rows={rows}\n              isStickyHeader\n            >\n              <TableHeader />\n              <TableBody />\n            </Table>\n          )}\n          {topicsFetchStatus === 'pending' && <Loading />}\n          {topicsFetchStatus === 'failed' && (\n            <Failed\n              message={intl.formatMessage(messages.systemTableFetchError)}\n            />\n          )}\n          <TableToolbar />\n        </React.Fragment>\n      </Main>\n    </React.Fragment>\n  );\n};\n\nexport default TopicsAdminTable;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".advisor .text-area-override{max-width:30em;min-height:8em;max-height:12em}.advisor .text-input-override{width:22em;display:inline}.advisor .radio-override{padding-left:5px}.advisor .checkbox-override{padding-left:5px}.advisor .split-override{width:100%}.advisor .modal-width-override{width:60%}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/PresentationalComponents/Modals/_AddEditTopic.scss\"],\"names\":[],\"mappings\":\"AAAA,6BACoB,cAAc,CAAC,cAAc,CAAC,eAAe,CADjE,8BACuF,UAAU,CAAC,cAAc,CADhH,yBACiI,gBAAgB,CADjJ,4BACqK,gBAAgB,CADrL,yBACsM,UAAU,CADhN,+BACuO,SAAS\",\"sourcesContent\":[\".advisor{\\n.text-area-override{max-width:30em;min-height:8em;max-height:12em}.text-input-override{width:22em;display:inline}.radio-override{padding-left:5px}.checkbox-override{padding-left:5px}.split-override{width:100%}.modal-width-override{width:60%}\\n\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".advisor .toolbar-padding-override{padding-left:0px}.advisor .success{color:var(--pf-global--success-color--100)}.advisor .ban{color:var(--pf-global--Color--200)}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/PresentationalComponents/TopicsAdminTable/_TopicsAdminTable.scss\"],\"names\":[],\"mappings\":\"AAAA,mCAC0B,gBAAgB,CAD1C,kBACoD,0CAA0C,CAD9F,cACoG,kCAAkC\",\"sourcesContent\":[\".advisor{\\n.toolbar-padding-override{padding-left:0px}.success{color:var(--pf-global--success-color--100)}.ban{color:var(--pf-global--Color--200)}\\n\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!../../../node_modules/sass-loader/dist/cjs.js!./_AddEditTopic.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n  if (!a && b || a && !b) {\n    return false;\n  }\n\n  var p;\n\n  for (p in a) {\n    if (isNamedExport && p === 'default') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (a[p] !== b[p]) {\n      return false;\n    }\n  }\n\n  for (p in b) {\n    if (isNamedExport && p === 'default') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (!a[p]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!../../../node_modules/sass-loader/dist/cjs.js!./_AddEditTopic.scss\",\n      function () {\n        if (!isEqualLocals(oldLocals, content.locals, undefined)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nexport default content.locals || {};","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!../../../node_modules/sass-loader/dist/cjs.js!./_TopicsAdminTable.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n  if (!a && b || a && !b) {\n    return false;\n  }\n\n  var p;\n\n  for (p in a) {\n    if (isNamedExport && p === 'default') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (a[p] !== b[p]) {\n      return false;\n    }\n  }\n\n  for (p in b) {\n    if (isNamedExport && p === 'default') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (!a[p]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!../../../node_modules/sass-loader/dist/cjs.js!./_TopicsAdminTable.scss\",\n      function () {\n        if (!isEqualLocals(oldLocals, content.locals, undefined)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nexport default content.locals || {};"],"sourceRoot":""}