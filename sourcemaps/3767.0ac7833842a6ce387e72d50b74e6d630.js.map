{"version":3,"file":"js/3767.1646298954049.c1ce4caf5bbc79b302f3.js","mappings":"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","sources":["webpack:///./src/PresentationalComponents/Labels/CategoryLabel.js","webpack:///./src/PresentationalComponents/RulesTable/Components/EmptyState.js","webpack:///./src/PresentationalComponents/RulesTable/helpers.js","webpack:///./src/PresentationalComponents/RulesTable/RulesTable.js","webpack:///./src/Utilities/Debounce.js"],"sourcesContent":["import AutomationIcon from '@patternfly/react-icons/dist/esm/icons/automation-icon';\nimport CubeIcon from '@patternfly/react-icons/dist/esm/icons/cube-icon';\nimport { Label } from '@patternfly/react-core/dist/js/components/Label/index';\nimport { LabelGroup } from '@patternfly/react-core/dist/js/components/LabelGroup/LabelGroup';\nimport LockIcon from '@patternfly/react-icons/dist/esm/icons/lock-icon';\nimport PortIcon from '@patternfly/react-icons/dist/esm/icons/port-icon';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport messages from '../../Messages';\nimport { useIntl } from 'react-intl';\n\nconst CategoryLabel = ({ labelList }) => {\n  const intl = useIntl();\n  const sortedFrequency = (arr) =>\n    Object.entries(\n      arr.reduce((acc, curr) => ((acc[curr] = (acc[curr] || 0) + 1), acc), {})\n    ).sort((a, b) => b[1] - a[1]);\n  const sortedFrequencyList = sortedFrequency(\n    labelList.map((label) => label.id)\n  );\n\n  const label = (icon, text) => (\n    <Label icon={icon} variant=\"outline\" color=\"blue\">\n      {text}\n    </Label>\n  );\n  const labels = (id) => {\n    if (id === 1) {\n      return label(\n        <AutomationIcon />,\n        intl.formatMessage(messages.availability)\n      );\n    }\n    if (id === 2) {\n      return label(<LockIcon />, intl.formatMessage(messages.security));\n    }\n    if (id === 3) {\n      return label(<CubeIcon />, intl.formatMessage(messages.stability));\n    }\n    if (id === 4) {\n      return label(<PortIcon />, intl.formatMessage(messages.performance));\n    }\n  };\n  return (\n    <LabelGroup numLabels={1}>\n      {sortedFrequencyList.map((id) => labels(Number(id[0])))}\n    </LabelGroup>\n  );\n};\n\nCategoryLabel.propTypes = {\n  labelList: PropTypes.array,\n};\n\nexport default CategoryLabel;\n","import React from 'react';\nimport propTypes from 'prop-types';\n\nimport { Button } from '@patternfly/react-core';\nimport { CheckCircleIcon } from '@patternfly/react-icons';\nimport { FormattedMessage } from 'react-intl';\nimport MessageState from '../../MessageState/MessageState';\nimport { messageMapping } from '../helpers';\n\nconst EmptyState = ({ filters, toggleRulesDisabled }) => {\n  const message =\n    messageMapping()[filters.rule_status] || messageMapping().default;\n\n  return (\n    <MessageState\n      icon={CheckCircleIcon}\n      iconClass=\"ansibleCheck\"\n      title={message.title}\n      text={message.body}\n    >\n      {filters.rule_status === 'enabled' && (\n        <Button\n          variant=\"link\"\n          style={{ paddingTop: 24 }}\n          onClick={() => toggleRulesDisabled('all')}\n        >\n          <FormattedMessage id=\"rulestable.norulehits.adddisabledbutton\" />\n        </Button>\n      )}\n    </MessageState>\n  );\n};\n\nEmptyState.propTypes = {\n  filters: propTypes.object,\n  toggleRulesDisabled: propTypes.func,\n};\n\nexport default EmptyState;\n","import React from 'react';\nimport { Text } from '@patternfly/react-core';\nimport EmptyState from './Components/EmptyState';\nimport { FormattedMessage } from 'react-intl';\n\nexport const emptyRows = (filters, toggleRulesDisabled) => [\n  {\n    cells: [\n      {\n        title: <EmptyState {...{ filters, toggleRulesDisabled }} />,\n        props: { colSpan: 6 },\n      },\n    ],\n  },\n];\n\nexport const messageMapping = () => {\n  const title = <FormattedMessage id=\"rulestable.norulehits.title\" />;\n\n  return {\n    enabled: {\n      title,\n      body: (\n        <>\n          <Text>\n            <FormattedMessage id=\"rulestable.norulehits.enabledrulesbody\" />\n          </Text>\n          <Text>\n            <FormattedMessage id=\"rulestable.norulehits.enabledrulesbodysecondline\" />\n          </Text>\n        </>\n      ),\n    },\n    disabled: {\n      title,\n      body: (\n        <>\n          <Text>\n            <FormattedMessage id=\"rulestable.norules.disabledrulesbody\" />\n          </Text>\n          <Text>\n            <FormattedMessage id=\"rulestable.norules.disabledrulesbodysecondline\" />\n          </Text>\n        </>\n      ),\n    },\n    rhdisabled: {\n      title,\n      body: (\n        <Text>\n          <FormattedMessage id=\"rulestable.norules.redhatdisabledrulesbody\" />\n        </Text>\n      ),\n    },\n    default: {\n      title,\n      body: (\n        <Text>\n          <FormattedMessage id=\"noRecommendations\" />\n        </Text>\n      ),\n    },\n  };\n};\n","import './_RulesTable.scss';\n\nimport * as AppConstants from '../../AppConstants';\n\nimport { DEBOUNCE_DELAY, FILTER_CATEGORIES as FC } from '../../AppConstants';\nimport { Link, useLocation } from 'react-router-dom';\nimport {\n  Pagination,\n  PaginationVariant,\n} from '@patternfly/react-core/dist/js/components/Pagination/Pagination';\nimport React, { useEffect, useState } from 'react';\nimport {\n  Stack,\n  StackItem,\n} from '@patternfly/react-core/dist/js/layouts/Stack/index';\nimport {\n  Table,\n  TableBody,\n  TableHeader,\n  TableVariant,\n  cellWidth,\n  fitContent,\n  sortable,\n} from '@patternfly/react-table';\nimport {\n  Tooltip,\n  TooltipPosition,\n} from '@patternfly/react-core/dist/js/components/Tooltip/Tooltip';\nimport {\n  filterFetchBuilder,\n  paramParser,\n  pruneFilters,\n  urlBuilder,\n  workloadQueryBuilder,\n} from '../Common/Tables';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport AnsibeTowerIcon from '@patternfly/react-icons/dist/js/icons/ansibeTower-icon';\nimport BellSlashIcon from '@patternfly/react-icons/dist/js/icons/bell-slash-icon';\nimport { Button } from '@patternfly/react-core/dist/js/components/Button/Button';\nimport CategoryLabel from '../Labels/CategoryLabel';\nimport { DateFormat } from '@redhat-cloud-services/frontend-components/DateFormat';\nimport { DeleteApi } from '../../Utilities/Api';\nimport DisableRule from '../Modals/DisableRule';\nimport Failed from '../../PresentationalComponents/Loading/Failed';\nimport { InsightsLabel } from '@redhat-cloud-services/frontend-components/InsightsLabel';\nimport Loading from '../../PresentationalComponents/Loading/Loading';\nimport { Main } from '@redhat-cloud-services/frontend-components/Main';\nimport { PrimaryToolbar } from '@redhat-cloud-services/frontend-components/PrimaryToolbar';\nimport RuleDetails from '../RuleDetails/RuleDetails';\nimport RuleLabels from '../Labels/RuleLabels';\nimport ViewHostAcks from '../../PresentationalComponents/Modals/ViewHostAcks';\nimport { addNotification as addNotificationAction } from '@redhat-cloud-services/frontend-components-notifications/';\nimport debounce from '../../Utilities/Debounce';\nimport downloadReport from '../Common/DownloadHelper';\nimport messages from '../../Messages';\nimport { strong } from '../../Utilities/intlHelper';\nimport { updateRecFilters } from '../../Services/Filters';\nimport { useGetRecsQuery } from '../../Services/Recs';\nimport { useIntl } from 'react-intl';\nimport { usePermissions } from '@redhat-cloud-services/frontend-components-utilities/RBACHook';\n\nimport { emptyRows } from './helpers';\n\nconst RulesTable = () => {\n  const intl = useIntl();\n  const dispatch = useDispatch();\n  const { search } = useLocation();\n  const permsExport = usePermissions(\n    'advisor',\n    AppConstants.PERMS.export\n  ).hasAccess;\n  const permsDisableRec = usePermissions(\n    'advisor',\n    AppConstants.PERMS.disableRec\n  ).hasAccess;\n  const [cols] = useState([\n    {\n      title: intl.formatMessage(messages.name),\n      transforms: [sortable, cellWidth(40)],\n    },\n    {\n      title: intl.formatMessage(messages.modified),\n      transforms: [sortable, cellWidth(10)],\n    },\n    {\n      title: intl.formatMessage(messages.category),\n      transforms: [sortable, cellWidth(10)],\n    },\n    {\n      title: intl.formatMessage(messages.totalRisk),\n      transforms: [sortable, cellWidth(15)],\n    },\n    {\n      title: intl.formatMessage(messages.riskofchange),\n      transforms: [sortable, cellWidth(15)],\n    },\n    {\n      title: intl.formatMessage(messages.systems),\n      transforms: [sortable, cellWidth(15)],\n    },\n    {\n      title: intl.formatMessage(messages.remediation),\n      transforms: [sortable, cellWidth(15), fitContent],\n    },\n  ]);\n\n  const selectedTags = useSelector(({ filters }) => filters.selectedTags);\n  const workloads = useSelector(({ filters }) => filters.workloads);\n  const SID = useSelector(({ filters }) => filters.SID);\n  const filters = useSelector(({ filters }) => filters.recState);\n\n  const [rows, setRows] = useState([]);\n  const [sortBy, setSortBy] = useState({});\n  const [filterBuilding, setFilterBuilding] = useState(true);\n  const [searchText, setSearchText] = useState(filters?.text || '');\n  const [disableRuleOpen, setDisableRuleOpen] = useState(false);\n  const [selectedRule, setSelectedRule] = useState({});\n  const [viewSystemsModalOpen, setViewSystemsModalOpen] = useState(false);\n  const [viewSystemsModalRule, setViewSystemsModalRule] = useState({});\n  const [isAllExpanded, setIsAllExpanded] = useState(false);\n\n  const addNotification = (data) => dispatch(addNotificationAction(data));\n  const setFilters = (filters) => dispatch(updateRecFilters(filters));\n\n  let options = {};\n  selectedTags?.length &&\n    (options = {\n      ...options,\n      ...{ tags: selectedTags.join(',') },\n    });\n  workloads &&\n    (options = { ...options, ...workloadQueryBuilder(workloads, SID) });\n\n  const {\n    data: rules = [],\n    isFetching,\n    isLoading,\n    isError,\n    refetch,\n  } = useGetRecsQuery({ ...filterFetchBuilder(filters), ...options });\n\n  const debouncedSearchText = debounce(searchText, DEBOUNCE_DELAY);\n  const results = rules?.meta?.count || 0;\n  const sortIndices = {\n    1: 'description',\n    2: 'publish_date',\n    3: 'category',\n    4: 'total_risk',\n    5: 'resolution_risk',\n    6: 'impacted_count',\n    7: 'playbook_count',\n  };\n\n  const ruleResolutionRisk = (rule) => {\n    const resolution = rule.resolution_set.find(\n      (resolution) =>\n        resolution.system_type === AppConstants.SYSTEM_TYPES.rhel ||\n        AppConstants.SYSTEM_TYPES.ocp\n    );\n    return resolution ? resolution.resolution_risk.risk : undefined;\n  };\n\n  useEffect(() => {\n    if (!filterBuilding && selectedTags !== null) {\n      urlBuilder(filters, selectedTags);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [filters, selectedTags, workloads, SID]);\n\n  const onSort = (_event, index, direction) => {\n    const orderParam = `${direction === 'asc' ? '' : '-'}${sortIndices[index]}`;\n    setSortBy({ index, direction });\n    setFilters({ ...filters, sort: orderParam, offset: 0 });\n  };\n\n  const onSetPage = (pageNumber) => {\n    const newOffset = pageNumber * filters.limit - filters.limit;\n    setFilters({ ...filters, offset: newOffset });\n  };\n\n  const toggleRulesDisabled = (rule_status) => {\n    setFilters({\n      ...filters,\n      rule_status,\n      offset: 0,\n      ...(rule_status !== 'enabled' && { impacting: ['false'] }),\n    });\n  };\n\n  const handleOnCollapse = (_e, rowId, isOpen) => {\n    const collapseRows = [...rows];\n    collapseRows[rowId] = { ...collapseRows[rowId], isOpen };\n    setRows(collapseRows);\n  };\n\n  const hideReports = async (rowId) => {\n    const rule = rows[rowId].rule;\n\n    try {\n      if (rule.rule_status === 'enabled') {\n        setSelectedRule(rule);\n        setDisableRuleOpen(true);\n      } else {\n        try {\n          await DeleteApi(`${AppConstants.BASE_URL}/ack/${rule.rule_id}/`);\n          addNotification({\n            variant: 'success',\n            timeout: true,\n            dismissable: true,\n            title: intl.formatMessage(messages.recSuccessfullyEnabled),\n          });\n          refetch();\n        } catch (error) {\n          addNotification({\n            variant: 'danger',\n            dismissable: true,\n            title: intl.formatMessage(messages.error),\n            description: `${error}`,\n          });\n        }\n      }\n    } catch (error) {\n      addNotification({\n        variant: 'danger',\n        dismissable: true,\n        title:\n          rule.rule_status === 'enabled'\n            ? intl.formatMessage(messages.rulesTableHideReportsErrorDisabled)\n            : intl.formatMessage(messages.rulesTableHideReportsErrorEnabled),\n        description: `${error}`,\n      });\n    }\n  };\n\n  const actionResolver = (rowData, { rowIndex }) => {\n    const rule = rows[rowIndex].rule ? rows[rowIndex].rule : null;\n    if (rowIndex % 2 !== 0 || !rule) {\n      return null;\n    }\n\n    return rule && rule.rule_status === 'enabled'\n      ? [\n          {\n            title: intl.formatMessage(messages.disableRule),\n            onClick: (_event, rowId) => hideReports(rowId),\n          },\n        ]\n      : [\n          {\n            title: intl.formatMessage(messages.enableRule),\n            onClick: (_event, rowId) => hideReports(rowId),\n          },\n        ];\n  };\n\n  const buildFilterChips = () => {\n    const localFilters = { ...filters };\n    delete localFilters.topic;\n    delete localFilters.sort;\n    delete localFilters.offset;\n    delete localFilters.limit;\n\n    return pruneFilters(localFilters, FC);\n  };\n\n  // Builds table filters from url params\n  useEffect(() => {\n    if (search && filterBuilding) {\n      const paramsObject = paramParser();\n      delete paramsObject.tags;\n\n      paramsObject.text === undefined\n        ? setSearchText('')\n        : setSearchText(paramsObject.text);\n      paramsObject.sort =\n        paramsObject.sort === undefined ? '-total_risk' : paramsObject.sort[0];\n      paramsObject.has_playbook !== undefined &&\n        !Array.isArray(paramsObject.has_playbook) &&\n        (paramsObject.has_playbook = [`${paramsObject.has_playbook}`]);\n      paramsObject.incident !== undefined &&\n        !Array.isArray(paramsObject.incident) &&\n        (paramsObject.incident = [`${paramsObject.incident}`]);\n      paramsObject.offset === undefined\n        ? (paramsObject.offset = 0)\n        : (paramsObject.offset = Number(paramsObject.offset[0]));\n      paramsObject.limit === undefined\n        ? (paramsObject.limit = 20)\n        : (paramsObject.limit = Number(paramsObject.limit[0]));\n      paramsObject.reboot !== undefined &&\n        !Array.isArray(paramsObject.reboot) &&\n        (paramsObject.reboot = [`${paramsObject.reboot}`]);\n      paramsObject.impacting !== undefined &&\n        !Array.isArray(paramsObject.impacting) &&\n        (paramsObject.impacting = [`${paramsObject.impacting}`]);\n      setFilters({ ...filters, ...paramsObject });\n    }\n\n    setFilterBuilding(false);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    const sortIndex = Object.entries(sortIndices)?.find(\n      (item) => item[1] === filters.sort || `-${item[1]}` === filters.sort\n    );\n    if (filters.sort !== undefined && sortIndex) {\n      const sortDirection = filters.sort[0] === '-' ? 'desc' : 'asc';\n      setSortBy({ index: Number(sortIndex[0]), direction: sortDirection });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [filters.sort]);\n\n  useEffect(() => {\n    if (rules.data) {\n      if (rules.data.length === 0) {\n        setRows(emptyRows(filters, toggleRulesDisabled));\n      } else {\n        const rows = rules.data.flatMap((value, key) => [\n          {\n            isOpen: isAllExpanded,\n            rule: value,\n            cells: [\n              {\n                title: (\n                  <span key={key}>\n                    <Link key={key} to={`/recommendations/${value.rule_id}`}>\n                      {' '}\n                      {value.description}{' '}\n                    </Link>\n                    <RuleLabels rule={value} />\n                  </span>\n                ),\n              },\n              {\n                title: (\n                  <DateFormat\n                    key={key}\n                    date={value.publish_date}\n                    variant=\"relative\"\n                  />\n                ),\n              },\n              {\n                title: <CategoryLabel key={key} labelList={[value.category]} />,\n              },\n              {\n                title: (\n                  <div key={key}>\n                    <Tooltip\n                      key={key}\n                      position={TooltipPosition.bottom}\n                      content={intl.formatMessage(\n                        messages.rulesDetailsTotalriskBody,\n                        {\n                          risk:\n                            AppConstants.TOTAL_RISK_LABEL_LOWER[\n                              value.total_risk\n                            ] || intl.formatMessage(messages.undefined),\n                          strong: (str) => strong(str),\n                        }\n                      )}\n                    >\n                      <InsightsLabel value={value.total_risk} />\n                    </Tooltip>\n                  </div>\n                ),\n              },\n              {\n                title: (\n                  <div key={key}>\n                    <InsightsLabel\n                      text={\n                        AppConstants.RISK_OF_CHANGE_LABEL[\n                          ruleResolutionRisk(value)\n                        ]\n                      }\n                      value={ruleResolutionRisk(value)}\n                      hideIcon\n                    />\n                    <div></div>\n                  </div>\n                ),\n              },\n              {\n                title:\n                  value.rule_status === 'rhdisabled' ? (\n                    <Tooltip\n                      content={intl.formatMessage(messages.byEnabling, {\n                        systems: value.impacted_systems_count,\n                      })}\n                    >\n                      <span>{intl.formatMessage(messages.nA)}</span>\n                    </Tooltip>\n                  ) : (\n                    <div\n                      key={key}\n                    >{`${value.impacted_systems_count.toLocaleString()}`}</div>\n                  ),\n              },\n              {\n                title: (\n                  <div className=\"ins-c-center-text \" key={key}>\n                    {value.playbook_count ? (\n                      <span>\n                        <AnsibeTowerIcon size=\"sm\" />{' '}\n                        {intl.formatMessage(messages.playbook)}\n                      </span>\n                    ) : (\n                      intl.formatMessage(messages.manual)\n                    )}\n                  </div>\n                ),\n              },\n            ],\n          },\n          {\n            parent: key * 2,\n            fullWidth: true,\n            cells: [\n              {\n                title: (\n                  <Main className=\"pf-m-light\">\n                    <Stack hasGutter>\n                      {value.hosts_acked_count ? (\n                        <StackItem>\n                          <BellSlashIcon size=\"sm\" />\n                          &nbsp;\n                          {value.hosts_acked_count &&\n                          !value.impacted_systems_count\n                            ? intl.formatMessage(\n                                messages.ruleIsDisabledForAllSystems\n                              )\n                            : intl.formatMessage(\n                                messages.ruleIsDisabledForSystemsBody,\n                                { systems: value.hosts_acked_count }\n                              )}\n                          &nbsp;{' '}\n                          <Button\n                            isInline\n                            variant=\"link\"\n                            ouiaId=\"viewSystem\"\n                            onClick={() => {\n                              setViewSystemsModalRule(value);\n                              setViewSystemsModalOpen(true);\n                            }}\n                          >\n                            {intl.formatMessage(messages.viewSystems)}\n                          </Button>\n                        </StackItem>\n                      ) : (\n                        <React.Fragment></React.Fragment>\n                      )}\n                      <RuleDetails\n                        rule={value}\n                        resolutionRisk={ruleResolutionRisk(value)}\n                        riskOfChangeDesc={\n                          AppConstants.RISK_OF_CHANGE_DESC[\n                            ruleResolutionRisk(value)\n                          ]\n                        }\n                      />\n                    </Stack>\n                  </Main>\n                ),\n              },\n            ],\n          },\n        ]);\n        setRows(rows);\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [rules]);\n\n  useEffect(() => {\n    if (!filterBuilding && !isLoading) {\n      const filter = { ...filters };\n      const text = searchText.length ? { text: searchText } : {};\n      delete filter.text;\n      setFilters({ ...filter, ...text, offset: 0 });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [debouncedSearchText]);\n\n  const removeFilterParam = (param) => {\n    const filter = { ...filters, offset: 0 };\n    param === 'text' && setSearchText('');\n    delete filter[param];\n    setFilters(filter);\n  };\n\n  const addFilterParam = (param, values) => {\n    values.length > 0\n      ? setFilters({ ...filters, offset: 0, ...{ [param]: values } })\n      : removeFilterParam(param);\n  };\n\n  const filterConfigItems = [\n    {\n      label: intl.formatMessage(messages.name).toLowerCase(),\n      filterValues: {\n        key: 'text-filter',\n        onChange: (_event, value) => setSearchText(value),\n        value: searchText,\n        placeholder: intl.formatMessage(messages.filterBy),\n      },\n    },\n    {\n      label: FC.total_risk.title,\n      type: FC.total_risk.type,\n      id: FC.total_risk.urlParam,\n      value: `checkbox-${FC.total_risk.urlParam}`,\n      filterValues: {\n        key: `${FC.total_risk.urlParam}-filter`,\n        onChange: (_event, values) =>\n          addFilterParam(FC.total_risk.urlParam, values),\n        value: filters.total_risk,\n        items: FC.total_risk.values,\n      },\n    },\n    {\n      label: FC.res_risk.title,\n      type: FC.res_risk.type,\n      id: FC.res_risk.urlParam,\n      value: `checkbox-${FC.res_risk.urlParam}`,\n      filterValues: {\n        key: `${FC.res_risk.urlParam}-filter`,\n        onChange: (_event, values) =>\n          addFilterParam(FC.res_risk.urlParam, values),\n        value: filters.res_risk,\n        items: FC.res_risk.values,\n      },\n    },\n    {\n      label: FC.impact.title,\n      type: FC.impact.type,\n      id: FC.impact.urlParam,\n      value: `checkbox-${FC.impact.urlParam}`,\n      filterValues: {\n        key: `${FC.impact.urlParam}-filter`,\n        onChange: (_event, values) =>\n          addFilterParam(FC.impact.urlParam, values),\n        value: filters.impact,\n        items: FC.impact.values,\n      },\n    },\n    {\n      label: FC.likelihood.title,\n      type: FC.likelihood.type,\n      id: FC.likelihood.urlParam,\n      value: `checkbox-${FC.likelihood.urlParam}`,\n      filterValues: {\n        key: `${FC.likelihood.urlParam}-filter`,\n        onChange: (_event, values) =>\n          addFilterParam(FC.likelihood.urlParam, values),\n        value: filters.likelihood,\n        items: FC.likelihood.values,\n      },\n    },\n    {\n      label: FC.category.title,\n      type: FC.category.type,\n      id: FC.category.urlParam,\n      value: `checkbox-${FC.category.urlParam}`,\n      filterValues: {\n        key: `${FC.category.urlParam}-filter`,\n        onChange: (_event, values) =>\n          addFilterParam(FC.category.urlParam, values),\n        value: filters.category,\n        items: FC.category.values,\n      },\n    },\n    {\n      label: FC.incident.title,\n      type: FC.incident.type,\n      id: FC.incident.urlParam,\n      value: `checkbox-${FC.incident.urlParam}`,\n      filterValues: {\n        key: `${FC.incident.urlParam}-filter`,\n        onChange: (_event, values) =>\n          addFilterParam(FC.incident.urlParam, values),\n        value: filters.incident,\n        items: FC.incident.values,\n      },\n    },\n    {\n      label: FC.has_playbook.title,\n      type: FC.has_playbook.type,\n      id: FC.has_playbook.urlParam,\n      value: `checkbox-${FC.has_playbook.urlParam}`,\n      filterValues: {\n        key: `${FC.has_playbook.urlParam}-filter`,\n        onChange: (_event, values) =>\n          addFilterParam(FC.has_playbook.urlParam, values),\n        value: filters.has_playbook,\n        items: FC.has_playbook.values,\n      },\n    },\n    {\n      label: FC.reboot.title,\n      type: FC.reboot.type,\n      id: FC.reboot.urlParam,\n      value: `checkbox-${FC.reboot.urlParam}`,\n      filterValues: {\n        key: `${FC.reboot.urlParam}-filter`,\n        onChange: (_event, values) =>\n          addFilterParam(FC.reboot.urlParam, values),\n        value: filters.reboot,\n        items: FC.reboot.values,\n      },\n    },\n    {\n      label: FC.rule_status.title,\n      type: FC.rule_status.type,\n      id: FC.rule_status.urlParam,\n      value: `radio-${FC.rule_status.urlParam}`,\n      filterValues: {\n        key: `${FC.rule_status.urlParam}-filter`,\n        onChange: (_event, value) => toggleRulesDisabled(value),\n        value: `${filters.rule_status}`,\n        items: FC.rule_status.values,\n      },\n    },\n    {\n      label: FC.impacting.title,\n      type: FC.impacting.type,\n      id: FC.impacting.urlParam,\n      value: `checkbox-${FC.impacting.urlParam}`,\n      filterValues: {\n        key: `${FC.impacting.urlParam}-filter`,\n        onChange: (e, values) => addFilterParam(FC.impacting.urlParam, values),\n        value: filters.impacting,\n        items: FC.impacting.values,\n      },\n    },\n  ];\n\n  const activeFiltersConfig = {\n    deleteTitle: intl.formatMessage(messages.resetFilters),\n    filters: buildFilterChips(),\n    onDelete: (_event, itemsToRemove, isAll) => {\n      if (isAll) {\n        setSearchText('');\n        setFilters({\n          ...(filters.topic && { topic: filters.topic }),\n          impacting: ['true'],\n          rule_status: 'enabled',\n          limit: filters.limit,\n          offset: filters.offset,\n        });\n      } else {\n        itemsToRemove.map((item) => {\n          const newFilter = {\n            [item.urlParam]: Array.isArray(filters[item.urlParam])\n              ? filters[item.urlParam].filter(\n                  (value) => String(value) !== String(item.chips[0].value)\n                )\n              : '',\n          };\n          newFilter[item.urlParam].length > 0\n            ? setFilters({ ...filters, ...newFilter })\n            : removeFilterParam(item.urlParam);\n        });\n      }\n    },\n  };\n\n  const afterViewSystemsFn = () => {\n    refetch();\n  };\n\n  const onExpandAllClick = (_e, isOpen) => {\n    const allRows = [...rows];\n    setIsAllExpanded(isOpen);\n    allRows.map((row, key) => {\n      if (Object.prototype.hasOwnProperty.call(row, 'isOpen')) {\n        allRows[key] = { ...row, isOpen };\n      }\n    });\n\n    setRows(allRows);\n  };\n\n  return (\n    <React.Fragment>\n      {viewSystemsModalOpen && (\n        <ViewHostAcks\n          handleModalToggle={(toggleModal) =>\n            setViewSystemsModalOpen(toggleModal)\n          }\n          isModalOpen={viewSystemsModalOpen}\n          afterFn={afterViewSystemsFn}\n          rule={viewSystemsModalRule}\n        />\n      )}\n      {disableRuleOpen && (\n        <DisableRule\n          handleModalToggle={setDisableRuleOpen}\n          isModalOpen={disableRuleOpen}\n          rule={selectedRule}\n          afterFn={refetch}\n        />\n      )}\n      <PrimaryToolbar\n        expandAll={{ isAllExpanded, onClick: onExpandAllClick }}\n        pagination={{\n          itemCount: results,\n          page: filters.offset / filters.limit + 1,\n          perPage: Number(filters.limit),\n          onSetPage(_event, page) {\n            onSetPage(page);\n          },\n          onPerPageSelect(_event, perPage) {\n            setFilters({ ...filters, limit: perPage, offset: 0 });\n          },\n          isCompact: true,\n        }}\n        exportConfig={{\n          label: intl.formatMessage(messages.exportCsv),\n          // eslint-disable-next-line no-dupe-keys\n          label: intl.formatMessage(messages.exportJson),\n          onSelect: (_e, fileType) =>\n            downloadReport(\n              'hits',\n              fileType,\n              filters,\n              selectedTags,\n              workloads,\n              SID,\n              null,\n              dispatch\n            ),\n          isDisabled:\n            !permsExport ||\n            !filters.impacting ||\n            (Array.isArray(filters.impacting) &&\n              !filters.impacting.every((item) => item === 'true')),\n          tooltipText: permsExport\n            ? intl.formatMessage(messages.exportData)\n            : intl.formatMessage(messages.permsAction),\n        }}\n        filterConfig={{ items: filterConfigItems }}\n        activeFiltersConfig={activeFiltersConfig}\n      />\n      {isFetching ? (\n        <Loading />\n      ) : isError ? (\n        <Failed\n          message={intl.formatMessage(messages.rulesTableFetchRulesError)}\n        />\n      ) : (\n        <Table\n          aria-label={'rule-table'}\n          variant={TableVariant.compact}\n          actionResolver={actionResolver}\n          onCollapse={handleOnCollapse}\n          sortBy={sortBy}\n          onSort={onSort}\n          cells={cols}\n          rows={rows}\n          areActionsDisabled={() => !permsDisableRec}\n          isStickyHeader\n        >\n          <TableHeader />\n          <TableBody />\n        </Table>\n      )}\n      <Pagination\n        ouiaId=\"page\"\n        itemCount={results}\n        page={filters.offset / filters.limit + 1}\n        perPage={Number(filters.limit)}\n        onSetPage={(_e, page) => {\n          onSetPage(page);\n        }}\n        onPerPageSelect={(_e, perPage) => {\n          setFilters({ ...filters, limit: perPage, offset: 0 });\n        }}\n        widgetId={`pagination-options-menu-bottom`}\n        variant={PaginationVariant.bottom}\n      />\n    </React.Fragment>\n  );\n};\n\nexport default RulesTable;\n","import { useEffect, useState } from 'react';\n\nconst Debounce = (value, delay) => {\n  const [debouncedValue, setDebouncedValue] = useState(value);\n  useEffect(() => {\n    const handler = setTimeout(() => {\n      setDebouncedValue(value);\n    }, delay);\n    return () => {\n      clearTimeout(handler);\n    };\n  }, [delay, value]);\n\n  return debouncedValue;\n};\n\nexport default Debounce;\n"],"names":["CategoryLabel","arr","labelList","intl","useIntl","sortedFrequencyList","map","label","id","Object","entries","reduce","acc","curr","sort","a","b","icon","text","Label","variant","color","numLabels","formatMessage","messages","labels","Number","propTypes","PropTypes","EmptyState","filters","toggleRulesDisabled","message","messageMapping","rule_status","MessageState","CheckCircleIcon","iconClass","title","body","Button","style","paddingTop","onClick","enabled","Text","disabled","rhdisabled","default","dispatch","useDispatch","search","useLocation","permsExport","usePermissions","AppConstants","hasAccess","permsDisableRec","useState","transforms","sortable","cellWidth","fitContent","cols","selectedTags","useSelector","workloads","SID","recState","rows","setRows","sortBy","setSortBy","filterBuilding","setFilterBuilding","searchText","setSearchText","disableRuleOpen","setDisableRuleOpen","selectedRule","setSelectedRule","viewSystemsModalOpen","setViewSystemsModalOpen","viewSystemsModalRule","setViewSystemsModalRule","isAllExpanded","setIsAllExpanded","addNotification","data","addNotificationAction","setFilters","updateRecFilters","options","length","tags","join","workloadQueryBuilder","useGetRecsQuery","filterFetchBuilder","rules","isFetching","isLoading","isError","refetch","debouncedSearchText","debounce","DEBOUNCE_DELAY","results","meta","count","sortIndices","1","2","3","4","5","6","7","ruleResolutionRisk","rule","resolution","resolution_set","find","system_type","resolution_risk","risk","undefined","useEffect","urlBuilder","onSetPage","pageNumber","newOffset","limit","offset","impacting","hideReports","rowId","DeleteApi","rule_id","timeout","dismissable","description","paramsObject","paramParser","has_playbook","Array","isArray","incident","reboot","sortIndex","item","sortDirection","index","direction","cells","props","colSpan","emptyRows","flatMap","value","key","isOpen","Link","to","RuleLabels","DateFormat","date","publish_date","category","Tooltip","position","TooltipPosition","content","total_risk","strong","str","InsightsLabel","hideIcon","systems","impacted_systems_count","toLocaleString","className","playbook_count","size","parent","fullWidth","Main","Stack","hasGutter","hosts_acked_count","StackItem","isInline","ouiaId","RuleDetails","resolutionRisk","riskOfChangeDesc","filter","localFilters","removeFilterParam","param","addFilterParam","values","filterConfigItems","toLowerCase","filterValues","onChange","_event","placeholder","FC","type","items","res_risk","impact","likelihood","e","activeFiltersConfig","deleteTitle","topic","pruneFilters","onDelete","itemsToRemove","isAll","newFilter","urlParam","String","chips","ViewHostAcks","handleModalToggle","toggleModal","isModalOpen","afterFn","DisableRule","PrimaryToolbar","expandAll","_e","allRows","row","prototype","hasOwnProperty","call","pagination","itemCount","page","perPage","onPerPageSelect","isCompact","exportConfig","fileType","downloadReport","every","filterConfig","Loading","Failed","Table","aria-label","TableVariant","actionResolver","rowData","rowIndex","onCollapse","collapseRows","onSort","orderParam","areActionsDisabled","isStickyHeader","TableHeader","TableBody","Pagination","widgetId","PaginationVariant","delay","debouncedValue","setDebouncedValue","handler","setTimeout","clearTimeout"],"sourceRoot":""}