{"version":3,"file":"js/ImmutableDevices.9a87c580eca50c77fe52.js","mappings":"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","sources":["webpack:///./node_modules/@patternfly/react-styles/css/components/Table/table.mjs","webpack:///./node_modules/@patternfly/react-table/dist/esm/components/Table/utils/decorators/wrappable.js","webpack:///./src/PresentationalComponents/Inventory/helpers.js","webpack:///./src/PresentationalComponents/helper.js","webpack:///./src/SmartComponents/HybridInventoryTabs/ImmutableDevices.js","webpack:///./src/SmartComponents/HybridInventoryTabs/helpers.js","webpack:///./node_modules/lodash/_baseEach.js","webpack:///./node_modules/lodash/_baseMap.js","webpack:///./node_modules/lodash/_baseOrderBy.js","webpack:///./node_modules/lodash/_baseSortBy.js","webpack:///./node_modules/lodash/_compareAscending.js","webpack:///./node_modules/lodash/_compareMultiple.js","webpack:///./node_modules/lodash/_createBaseEach.js","webpack:///./node_modules/lodash/orderBy.js"],"sourcesContent":["import './table.css';\nexport default {\n  \"button\": \"pf-c-button\",\n  \"modifiers\": {\n    \"hidden\": \"pf-m-hidden\",\n    \"hiddenOnSm\": \"pf-m-hidden-on-sm\",\n    \"visibleOnSm\": \"pf-m-visible-on-sm\",\n    \"hiddenOnMd\": \"pf-m-hidden-on-md\",\n    \"visibleOnMd\": \"pf-m-visible-on-md\",\n    \"hiddenOnLg\": \"pf-m-hidden-on-lg\",\n    \"visibleOnLg\": \"pf-m-visible-on-lg\",\n    \"hiddenOnXl\": \"pf-m-hidden-on-xl\",\n    \"visibleOnXl\": \"pf-m-visible-on-xl\",\n    \"hiddenOn_2xl\": \"pf-m-hidden-on-2xl\",\n    \"visibleOn_2xl\": \"pf-m-visible-on-2xl\",\n    \"fixed\": \"pf-m-fixed\",\n    \"stickyHeader\": \"pf-m-sticky-header\",\n    \"nestedColumnHeader\": \"pf-m-nested-column-header\",\n    \"borderRow\": \"pf-m-border-row\",\n    \"striped\": \"pf-m-striped\",\n    \"expandable\": \"pf-m-expandable\",\n    \"stripedEven\": \"pf-m-striped-even\",\n    \"ghostRow\": \"pf-m-ghost-row\",\n    \"center\": \"pf-m-center\",\n    \"help\": \"pf-m-help\",\n    \"favorite\": \"pf-m-favorite\",\n    \"borderRight\": \"pf-m-border-right\",\n    \"borderLeft\": \"pf-m-border-left\",\n    \"truncate\": \"pf-m-truncate\",\n    \"wrap\": \"pf-m-wrap\",\n    \"nowrap\": \"pf-m-nowrap\",\n    \"fitContent\": \"pf-m-fit-content\",\n    \"breakWord\": \"pf-m-break-word\",\n    \"noBorderRows\": \"pf-m-no-border-rows\",\n    \"expanded\": \"pf-m-expanded\",\n    \"hoverable\": \"pf-m-hoverable\",\n    \"selected\": \"pf-m-selected\",\n    \"firstCellOffsetReset\": \"pf-m-first-cell-offset-reset\",\n    \"dragOver\": \"pf-m-drag-over\",\n    \"favorited\": \"pf-m-favorited\",\n    \"noPadding\": \"pf-m-no-padding\",\n    \"compact\": \"pf-m-compact\",\n    \"width_10\": \"pf-m-width-10\",\n    \"width_15\": \"pf-m-width-15\",\n    \"width_20\": \"pf-m-width-20\",\n    \"width_25\": \"pf-m-width-25\",\n    \"width_30\": \"pf-m-width-30\",\n    \"width_35\": \"pf-m-width-35\",\n    \"width_40\": \"pf-m-width-40\",\n    \"width_45\": \"pf-m-width-45\",\n    \"width_50\": \"pf-m-width-50\",\n    \"width_60\": \"pf-m-width-60\",\n    \"width_70\": \"pf-m-width-70\",\n    \"width_80\": \"pf-m-width-80\",\n    \"width_90\": \"pf-m-width-90\",\n    \"width_100\": \"pf-m-width-100\"\n  },\n  \"table\": \"pf-c-table\",\n  \"tableAction\": \"pf-c-table__action\",\n  \"tableButton\": \"pf-c-table__button\",\n  \"tableButtonContent\": \"pf-c-table__button-content\",\n  \"tableCheck\": \"pf-c-table__check\",\n  \"tableColumnHelp\": \"pf-c-table__column-help\",\n  \"tableColumnHelpAction\": \"pf-c-table__column-help-action\",\n  \"tableCompoundExpansionToggle\": \"pf-c-table__compound-expansion-toggle\",\n  \"tableControlRow\": \"pf-c-table__control-row\",\n  \"tableDraggable\": \"pf-c-table__draggable\",\n  \"tableExpandableRow\": \"pf-c-table__expandable-row\",\n  \"tableExpandableRowContent\": \"pf-c-table__expandable-row-content\",\n  \"tableFavorite\": \"pf-c-table__favorite\",\n  \"tableIcon\": \"pf-c-table__icon\",\n  \"tableIconInline\": \"pf-c-table__icon-inline\",\n  \"tableInlineEditAction\": \"pf-c-table__inline-edit-action\",\n  \"tableSort\": \"pf-c-table__sort\",\n  \"tableSortIndicator\": \"pf-c-table__sort-indicator\",\n  \"tableSubhead\": \"pf-c-table__subhead\",\n  \"tableText\": \"pf-c-table__text\",\n  \"tableToggle\": \"pf-c-table__toggle\",\n  \"tableToggleIcon\": \"pf-c-table__toggle-icon\",\n  \"themeDark\": \"pf-theme-dark\"\n};","import styles from '@patternfly/react-styles/css/components/Table/table';\nexport const breakWord = () => ({\n    className: styles.modifiers.breakWord\n});\nexport const fitContent = () => ({\n    className: styles.modifiers.fitContent\n});\nexport const nowrap = () => ({\n    className: styles.modifiers.nowrap\n});\nexport const truncate = () => ({\n    className: styles.modifiers.truncate\n});\nexport const wrappable = () => ({\n    className: styles.modifiers.wrap\n});\n//# sourceMappingURL=wrappable.js.map","import { Get } from '../../Utilities/Api';\nimport { mergeArraysByDiffKeys } from '../Common/Tables';\nimport { RULES_FETCH_URL, SYSTEMS_FETCH_URL } from '../../AppConstants';\nimport { createOptions } from '../helper';\n\n/*This functions purpose is to grab the currently set filters, and return all associated systems for it.*/\nexport const paginatedRequestHelper = async ({\n  per_page,\n  page,\n  advisorFilters,\n  filters,\n  workloads,\n  SID,\n  pathway,\n  rule,\n  selectedTags,\n  sort,\n}) => {\n  let options = createOptions(\n    advisorFilters,\n    page,\n    per_page,\n    sort,\n    pathway,\n    filters,\n    selectedTags,\n    workloads,\n    SID\n  );\n\n  return pathway\n    ? (\n        await Get(\n          `${SYSTEMS_FETCH_URL}`,\n          {},\n          { ...options, pathway: pathway.slug }\n        )\n      )?.data\n    : (\n        await Get(\n          `${RULES_FETCH_URL}${encodeURI(rule.rule_id)}/systems_detail/`,\n          {},\n          options\n        )\n      )?.data;\n};\n\nexport const getEntities =\n  (\n    handleRefresh,\n    pathway,\n    setCurPageIds,\n    setTotal,\n    selectedIds,\n    setFullFilters,\n    fullFilters,\n    rule\n  ) =>\n  async (_items, config, showTags, defaultGetEntities) => {\n    const {\n      per_page,\n      page,\n      orderBy,\n      orderDirection,\n      advisorFilters,\n      filters,\n      workloads,\n      SID,\n      selectedTags,\n    } = config;\n\n    //operating_system is currently not supported, but will be down the line.\n    const sort =\n      orderBy === 'operating_system'\n        ? 'rhel_version'\n        : `${orderDirection === 'ASC' ? '' : '-'}${\n            orderBy === 'updated' ? 'last_seen' : orderBy\n          }`;\n\n    let options = createOptions(\n      advisorFilters,\n      page,\n      per_page,\n      sort,\n      pathway,\n      filters,\n      selectedTags,\n      workloads,\n      SID\n    );\n    handleRefresh(options);\n    const allDetails = { ...config, pathway, handleRefresh, rule, sort };\n    setFullFilters(allDetails);\n    const fetchedSystems = await paginatedRequestHelper(allDetails);\n    const results = await defaultGetEntities(\n      fetchedSystems.data.map((system) => system.system_uuid),\n      {\n        per_page,\n        hasItems: true,\n        fields: { system_profile: ['operating_system'] },\n      },\n      showTags\n    );\n    setCurPageIds(fetchedSystems.data.map((system) => system.system_uuid));\n    setTotal(fetchedSystems.meta.count);\n    return Promise.resolve({\n      results: mergeArraysByDiffKeys(fetchedSystems.data, results.results).map(\n        (item) => {\n          return {\n            ...item,\n            selected: selectedIds?.includes(item.id),\n          };\n        }\n      ),\n      total: fetchedSystems.meta.count,\n    });\n  };\n\n/*Takes in the current filters, and keeps sending get request until there are no pages left*/\nconst fetchBatched = (fetchFunction, total, filter, batchSize = 100, rule) => {\n  const pages = Math.ceil(total / batchSize) || 1;\n  return Promise.all(\n    [...new Array(pages)].map((_, pageIdx) =>\n      fetchFunction({ ...filter, page: pageIdx + 1, per_page: batchSize, rule })\n    )\n  );\n};\n/*Grabs all systemIds and maniupaltes the data into one large array of systems*/\nexport const allCurrentSystemIds =\n  (fullFilters, total, rule, setIsLoading) => async () => {\n    setIsLoading(true);\n    const results = await (\n      await fetchBatched(paginatedRequestHelper, total, fullFilters, 100, rule)\n    ).map((item) => item.data);\n\n    const merged = [].concat.apply([], results).map((item) => item.system_uuid);\n    setIsLoading(false);\n    return merged;\n  };\n","import { buildTagFilter, workloadQueryBuilder } from './Common/Tables';\nimport { orderBy } from 'lodash';\n\nexport const createOptions = (\n  advisorFilters,\n  page,\n  per_page,\n  sort,\n  pathway,\n  filters,\n  selectedTags,\n  workloads,\n  SID,\n  systemsPage\n) => {\n  let options = {\n    ...advisorFilters,\n    limit: per_page,\n    offset: page * per_page - per_page,\n    sort: sort,\n    ...(filters?.hostnameOrId &&\n      !pathway &&\n      !systemsPage && {\n        name: filters?.hostnameOrId,\n      }),\n    ...(filters?.hostnameOrId &&\n      !pathway &&\n      systemsPage && {\n        display_name: filters?.hostnameOrId,\n      }),\n    ...(filters.hostnameOrId &&\n      pathway && {\n        display_name: filters?.hostnameOrId,\n      }),\n    ...(filters.osFilter?.length > 0 && {\n      rhel_version: filters.osFilter.map(({ value }) => value).join(','),\n    }),\n    ...(filters?.hostGroupFilter?.length && {\n      groups: filters.hostGroupFilter.join(','),\n    }),\n    ...(filters.tagFilters?.length && buildTagFilter(filters.tagFilters)),\n    ...(workloads ? workloadQueryBuilder(workloads, SID) : {}),\n    ...(selectedTags?.length > 0 ? { tags: selectedTags.join(',') } : {}),\n  };\n  return options;\n};\n\nexport const sortTopics = (data, index, direction) => {\n  let sortingName = '';\n  index === 0\n    ? (sortingName = 'name')\n    : index === 2\n    ? (sortingName = 'featured')\n    : (sortingName = 'impacted_systems_count');\n  return orderBy(data, [(result) => result[sortingName]], direction);\n};\n","import React, { useState } from 'react';\nimport { SYSTEM_FILTER_CATEGORIES as SFC } from '../../AppConstants';\nimport {\n  pruneFilters,\n  urlBuilder,\n} from '../../PresentationalComponents/Common/Tables';\nimport { useStore } from 'react-redux';\nimport {\n  useGetEntities,\n  useActionResolver,\n  useOnLoad,\n  mergeAppColumns,\n} from './helpers';\nimport PropTypes from 'prop-types';\nimport messages from '../../Messages';\nimport { useIntl } from 'react-intl';\nimport AsynComponent from '@redhat-cloud-services/frontend-components/AsyncComponent';\nimport { useNavigate } from 'react-router-dom';\n\nconst ImmutableDevices = ({\n  rule,\n  pathway,\n  selectedTags,\n  handleModalToggle,\n  isRecommendationDetail,\n}) => {\n  const store = useStore();\n  const intl = useIntl();\n  const navigate = useNavigate();\n  const [filters, setFilters] = useState({\n    limit: 20,\n    offset: 0,\n    sort: '-last_seen',\n    name: '',\n  });\n\n  const handleRefresh = (options) => {\n    const { name, display_name } = options;\n    const refreshedFilters = {\n      ...options,\n      ...(name && {\n        name,\n      }),\n      ...(display_name && {\n        display_name,\n      }),\n    };\n    !pathway && urlBuilder(refreshedFilters, selectedTags);\n  };\n\n  const fetchSystems = useGetEntities(handleRefresh, pathway, rule);\n\n  const removeFilterParam = (param) => {\n    const filter = { ...filters, offset: 0 };\n    delete filter[param];\n    setFilters(filter);\n  };\n\n  const buildFilterChips = () => {\n    const localFilters = { ...filters };\n    delete localFilters.sort;\n    delete localFilters.offset;\n    delete localFilters.limit;\n\n    return pruneFilters(localFilters, SFC);\n  };\n\n  const activeFiltersConfig = {\n    deleteTitle: intl.formatMessage(messages.resetFilters),\n    filters: buildFilterChips(),\n    onDelete: (_e, itemsToRemove, isAll) => {\n      if (isAll) {\n        setFilters({\n          sort: filters.sort,\n          limit: filters.limit,\n          offset: filters.offset,\n        });\n      } else {\n        itemsToRemove.map((item) => {\n          const newFilter = {\n            [item.urlParam]: Array.isArray(filters[item.urlParam])\n              ? filters[item.urlParam].filter(\n                  (value) => String(value) !== String(item.chips[0].value)\n                )\n              : '',\n          };\n          newFilter[item.urlParam].length > 0\n            ? setFilters({ ...filters, ...newFilter })\n            : removeFilterParam(item.urlParam);\n        });\n      }\n    },\n  };\n\n  const onSystemNameClick = (_key, systemId) => {\n    navigate(`/insights/inventory/${systemId}?appName=advisor`);\n  };\n\n  const actionResolver = useActionResolver(handleModalToggle);\n  const onLoad = useOnLoad(filters);\n\n  return (\n    <AsynComponent\n      appName=\"inventory\"\n      module=\"./ImmutableDevices\"\n      fallback={<div />}\n      store={store}\n      onLoad={onLoad}\n      key=\"inventory\"\n      customFilters={{\n        advisorFilters: {\n          ...filters,\n          //Immutable devices table should always be filtered by host_type=edge\n          'filter[system_profile][host_type]': 'edge',\n        },\n      }}\n      getEntities={fetchSystems}\n      showActions={false}\n      hideFilters={{\n        all: true,\n        name: false,\n        operatingSystem: false,\n        tags: false,\n      }}\n      mergeAppColumns={(defaultColumns) =>\n        mergeAppColumns(defaultColumns, isRecommendationDetail)\n      }\n      activeFiltersConfig={activeFiltersConfig}\n      onRowClick={onSystemNameClick}\n      {...(isRecommendationDetail ? { tableActions: actionResolver } : {})}\n    />\n  );\n};\n\nImmutableDevices.propTypes = {\n  tableProps: PropTypes.any,\n  rule: PropTypes.object,\n  afterDisableFn: PropTypes.func,\n  pathway: PropTypes.object,\n  selectedTags: PropTypes.any,\n  workloads: PropTypes.any,\n  SID: PropTypes.any,\n  permsExport: PropTypes.bool,\n  exportTable: PropTypes.string,\n  showTags: PropTypes.bool,\n  handleModalToggle: PropTypes.func,\n  isRecommendationDetail: PropTypes.bool,\n};\nexport default ImmutableDevices;\n","import { createOptions } from '../../PresentationalComponents/helper';\nimport { paginatedRequestHelper } from '../../PresentationalComponents/Inventory/helpers';\nimport { Post } from '../../Utilities/Api';\nimport { EDGE_DEVICE_BASE_URL } from '../../AppConstants';\nimport { useCallback } from 'react';\nimport { systemReducer } from '../../Store/AppReducer';\nimport { updateReducers } from '../../Store';\nimport { useStore } from 'react-redux';\nimport { wrappable } from '@patternfly/react-table';\n\nconst mergeByInventoryKey = (\n  advisorData = [],\n  inventoryData = [],\n  edgeData = [],\n  enforceEdgeGroups\n) => {\n  return inventoryData.map((inventory) => {\n    const edge = edgeData.find((device) => device.DeviceUUID === inventory.id);\n    const advisor = advisorData.find(\n      (advisor) => advisor.system_uuid === inventory.id\n    );\n\n    return {\n      ...inventory,\n      ...advisor,\n      ...edge,\n      groups: enforceEdgeGroups\n        ? edge.DeviceGroups?.map((group) => ({\n            id: group.ID,\n            name: group.Name,\n          })) || []\n        : inventory.groups,\n    };\n  });\n};\n\nexport const useGetEntities =\n  (handleRefresh, pathway, rule) =>\n  async (_items, config, showTags, defaultGetEntities) => {\n    const {\n      per_page,\n      page,\n      orderBy,\n      orderDirection,\n      advisorFilters,\n      filters,\n      workloads,\n      SID,\n      selectedTags,\n    } = config;\n    //operating_system is currently not supported, but will be down the line.\n    const sort =\n      orderBy === 'operating_system'\n        ? 'rhel_version'\n        : `${orderDirection === 'ASC' ? '' : '-'}${\n            orderBy === 'updated' ? 'last_seen' : orderBy\n          }`;\n\n    let options = createOptions(\n      advisorFilters,\n      page,\n      per_page,\n      sort,\n      pathway,\n      filters,\n      selectedTags,\n      workloads,\n      SID\n    );\n    handleRefresh(options);\n    const allDetails = { ...config, pathway, rule, sort };\n    const advisorData = await paginatedRequestHelper(allDetails);\n    const systemIDs = advisorData?.data?.map((system) => system.system_uuid);\n\n    const inventoryData = await defaultGetEntities(\n      systemIDs,\n      {\n        per_page,\n        hasItems: true,\n        fields: { system_profile: ['operating_system'] },\n      },\n      showTags\n    );\n\n    let edgeData = [];\n    let enforceEdgeGroups = false;\n    if (systemIDs?.length) {\n      const { data: devicesData } = await Post(\n        `${EDGE_DEVICE_BASE_URL}/devices/devicesview`,\n        {},\n        { devices_uuid: systemIDs }\n      );\n\n      edgeData = devicesData?.data?.devices || [];\n      enforceEdgeGroups = devicesData?.data?.enforce_edge_groups;\n    }\n\n    const fullData = mergeByInventoryKey(\n      advisorData.data,\n      inventoryData.results,\n      edgeData,\n      enforceEdgeGroups\n    );\n\n    return Promise.resolve({\n      results: fullData,\n      total: advisorData.meta.count,\n    });\n  };\n\nexport const useActionResolver = (handleModalToggle) =>\n  useCallback(\n    () => [\n      {\n        title: 'Disable recommendation for system',\n        onClick: (event, rowIndex, item) => handleModalToggle(true, item),\n      },\n    ],\n    []\n  );\n\nexport const useOnLoad = (filters) => {\n  const store = useStore();\n  return useCallback(\n    ({ mergeWithEntities, INVENTORY_ACTION_TYPES, mergeWithDetail }) => {\n      store.replaceReducer(\n        updateReducers({\n          ...mergeWithEntities(systemReducer([], INVENTORY_ACTION_TYPES), {\n            page: Number(filters.offset / filters.limit + 1 || 1),\n            perPage: Number(filters.limit || 20),\n          }),\n          ...mergeWithDetail(),\n        })\n      );\n    },\n    [filters, store]\n  );\n};\n\nexport const mergeAppColumns = (defaultColumns, isRecommendationDetail) => {\n  const lastSeenColumn = defaultColumns.find(({ key }) => key === 'updated');\n  const impacted_date = {\n    key: 'impacted_date',\n    title: 'First Impacted',\n    sortKey: 'impacted_date',\n    transforms: [wrappable],\n    props: { width: 15 },\n    renderFunc: lastSeenColumn.renderFunc,\n  };\n\n  //disable sorting on OS. API does not handle this\n  const osColumn = defaultColumns.find(({ key }) => key === 'system_profile');\n  osColumn.props = { ...osColumn.props, isStatic: true };\n\n  //disable sorting on GROUPS. API does not handle this\n  const groupsColumn = defaultColumns.find(({ key }) => key === 'groups');\n  groupsColumn.props = { ...groupsColumn.props, isStatic: true };\n\n  return [\n    ...defaultColumns,\n    ...(isRecommendationDetail ? [impacted_date] : []),\n  ];\n};\n","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n","var baseEach = require('./_baseEach'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nmodule.exports = baseMap;\n","var arrayMap = require('./_arrayMap'),\n    baseGet = require('./_baseGet'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    baseSortBy = require('./_baseSortBy'),\n    baseUnary = require('./_baseUnary'),\n    compareMultiple = require('./_compareMultiple'),\n    identity = require('./identity'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `_.orderBy` without param guards.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n * @param {string[]} orders The sort orders of `iteratees`.\n * @returns {Array} Returns the new sorted array.\n */\nfunction baseOrderBy(collection, iteratees, orders) {\n  if (iteratees.length) {\n    iteratees = arrayMap(iteratees, function(iteratee) {\n      if (isArray(iteratee)) {\n        return function(value) {\n          return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);\n        }\n      }\n      return iteratee;\n    });\n  } else {\n    iteratees = [identity];\n  }\n\n  var index = -1;\n  iteratees = arrayMap(iteratees, baseUnary(baseIteratee));\n\n  var result = baseMap(collection, function(value, key, collection) {\n    var criteria = arrayMap(iteratees, function(iteratee) {\n      return iteratee(value);\n    });\n    return { 'criteria': criteria, 'index': ++index, 'value': value };\n  });\n\n  return baseSortBy(result, function(object, other) {\n    return compareMultiple(object, other, orders);\n  });\n}\n\nmodule.exports = baseOrderBy;\n","/**\n * The base implementation of `_.sortBy` which uses `comparer` to define the\n * sort order of `array` and replaces criteria objects with their corresponding\n * values.\n *\n * @private\n * @param {Array} array The array to sort.\n * @param {Function} comparer The function to define sort order.\n * @returns {Array} Returns `array`.\n */\nfunction baseSortBy(array, comparer) {\n  var length = array.length;\n\n  array.sort(comparer);\n  while (length--) {\n    array[length] = array[length].value;\n  }\n  return array;\n}\n\nmodule.exports = baseSortBy;\n","var isSymbol = require('./isSymbol');\n\n/**\n * Compares values to sort them in ascending order.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {number} Returns the sort order indicator for `value`.\n */\nfunction compareAscending(value, other) {\n  if (value !== other) {\n    var valIsDefined = value !== undefined,\n        valIsNull = value === null,\n        valIsReflexive = value === value,\n        valIsSymbol = isSymbol(value);\n\n    var othIsDefined = other !== undefined,\n        othIsNull = other === null,\n        othIsReflexive = other === other,\n        othIsSymbol = isSymbol(other);\n\n    if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n        (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n        (valIsNull && othIsDefined && othIsReflexive) ||\n        (!valIsDefined && othIsReflexive) ||\n        !valIsReflexive) {\n      return 1;\n    }\n    if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n        (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n        (othIsNull && valIsDefined && valIsReflexive) ||\n        (!othIsDefined && valIsReflexive) ||\n        !othIsReflexive) {\n      return -1;\n    }\n  }\n  return 0;\n}\n\nmodule.exports = compareAscending;\n","var compareAscending = require('./_compareAscending');\n\n/**\n * Used by `_.orderBy` to compare multiple properties of a value to another\n * and stable sort them.\n *\n * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n * of corresponding values.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {boolean[]|string[]} orders The order to sort by for each property.\n * @returns {number} Returns the sort order indicator for `object`.\n */\nfunction compareMultiple(object, other, orders) {\n  var index = -1,\n      objCriteria = object.criteria,\n      othCriteria = other.criteria,\n      length = objCriteria.length,\n      ordersLength = orders.length;\n\n  while (++index < length) {\n    var result = compareAscending(objCriteria[index], othCriteria[index]);\n    if (result) {\n      if (index >= ordersLength) {\n        return result;\n      }\n      var order = orders[index];\n      return result * (order == 'desc' ? -1 : 1);\n    }\n  }\n  // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n  // that causes it, under certain circumstances, to provide the same value for\n  // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n  // for more details.\n  //\n  // This also ensures a stable sort in V8 and other engines.\n  // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n  return object.index - other.index;\n}\n\nmodule.exports = compareMultiple;\n","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n","var baseOrderBy = require('./_baseOrderBy'),\n    isArray = require('./isArray');\n\n/**\n * This method is like `_.sortBy` except that it allows specifying the sort\n * orders of the iteratees to sort by. If `orders` is unspecified, all values\n * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n * descending or \"asc\" for ascending sort order of corresponding values.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @param {string[]} [orders] The sort orders of `iteratees`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 34 },\n *   { 'user': 'fred',   'age': 40 },\n *   { 'user': 'barney', 'age': 36 }\n * ];\n *\n * // Sort by `user` in ascending order and by `age` in descending order.\n * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n */\nfunction orderBy(collection, iteratees, orders, guard) {\n  if (collection == null) {\n    return [];\n  }\n  if (!isArray(iteratees)) {\n    iteratees = iteratees == null ? [] : [iteratees];\n  }\n  orders = guard ? undefined : orders;\n  if (!isArray(orders)) {\n    orders = orders == null ? [] : [orders];\n  }\n  return baseOrderBy(collection, iteratees, orders);\n}\n\nmodule.exports = orderBy;\n"],"names":["breakWord","className","modifiers","fitContent","nowrap","truncate","wrappable","wrap","paginatedRequestHelper","_ref2","_asyncToGenerator","_regeneratorRuntime","_callee","_ref","_yield$Get","_yield$Get2","per_page","page","advisorFilters","filters","workloads","SID","pathway","rule","selectedTags","sort","options","_context","prev","next","createOptions","Get","concat","SYSTEMS_FETCH_URL","_objectSpread","slug","t2","sent","t1","t3","data","t0","RULES_FETCH_URL","encodeURI","rule_id","t5","t4","t6","abrupt","stop","_x","apply","arguments","getEntities","handleRefresh","setCurPageIds","setTotal","selectedIds","setFullFilters","fullFilters","_ref3","_callee2","_items","config","showTags","defaultGetEntities","orderBy","orderDirection","allDetails","fetchedSystems","results","_context2","map","system","system_uuid","hasItems","fields","system_profile","meta","count","Promise","resolve","mergeArraysByDiffKeys","item","selected","includes","id","total","_x2","_x3","_x4","_x5","fetchBatched","fetchFunction","filter","batchSize","length","undefined","pages","Math","ceil","all","_toConsumableArray","Array","_","pageIdx","allCurrentSystemIds","setIsLoading","_callee3","merged","_context3","systemsPage","_filters$osFilter","_filters$hostGroupFil","_filters$tagFilters","limit","offset","hostnameOrId","name","display_name","osFilter","rhel_version","value","join","hostGroupFilter","groups","tagFilters","buildTagFilter","workloadQueryBuilder","tags","sortTopics","index","direction","sortingName","_orderBy","result","ImmutableDevices","localFilters","handleModalToggle","isRecommendationDetail","store","useStore","intl","useIntl","navigate","useNavigate","_useState","useState","_useState2","_slicedToArray","setFilters","fetchSystems","useGetEntities","refreshedFilters","urlBuilder","activeFiltersConfig","deleteTitle","formatMessage","messages","resetFilters","pruneFilters","SFC","onDelete","_e","itemsToRemove","isAll","param","newFilter","_defineProperty","urlParam","isArray","String","chips","actionResolver","useActionResolver","onLoad","useOnLoad","React","AsynComponent","_extends","appName","module","fallback","key","customFilters","showActions","hideFilters","operatingSystem","mergeAppColumns","defaultColumns","onRowClick","_key","systemId","tableActions","propTypes","tableProps","PropTypes","afterDisableFn","permsExport","exportTable","mergeByInventoryKey","advisorData","edgeData","enforceEdgeGroups","inventory","_edge$DeviceGroups","edge","find","device","DeviceUUID","advisor","DeviceGroups","group","ID","Name","_advisorData$data","systemIDs","inventoryData","_devicesData$data","_devicesData$data2","_yield$Post","devicesData","fullData","Post","EDGE_DEVICE_BASE_URL","devices_uuid","devices","enforce_edge_groups","useCallback","title","onClick","event","rowIndex","mergeWithEntities","INVENTORY_ACTION_TYPES","mergeWithDetail","replaceReducer","updateReducers","systemReducer","Number","perPage","lastSeenColumn","impacted_date","sortKey","transforms","props","width","renderFunc","osColumn","_ref4","isStatic","groupsColumn","_ref5","baseForOwn","baseEach","createBaseEach","exports","isArrayLike","collection","iteratee","arrayMap","baseGet","baseIteratee","baseMap","baseSortBy","baseUnary","compareMultiple","identity","iteratees","orders","object","other","array","comparer","isSymbol","valIsDefined","valIsNull","valIsReflexive","valIsSymbol","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","compareAscending","objCriteria","criteria","othCriteria","ordersLength","eachFunc","fromRight","iterable","Object","baseOrderBy","guard"],"sourceRoot":""}