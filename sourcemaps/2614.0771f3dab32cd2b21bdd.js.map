{"version":3,"sources":["webpack:///./src/PresentationalComponents/ReportDetails/ReportDetails.js","webpack:///./src/PresentationalComponents/ReportDetails/report-details.scss","webpack:///./src/PresentationalComponents/ReportDetails/report-details.scss?2798"],"names":["ReportDetails","report","kbaDetail","kbaLoading","rule","rulesCardClasses","classNames","templateProcessor","template","definitions","DOT_SETTINGS","doT","varname","strip","sanitizeOptions","allowedAttributes","sanitizeHtml","transformTags","ul","tagName","attribs","class","textFilter","text","replace","compiledDot","compiledMd","marked","dangerouslySetInnerHTML","__html","error","console","warn","className","style","boxShadow","widget-type","hasGutter","isCompact","reason","details","resolution","node_id","size","SkeletonSize","rel","target","href","view_uri","publishedTitle","more_info","defaultProps","propTypes","___CSS_LOADER_EXPORT___","push","module","id","update","hot","invalidate","oldLocals","accept","a","b","isNamedExport","p","isEqualLocals","dispose"],"mappings":"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","file":"js/2614.88e444225cd7abbbab2f.js","sourcesContent":["import './report-details.scss';\n\nimport {\n  Card,\n  CardBody,\n  CardHeader,\n} from '@patternfly/react-core/dist/esm/components/Card';\nimport {\n  Skeleton,\n  SkeletonSize,\n} from '@redhat-cloud-services/frontend-components/Skeleton';\nimport {\n  Stack,\n  StackItem,\n} from '@patternfly/react-core/dist/esm/layouts/Stack';\n\nimport { BullseyeIcon } from '@patternfly/react-icons/dist/esm/icons/bullseye-icon';\nimport { Divider } from '@patternfly/react-core/dist/esm/components/Divider';\nimport { ExternalLinkAltIcon } from '@patternfly/react-icons/dist/esm/icons/external-link-alt-icon';\nimport { InfoCircleIcon } from '@patternfly/react-icons/dist/esm/icons/info-circle-icon';\nimport { LightbulbIcon } from '@patternfly/react-icons/dist/esm/icons/lightbulb-icon';\nimport React from 'react';\nimport { ThumbsUpIcon } from '@patternfly/react-icons/dist/esm/icons/thumbs-up-icon';\nimport classNames from 'classnames';\nimport doT from 'dot';\nimport marked from 'marked';\nimport propTypes from 'prop-types';\nimport sanitizeHtml from 'sanitize-html';\n\nconst ReportDetails = ({ report, kbaDetail, kbaLoading }) => {\n  const rule = report.rule || report;\n  const rulesCardClasses = classNames(\n    'ins-c-inventory-advisor__card',\n    'ins-c-rules-card'\n  );\n  const templateProcessor = (template, definitions) => {\n    const DOT_SETTINGS = {\n      ...doT.templateSettings,\n      varname: ['pydata'],\n      strip: false,\n    };\n    const sanitizeOptions = {\n      allowedAttributes: {\n        ...sanitizeHtml.defaults.allowedAttributes,\n        '*': ['style'],\n      },\n      transformTags: {\n        ul() {\n          return {\n            tagName: 'ul',\n            attribs: { class: 'pf-c-list' },\n          };\n        },\n      },\n      textFilter(text) {\n        return text\n          .replace(/&amp;/g, '&')\n          .replace(/&gt;/g, '>')\n          .replace(/&lt;/g, '<');\n      },\n    };\n    const externalLinkIcon = '';\n\n    try {\n      const compiledDot = definitions\n        ? doT.template(template, DOT_SETTINGS)(definitions)\n        : template;\n      const compiledMd = marked(sanitizeHtml(compiledDot, sanitizeOptions));\n\n      return (\n        <div\n          dangerouslySetInnerHTML={{\n            __html: compiledMd\n              .replace(\n                /<ul>/gim,\n                `<ul class=\"pf-c-list\" style=\"font-size: inherit\">`\n              )\n              .replace(\n                /<a>/gim,\n                `<a> rel=\"noopener noreferrer\" target=\"_blank\"`\n              )\n              .replace(/<\\/a>/gim, ` ${externalLinkIcon}</a>`),\n          }}\n        />\n      );\n    } catch (error) {\n      console.warn(error, definitions, template); // eslint-disable-line no-console\n      return (\n        <React.Fragment>\n          {' '}\n          Ouch. We were unable to correctly render this text, instead please\n          enjoy the raw data.\n          <pre>\n            <code>{template}</code>\n          </pre>\n        </React.Fragment>\n      );\n    }\n  };\n\n  return (\n    <Card\n      className=\"ins-c-inventory-insights__report-details__override\"\n      style={{ boxShadow: 'none' }}\n    >\n      <CardBody>\n        <Stack\n          className={rulesCardClasses}\n          widget-type=\"InsightsRulesCard\"\n          hasGutter\n        >\n          <StackItem>\n            <Card className=\"ins-m-card__flat\" isCompact>\n              <CardHeader>\n                <BullseyeIcon className=\"ins-c-report-details-icon\" />\n                <strong> Detected issues</strong>\n              </CardHeader>\n              <CardBody>\n                {rule.reason && templateProcessor(rule.reason, report.details)}\n              </CardBody>\n            </Card>\n          </StackItem>\n          <Divider />\n          <StackItem>\n            <Card className=\"ins-m-card__flat\" isCompact>\n              <CardHeader>\n                <ThumbsUpIcon className=\"ins-c-report-details-icon\" />\n                <strong> Steps to resolve</strong>\n              </CardHeader>\n              <CardBody>\n                {report.resolution &&\n                  templateProcessor(\n                    report.resolution.resolution,\n                    report.details\n                  )}\n              </CardBody>\n            </Card>\n          </StackItem>\n          {rule.node_id && (\n            <React.Fragment>\n              <Divider />\n              <StackItem>\n                <Card className=\"ins-m-card__flat\" isCompact>\n                  <CardHeader>\n                    <LightbulbIcon className=\"ins-c-report-details-icon\" />\n                    <strong> Related Knowledgebase article </strong>\n                  </CardHeader>\n                  <CardBody>\n                    {kbaLoading ? (\n                      <Skeleton size={SkeletonSize.sm} />\n                    ) : (\n                      <a\n                        rel=\"noopener noreferrer\"\n                        target=\"_blank\"\n                        href={`${kbaDetail.view_uri}`}\n                      >\n                        {kbaDetail.publishedTitle\n                          ? kbaDetail.publishedTitle\n                          : `Knowledgebase article`}{' '}\n                        <ExternalLinkAltIcon />\n                      </a>\n                    )}\n                  </CardBody>\n                </Card>\n              </StackItem>\n            </React.Fragment>\n          )}\n          {rule.more_info && (\n            <React.Fragment>\n              <Divider />\n              <StackItem>\n                <Card className=\"ins-m-card__flat\" isCompact>\n                  <CardHeader>\n                    <InfoCircleIcon className=\"ins-c-report-details-icon\" />\n                    <strong> Additional info </strong>\n                  </CardHeader>\n                  <CardBody>\n                    {templateProcessor(rule.more_info, report.details)}\n                  </CardBody>\n                </Card>\n              </StackItem>\n            </React.Fragment>\n          )}\n        </Stack>\n      </CardBody>\n    </Card>\n  );\n};\n\nexport default ReportDetails;\n\nReportDetails.defaultProps = {\n  report: {},\n  kbaDetail: {},\n};\n\nReportDetails.propTypes = {\n  report: propTypes.object,\n  kbaDetail: propTypes.object,\n  kbaLoading: propTypes.bool,\n};\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".advisor .ins-c-inventory-insights__report-details__override .ins-c-rules-card .pf-c-card__header .pf-l-split__item:first-of-type{white-space:nowrap;margin-right:5px;margin-right:.3125rem}.advisor .ins-c-inventory-insights__report-details__override .ins-c-rules-card .ins-l-icon-group__with-major{display:inline}.advisor .ins-c-inventory-insights__report-details__override .ins-c-rules-card .space-between{display:flex;justify-content:space-between}.advisor .ins-c-inventory-insights__report-details__override .ins-c-rules-card .pf-c-card__header div{font-weight:600}.advisor .ins-c-inventory-insights__report-details__override .ins-c-rules-card+.ins-c-rules-card{margin-top:var(--pf-global--spacer--xl)}.advisor .ins-c-inventory-insights__report-details__override .ins-c-rules-card a[disabled]{cursor:not-allowed;color:var(--pf-global--disabled-color--200)}.advisor .ins-c-inventory-insights__report-details__override .ins-c-rules-card a[disabled]:hover{text-decoration:none}.advisor .ins-c-inventory-insights__report-details__override .ins-c-inventory-advisor__card .ins-m-card__flat{box-shadow:none;border:0px}.advisor .ins-c-inventory-insights__report-details__override .ins-c-inventory-advisor__card .pf-c-card__body svg{margin-right:5px;margin-right:.3125rem}.advisor .ins-c-inventory-insights__report-details__override .ins-c-inventory-advisor__card pre{display:block;padding:10px;padding:.59375rem;margin-top:5px;margin-top:.3125rem;color:#333;word-break:break-all;word-wrap:break-word;background-color:#f5f5f5;border:1px solid #ccc;border-radius:4px}.advisor .ins-c-inventory-insights__report-details__override .ins-c-inventory-advisor__card pre code{white-space:pre-wrap}.advisor .ins-c-inventory-insights__report-details__override .ins-c-inventory-advisor__card ol{margin-top:10px;margin-top:.625rem;margin-left:15px;margin-left:.9375rem}.advisor .ins-c-inventory-insights__report-details__override .ins-c-inventory-advisor__card p+pre,.advisor .ins-c-inventory-insights__report-details__override .ins-c-inventory-advisor__card ul+pre{margin-bottom:20px;margin-bottom:1.25rem}.advisor .ins-c-inventory-insights__report-details__override .ins-c-inventory-advisor__card .pf-c-list{margin:5px 0px;margin:.3125rem 0rem;list-style:disc;padding-left:var(--pf-global--spacer--lg)}.advisor .ins-c-inventory-insights__report-details__override .ins-c-inventory-advisor__card table{width:100%}.advisor .ins-c-inventory-insights__report-details__override .ins-c-inventory-advisor__card table tr{border-bottom:1px solid #ededed}.advisor .ins-c-inventory-insights__report-details__override .ins-c-inventory-advisor__card table tr :first-child::after{border-left:0 !important}.advisor .ins-c-inventory-insights__report-details__override .ins-c-inventory-advisor__card table th,.advisor .ins-c-inventory-insights__report-details__override .ins-c-inventory-advisor__card table td{padding:8px;padding:.5rem}.advisor .ins-c-inventory-insights__report-details__override .ins-c-inventory-advisor__card table td{background:white !important}.advisor .ins-c-inventory-insights__report-details__override .ins-c-inventory-advisor__card table th{text-align:left !important}.advisor .ins-c-inventory-insights__report-details__override .ins-c-report-details-icon{margin-right:var(--pf-global--spacer--sm)}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/PresentationalComponents/ReportDetails/report-details.scss\"],\"names\":[],\"mappings\":\"AAAA,kIACyH,kBAAkB,CAAC,gBAAgB,CAAC,qBAAqB,CADlL,6GACuR,cAAc,CADrS,8FAC2X,YAAY,CAAC,6BAA6B,CADra,sGACmgB,eAAe,CADlhB,iGAC2mB,uCAAuC,CADlpB,2FACquB,kBAAkB,CAAC,2CAA2C,CADnyB,iGAC43B,oBAAoB,CADh5B,8GACs/B,eAAe,CAAC,UAAU,CADhhC,iHACynC,gBAAgB,CAAC,qBAAqB,CAD/pC,gGACuvC,aAAa,CAAC,YAAY,CAAC,iBAAiB,CAAC,cAAc,CAAC,mBAAmB,CAAC,UAAU,CAAC,oBAAoB,CAAC,oBAAoB,CAAC,wBAAwB,CAAC,qBAAqB,CAAC,iBAAiB,CAD57C,qGACyhD,oBAAoB,CAD7iD,+FACooD,eAAe,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,oBAAoB,CAD5sD,qMACg4D,kBAAkB,CAAC,qBAAqB,CADx6D,uGACugE,cAAc,CAAC,oBAAoB,CAAC,eAAe,CAAC,yCAAyC,CADpmE,kGAC8rE,UAAU,CADxsE,qGACqyE,+BAA+B,CADp0E,yHACq7E,wBAAwB,CAD78E,0MACsoF,WAAW,CAAC,aAAa,CAD/pF,qGAC4vF,2BAA2B,CADvxF,qGACo3F,0BAA0B,CAD94F,wFAC89F,yCAAyC\",\"sourcesContent\":[\".advisor{\\n.ins-c-inventory-insights__report-details__override .ins-c-rules-card .pf-c-card__header .pf-l-split__item:first-of-type{white-space:nowrap;margin-right:5px;margin-right:.3125rem}.ins-c-inventory-insights__report-details__override .ins-c-rules-card .ins-l-icon-group__with-major{display:inline}.ins-c-inventory-insights__report-details__override .ins-c-rules-card .space-between{display:flex;justify-content:space-between}.ins-c-inventory-insights__report-details__override .ins-c-rules-card .pf-c-card__header div{font-weight:600}.ins-c-inventory-insights__report-details__override .ins-c-rules-card+.ins-c-rules-card{margin-top:var(--pf-global--spacer--xl)}.ins-c-inventory-insights__report-details__override .ins-c-rules-card a[disabled]{cursor:not-allowed;color:var(--pf-global--disabled-color--200)}.ins-c-inventory-insights__report-details__override .ins-c-rules-card a[disabled]:hover{text-decoration:none}.ins-c-inventory-insights__report-details__override .ins-c-inventory-advisor__card .ins-m-card__flat{box-shadow:none;border:0px}.ins-c-inventory-insights__report-details__override .ins-c-inventory-advisor__card .pf-c-card__body svg{margin-right:5px;margin-right:.3125rem}.ins-c-inventory-insights__report-details__override .ins-c-inventory-advisor__card pre{display:block;padding:10px;padding:.59375rem;margin-top:5px;margin-top:.3125rem;color:#333;word-break:break-all;word-wrap:break-word;background-color:#f5f5f5;border:1px solid #ccc;border-radius:4px}.ins-c-inventory-insights__report-details__override .ins-c-inventory-advisor__card pre code{white-space:pre-wrap}.ins-c-inventory-insights__report-details__override .ins-c-inventory-advisor__card ol{margin-top:10px;margin-top:.625rem;margin-left:15px;margin-left:.9375rem}.ins-c-inventory-insights__report-details__override .ins-c-inventory-advisor__card p+pre,.ins-c-inventory-insights__report-details__override .ins-c-inventory-advisor__card ul+pre{margin-bottom:20px;margin-bottom:1.25rem}.ins-c-inventory-insights__report-details__override .ins-c-inventory-advisor__card .pf-c-list{margin:5px 0px;margin:.3125rem 0rem;list-style:disc;padding-left:var(--pf-global--spacer--lg)}.ins-c-inventory-insights__report-details__override .ins-c-inventory-advisor__card table{width:100%}.ins-c-inventory-insights__report-details__override .ins-c-inventory-advisor__card table tr{border-bottom:1px solid #ededed}.ins-c-inventory-insights__report-details__override .ins-c-inventory-advisor__card table tr :first-child::after{border-left:0 !important}.ins-c-inventory-insights__report-details__override .ins-c-inventory-advisor__card table th,.ins-c-inventory-insights__report-details__override .ins-c-inventory-advisor__card table td{padding:8px;padding:.5rem}.ins-c-inventory-insights__report-details__override .ins-c-inventory-advisor__card table td{background:white !important}.ins-c-inventory-insights__report-details__override .ins-c-inventory-advisor__card table th{text-align:left !important}.ins-c-inventory-insights__report-details__override .ins-c-report-details-icon{margin-right:var(--pf-global--spacer--sm)}\\n\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!../../../node_modules/sass-loader/dist/cjs.js!./report-details.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n  if (!a && b || a && !b) {\n    return false;\n  }\n\n  var p;\n\n  for (p in a) {\n    if (isNamedExport && p === 'default') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (a[p] !== b[p]) {\n      return false;\n    }\n  }\n\n  for (p in b) {\n    if (isNamedExport && p === 'default') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (!a[p]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!../../../node_modules/sass-loader/dist/cjs.js!./report-details.scss\",\n      function () {\n        if (!isEqualLocals(oldLocals, content.locals, undefined)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nexport default content.locals || {};"],"sourceRoot":""}