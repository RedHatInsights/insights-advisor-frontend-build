{"version":3,"file":"js/Details-Pathways.1657526361707.d47733a0589a9c1e6d97.js","mappings":"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","sources":["webpack:///./src/PresentationalComponents/Cards/Pathways.js","webpack:///./src/PresentationalComponents/Common/Common.js","webpack:///./src/PresentationalComponents/Labels/RecommendationLevel.js","webpack:///./src/SmartComponents/Recs/DetailsPathways.js"],"sourcesContent":["/* eslint-disable react/prop-types */\nimport {\n  Card,\n  CardBody,\n  CardFooter,\n  CardTitle,\n} from '@patternfly/react-core/dist/esm/components/Card/index';\nimport {\n  Chart,\n  ChartAxis,\n  ChartBar,\n  ChartGroup,\n  ChartVoronoiContainer,\n} from '@patternfly/react-charts';\nimport {\n  Grid,\n  GridItem,\n} from '@patternfly/react-core/dist/esm/layouts/Grid/index';\n\nimport { Text } from '@patternfly/react-core';\nimport ArrowRightIcon from '@patternfly/react-icons/dist/esm/icons/arrow-right-icon';\nimport CategoryLabel from '../Labels/CategoryLabel';\nimport { InsightsLabel } from '@redhat-cloud-services/frontend-components/InsightsLabel';\nimport { Link } from 'react-router-dom';\nimport { RISK_OF_CHANGE_LABEL } from '../../AppConstants';\nimport React from 'react';\nimport { RebootRequired } from '../Common/Common';\nimport RecommendationLevel from '../Labels/RecommendationLevel';\nimport RuleLabels from '../Labels/RuleLabels';\nimport { Title } from '@patternfly/react-core/dist/js/components/Title/Title';\nimport chart_color_black_100 from '@patternfly/react-tokens/dist/esm/chart_color_black_100';\nimport chart_color_gold_400 from '@patternfly/react-tokens/dist/esm/chart_color_gold_400';\nimport chart_color_orange_300 from '@patternfly/react-tokens/dist/esm/chart_color_orange_300';\nimport chart_color_red_100 from '@patternfly/react-tokens/dist/esm/chart_color_red_100';\nimport messages from '../../Messages';\nimport { strong } from '../../Utilities/intlHelper';\nimport { useIntl } from 'react-intl';\n\nconst PathwayCard = (props) => {\n  const intl = useIntl();\n  const {\n    name,\n    categories,\n    impacted_systems_count,\n    description,\n    has_incident,\n    reboot_required,\n    slug,\n  } = props;\n\n  return (\n    <Card\n      isFlat\n      isPlain\n      className=\"adv-c-card-pathway adv__background--global-100\"\n    >\n      <CardBody className=\"body\">\n        <Text className=\"pf-u-pb-sm pf-u-font-weight-bold\">{name}</Text>\n        <CategoryLabel key={name} labelList={categories} />{' '}\n        <Link to={`/recommendations/pathways/systems/${slug}`}>\n          {intl.formatMessage(messages.topicCardSystemsaffected, {\n            systems: impacted_systems_count,\n          })}\n        </Link>\n      </CardBody>\n      <CardBody className=\"body\">{description}</CardBody>\n      <CardBody className=\"body\">\n        {has_incident && <RuleLabels rule={{ tags: 'incident' }} />}{' '}\n        {RebootRequired(reboot_required)}\n      </CardBody>\n      <CardFooter className=\"footer\">\n        <Link to={`/recommendations/pathways/${slug}`}>\n          {`${intl.formatMessage(messages.viewPathway)} `}\n          <ArrowRightIcon />\n        </Link>\n      </CardFooter>\n    </Card>\n  );\n};\nconst TotalRisk = (props) => {\n  const intl = useIntl();\n  const {\n    impacted_systems_count,\n    incident_count,\n    categories,\n    critical_risk_count,\n    high_risk_count,\n    medium_risk_count,\n    low_risk_count,\n  } = props;\n\n  const catString = (cats) =>\n    cats.length > 1\n      ? categories.map((cat) => cat.name).join(', ')\n      : cats[0]?.name;\n  return (\n    <Card\n      isFlat\n      isPlain\n      className=\"adv-c-card-pathway adv__background--global-100 pf-u-h-100\"\n    >\n      <CardTitle>{intl.formatMessage(messages.totalRiskPathway)}</CardTitle>\n      <CardBody className=\"body\">\n        <Grid>\n          <GridItem span={6}>\n            <div>\n              <Chart\n                ariaDesc=\"Total risk of recommendations\"\n                ariaTitle=\"Total risk of recommendations\"\n                containerComponent={\n                  <ChartVoronoiContainer\n                    labels={({ datum }) => `${datum.name}: ${datum.y}`}\n                    constrainToVisibleArea\n                  />\n                }\n                domainPadding={{\n                  x: [20, 15],\n                }}\n                height={150}\n                width={300}\n                padding={{\n                  bottom: 30,\n                  left: 45,\n                  right: 10,\n                  top: 10,\n                }}\n              >\n                <ChartAxis />\n                <ChartAxis dependentAxis showGrid />\n                <ChartGroup>\n                  <ChartBar\n                    barWidth={16}\n                    style={{\n                      data: {\n                        fill: ({ datum }) => datum.fill,\n                      },\n                    }}\n                    data={[\n                      {\n                        name: 'Critical',\n                        x: 'Critical',\n                        y: critical_risk_count,\n                        fill: chart_color_red_100.value,\n                      },\n                      {\n                        name: 'Important',\n                        x: 'Important',\n                        y: high_risk_count,\n                        fill: chart_color_orange_300.value,\n                      },\n                      {\n                        name: 'Moderate',\n                        x: 'Moderate',\n                        y: medium_risk_count,\n                        fill: chart_color_gold_400.value,\n                      },\n                      {\n                        name: 'Low',\n                        x: 'Low',\n                        y: low_risk_count,\n                        fill: chart_color_black_100.value,\n                      },\n                    ]}\n                  />\n                </ChartGroup>\n              </Chart>\n            </div>\n          </GridItem>\n          <GridItem span={6}>\n            {intl.formatMessage(messages.thisPathway, {\n              category: catString(categories),\n              systems: impacted_systems_count,\n              incidents: incident_count,\n              strong: (str) => strong(str),\n            })}\n          </GridItem>\n        </Grid>\n      </CardBody>\n    </Card>\n  );\n};\nconst Resolution = (props) => {\n  const intl = useIntl();\n  const { reboot_required, name, resolution_risk } = props;\n\n  return (\n    <Card\n      isFlat\n      isPlain\n      className=\"adv-c-card-pathway adv__background--global-100 pf-u-h-100\"\n    >\n      <CardTitle>{intl.formatMessage(messages.resolution)}</CardTitle>\n      <Grid>\n        <GridItem span={7}>\n          <CardBody className=\"body\">\n            <InsightsLabel\n              text={RISK_OF_CHANGE_LABEL[resolution_risk.risk]}\n              value={resolution_risk.risk}\n              hideIcon\n            />\n          </CardBody>\n          <CardBody className=\"body\">\n            <Title headingLevel=\"h5\" size=\"md\">\n              {name}\n            </Title>\n          </CardBody>\n\n          <CardBody className=\"body\">\n            {intl.formatMessage(messages.staticRemediationDesc)}\n          </CardBody>\n          <CardBody className=\"body\">\n            {RebootRequired(reboot_required)}\n          </CardBody>\n        </GridItem>\n        <GridItem span={5}>\n          <CardTitle>{intl.formatMessage(messages.reclvl)}</CardTitle>\n          <CardBody className=\"body\">\n            <RecommendationLevel {...props} />\n          </CardBody>\n        </GridItem>\n      </Grid>\n    </Card>\n  );\n};\n\nexport { PathwayCard, TotalRisk, Resolution };\n","import './_Common.scss';\n\nimport {\n  Text,\n  TextContent,\n  TextVariants,\n} from '@patternfly/react-core/dist/js/components/Text/index';\nimport {\n  Tooltip,\n  TooltipPosition,\n} from '@patternfly/react-core/dist/esm/components/Tooltip/';\nimport { createIntl, createIntlCache } from 'react-intl';\n\nimport OutlinedQuestionCircleIcon from '@patternfly/react-icons/dist/esm/icons/outlined-question-circle-icon';\nimport PowerOffIcon from '@patternfly/react-icons/dist/esm/icons/power-off-icon';\nimport React from 'react';\nimport { global_secondary_color_100 } from '@patternfly/react-tokens';\nimport messages from '../../Messages';\nimport { strong } from '../../Utilities/intlHelper';\n\nconst cache = createIntlCache();\nconst locale = navigator.language.slice(0, 2);\nconst intl = createIntl(\n  {\n    // eslint-disable-next-line no-console\n    onError: console.log,\n    locale,\n  },\n  cache\n);\n\nconst RebootRequired = (reboot_required) => (\n  <span className=\"adv-system-reboot-message\">\n    <PowerOffIcon\n      className={\n        reboot_required\n          ? 'adv-c-icon-reboot-required'\n          : 'adv-c-icon-no-reboot-required'\n      }\n    />\n    <TextContent className=\"adv-c-text-system-reboot-message\">\n      <Text component={TextVariants.p}>\n        {intl.formatMessage(messages.systemReboot, {\n          strong: (str) => strong(str),\n          status: reboot_required\n            ? intl.formatMessage(messages.is)\n            : intl.formatMessage(messages.isNot),\n        })}\n      </Text>\n    </TextContent>\n  </span>\n);\n\nconst QuestionTooltip = (text) => (\n  <Tooltip\n    key={text}\n    position={TooltipPosition.right}\n    content={<div>{text}</div>}\n  >\n    <span aria-label=\"Action\">\n      <OutlinedQuestionCircleIcon color={global_secondary_color_100.value} />\n    </span>\n  </Tooltip>\n);\n\nexport { RebootRequired, QuestionTooltip };\n","import { Label } from '@patternfly/react-core/dist/js/components/Label/index';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport messages from '../../Messages';\nimport { useIntl } from 'react-intl';\n\nconst RecommendationLevel = (props) => {\n  const intl = useIntl();\n  const { recommendation_level: lvl, isCompact } = props;\n\n  const label = (text, lvl, color, isCompact) => (\n    <Label color={color} isCompact={isCompact}>{`${text} - ${lvl}%`}</Label>\n  );\n\n  if (lvl >= 80) {\n    return label(intl.formatMessage(messages.high), lvl, 'red', isCompact);\n  } else if (lvl < 80 && lvl >= 50) {\n    return label(intl.formatMessage(messages.medium), lvl, 'orange', isCompact);\n  } else {\n    return label(intl.formatMessage(messages.low), lvl, 'blue', isCompact);\n  }\n};\n\nRecommendationLevel.propTypes = {\n  props: PropTypes.array,\n};\n\nexport default RecommendationLevel;\n","import './Details.scss';\n\nimport {\n  Grid,\n  GridItem,\n} from '@patternfly/react-core/dist/esm/layouts/Grid/index';\nimport {\n  PageHeader,\n  PageHeaderTitle,\n} from '@redhat-cloud-services/frontend-components/PageHeader';\nimport React, { Suspense, lazy, useEffect, useState } from 'react';\nimport {\n  Resolution,\n  TotalRisk,\n} from '../../PresentationalComponents/Cards/Pathways';\nimport {\n  Tab,\n  TabTitleText,\n  Tabs,\n} from '@patternfly/react-core/dist/esm/components/Tabs/index';\nimport { updateRecFilters, updateSysFilters } from '../../Services/Filters';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport Breadcrumbs from '../../PresentationalComponents/Breadcrumbs/Breadcrumbs';\nimport CategoryLabel from '../../PresentationalComponents/Labels/CategoryLabel';\nimport { DateFormat } from '@redhat-cloud-services/frontend-components/DateFormat';\nimport Inventory from '../../PresentationalComponents/Inventory/Inventory';\nimport Loading from '../../PresentationalComponents/Loading/Loading';\nimport { Main } from '@redhat-cloud-services/frontend-components/Main';\nimport RuleLabels from '../../PresentationalComponents/Labels/RuleLabels';\nimport messages from '../../Messages';\nimport { useGetPathwayQuery } from '../../Services/Pathways';\nimport { useIntl } from 'react-intl';\nimport { useParams } from 'react-router-dom';\nimport { workloadQueryBuilder } from '../../PresentationalComponents/Common/Tables';\nimport { useLocation } from 'react-router-dom';\n\nconst RulesTable = lazy(() =>\n  import(\n    /* webpackChunkName: 'RulesTable' */ '../../PresentationalComponents/RulesTable/RulesTable'\n  )\n);\n\nconst PathwayDetails = () => {\n  const intl = useIntl();\n  const pathwayName = useParams().id;\n  const dispatch = useDispatch();\n\n  const selectedTags = useSelector(({ filters }) => filters.selectedTags);\n  const workloads = useSelector(({ filters }) => filters.workloads);\n  const SID = useSelector(({ filters }) => filters.SID);\n  const recFilters = useSelector(({ filters }) => filters.recState);\n  const sysFilters = useSelector(({ filters }) => filters.sysState);\n\n  let options = {};\n  selectedTags?.length &&\n    (options = {\n      ...options,\n      ...{ tags: selectedTags.join(',') },\n    });\n  workloads &&\n    (options = { ...options, ...workloadQueryBuilder(workloads, SID) });\n  const { data: pathway = {}, isFetching } = useGetPathwayQuery({\n    ...options,\n    slug: pathwayName,\n  });\n  const { pathname } = useLocation();\n\n  const [activeTab, setActiveTab] = useState(\n    pathname.includes('/recommendations/pathways/systems/') ? 1 : 0\n  );\n\n  const waitForElm = (selector) => {\n    return new Promise((resolve) => {\n      if (document.querySelector(selector)) {\n        return resolve(document.querySelector(selector));\n      }\n\n      const observer = new MutationObserver(() => {\n        if (document.querySelector(selector)) {\n          resolve(document.querySelector(selector));\n          observer.disconnect();\n        }\n      });\n    });\n  };\n\n  const scrollDown = () => {\n    if (pathname.includes('/recommendations/pathways/systems/')) {\n      setTimeout(() => {\n        waitForElm('#tablesContainer').then(() => {\n          document\n            .getElementById('tablesContainer')\n            .scrollIntoView({ behavior: 'smooth' });\n        });\n      }, 5000);\n    }\n  };\n\n  useEffect(() => {\n    const initiaRecFilters = { ...recFilters };\n    const initiaSysFilters = { ...sysFilters };\n    const defaultFilters = { pathway: pathwayName, limit: 20, offset: 0 };\n    dispatch(\n      updateRecFilters({\n        ...defaultFilters,\n        sort: 'category',\n        impacting: true,\n      })\n    );\n    dispatch(\n      updateSysFilters({\n        ...defaultFilters,\n      })\n    );\n    scrollDown();\n    return () => {\n      dispatch(updateRecFilters(initiaRecFilters));\n      dispatch(updateSysFilters(initiaSysFilters));\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <React.Fragment>\n      {isFetching ? (\n        <Loading />\n      ) : (\n        <React.Fragment>\n          <PageHeader className=\"adv-c-page__header\">\n            <Breadcrumbs\n              ouiaId=\"override\"\n              current={pathway.description || ''}\n            />\n            <CategoryLabel labelList={pathway.categories} />\n            <PageHeaderTitle\n              title={\n                <React.Fragment>\n                  {pathway.description}\n                  {pathway.has_incident && (\n                    <RuleLabels rule={{ tags: 'incident' }} />\n                  )}\n                </React.Fragment>\n              }\n            />\n            <p className=\"pf-u-mb-lg\">\n              {intl.formatMessage(messages.rulesDetailsModifieddate, {\n                date: (\n                  <DateFormat\n                    date={new Date(pathway.publish_date)}\n                    type=\"onlyDate\"\n                  />\n                ),\n              })}\n            </p>\n          </PageHeader>\n          <Main className=\"pf-u-pb-0\">\n            <Grid hasGutter>\n              <GridItem sm={12} md={6}>\n                <TotalRisk {...pathway} />\n              </GridItem>\n              <GridItem sm={12} md={6}>\n                <Resolution {...pathway} />\n              </GridItem>\n            </Grid>\n          </Main>\n        </React.Fragment>\n      )}\n      {isFetching && <Loading />}\n      <Main>\n        <Tabs\n          className=\"adv__background--global-100\"\n          activeKey={activeTab}\n          onSelect={(_e, tab) => setActiveTab(tab)}\n        >\n          <Tab\n            eventKey={0}\n            title={\n              <TabTitleText>\n                {intl.formatMessage(messages.recommendations)}\n              </TabTitleText>\n            }\n          >\n            {isFetching ? (\n              <Loading />\n            ) : (\n              <Suspense fallback={<Loading />}>\n                <RulesTable />\n              </Suspense>\n            )}\n          </Tab>\n          <Tab\n            eventKey={1}\n            title={\n              <TabTitleText>\n                {intl.formatMessage(messages.systems)}\n              </TabTitleText>\n            }\n          >\n            {isFetching ? (\n              <Loading />\n            ) : (\n              <Suspense fallback={<Loading />}>\n                <Inventory\n                  tableProps={{\n                    canSelectAll: false,\n                    isStickyHeader: true,\n                  }}\n                  pathway={pathway}\n                  selectedTags={selectedTags}\n                  workloads={workloads}\n                  SID={SID}\n                  showTags={true}\n                />\n              </Suspense>\n            )}\n          </Tab>\n        </Tabs>\n      </Main>\n    </React.Fragment>\n  );\n};\n\nexport default PathwayDetails;\n"],"names":["PathwayCard","props","intl","useIntl","name","categories","impacted_systems_count","description","has_incident","reboot_required","slug","isFlat","isPlain","className","Text","key","labelList","Link","to","formatMessage","messages","systems","rule","tags","RebootRequired","TotalRisk","cats","incident_count","critical_risk_count","high_risk_count","medium_risk_count","low_risk_count","span","ariaDesc","ariaTitle","containerComponent","labels","datum","y","constrainToVisibleArea","domainPadding","x","height","width","padding","bottom","left","right","top","C","dependentAxis","showGrid","barWidth","style","data","fill","chart_color_red_100","chart_color_orange_300","chart_color_gold_400","chart_color_black_100","category","length","map","cat","join","incidents","strong","str","Resolution","resolution_risk","text","RISK_OF_CHANGE_LABEL","risk","value","hideIcon","headingLevel","size","cache","createIntlCache","locale","navigator","language","slice","createIntl","onError","console","log","TextContent","component","TextVariants","status","QuestionTooltip","position","TooltipPosition","content","color","global_secondary_color_100","RecommendationLevel","lvl","recommendation_level","isCompact","label","Label","propTypes","PropTypes","RulesTable","lazy","pathwayName","useParams","id","dispatch","useDispatch","selectedTags","useSelector","filters","workloads","SID","recFilters","recState","sysFilters","sysState","options","workloadQueryBuilder","useGetPathwayQuery","pathway","isFetching","pathname","useLocation","useState","includes","activeTab","setActiveTab","useEffect","initiaRecFilters","initiaSysFilters","defaultFilters","limit","offset","updateRecFilters","sort","impacting","updateSysFilters","setTimeout","selector","Promise","resolve","document","querySelector","observer","MutationObserver","disconnect","then","getElementById","scrollIntoView","behavior","ouiaId","current","title","date","Date","publish_date","type","hasGutter","sm","md","activeKey","onSelect","_e","tab","eventKey","T","Suspense","fallback","tableProps","canSelectAll","isStickyHeader","showTags"],"sourceRoot":""}