{"version":3,"file":"js/575.fee3fb4c59e904b3405c.js","mappings":"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","sources":["webpack:///./src/PresentationalComponents/Common/Tables.js","webpack:///./src/PresentationalComponents/Labels/RuleLabels.js","webpack:///./src/PresentationalComponents/MessageState/MessageState.js","webpack:///./src/SmartComponents/SystemAdvisor/SystemAdvisor.js","webpack:///./src/Utilities/Api.js"],"sourcesContent":["import { generateFilter } from '@redhat-cloud-services/frontend-components-utilities/helpers';\n\n// Builds returns url params from table filters, pushes to url if history object is passed\nexport const urlBuilder = (filters = {}, selectedTags = []) => {\n  const url = new URL(window.location);\n  const queryString = `${Object.keys(filters)\n    .map(\n      (key) =>\n        `${key}=${\n          Array.isArray(filters[key]) ? filters[key].join() : filters[key]\n        }`\n    )\n    .join('&')}`;\n  const params = new URLSearchParams(queryString);\n\n  //Removes invalid 'undefined' url param value\n  params.get('reports_shown') === 'undefined' && params.delete('reports_shown');\n  selectedTags?.length\n    ? params.set('tags', selectedTags)\n    : params.delete('tags');\n  window.history.replaceState(\n    null,\n    null,\n    `${url.origin}${url.pathname}?${params.toString()}${window.location.hash}`\n  );\n  return `?${queryString}`;\n};\n\n// transforms array of strings -> comma seperated strings, required by advisor api\nexport const filterFetchBuilder = (filters) =>\n  Object.assign(\n    {},\n    ...Object.entries(filters).map(([filterName, filterValue]) =>\n      Array.isArray(filterValue)\n        ? (filterValue[0] === 'true' || filterValue[0] === 'false') &&\n          filterValue.length > 1\n          ? null\n          : { [filterName]: filterValue.join() }\n        : { [filterName]: filterValue }\n    )\n  );\n\n// parses url params for use in table/filter chips\nexport const paramParser = () => {\n  const searchParams = new URLSearchParams(window.location.search);\n  return Array.from(searchParams).reduce(\n    (acc, [key, value]) => ({\n      ...acc,\n      [key]:\n        value === 'true' || value === 'false'\n          ? JSON.parse(value)\n          : value.split(','),\n    }),\n    {}\n  );\n};\n\n// create url from options\nexport const encodeOptionsToURL = (options) => {\n  return Object.entries(options).reduce((acc, [key, value], index) => {\n    return (acc += index === 0 ? `${key}=${value}` : `&${key}=${value}`);\n  }, '');\n};\n\n// capitalizes text string\nexport const capitalize = (string) =>\n  string[0].toUpperCase() + string.substring(1);\n\nexport const pruneFilters = (localFilters, filterCategories) => {\n  const prunedFilters = Object.entries(localFilters);\n  return prunedFilters.length > 0\n    ? prunedFilters.reduce((arr, item) => {\n        if (filterCategories[item[0]]) {\n          const category = filterCategories[item[0]];\n          const chips = Array.isArray(item[1])\n            ? item[1].map((value) => {\n                const selectedCategoryValue = category.values.find(\n                  (values) => values.value === String(value)\n                );\n                return selectedCategoryValue\n                  ? {\n                      name:\n                        selectedCategoryValue.text ||\n                        selectedCategoryValue.label,\n                      value,\n                    }\n                  : { name: value, value };\n              })\n            : [\n                {\n                  name: category.values.find(\n                    (values) => values.value === String(item[1])\n                  ).label,\n                  value: item[1],\n                },\n              ];\n          return [\n            ...arr,\n            {\n              category: capitalize(category.title),\n              chips,\n              urlParam: category.urlParam,\n            },\n          ];\n        } else if (item[0] === 'text') {\n          return [\n            ...arr,\n            {\n              category: 'Name',\n              chips: [{ name: item[1], value: item[1] }],\n              urlParam: item[0],\n            },\n          ];\n        } else {\n          return arr;\n        }\n      }, [])\n    : [];\n};\n\n// builds workload query filter\nexport const workloadQueryBuilder = (workloads, SID) =>\n  generateFilter(\n    {\n      system_profile: {\n        ...(workloads?.SAP?.isSelected && { sap_system: true }),\n        ...(SID?.length > 0 && { sap_sids: SID }),\n      },\n    },\n    undefined,\n    { arrayEnhancer: 'contains' }\n  );\n\n// merges two array objects by different key names\nexport const mergeArraysByDiffKeys = (advSystems, invSystems) =>\n  advSystems.map((advSys) => ({\n    ...invSystems.find(\n      (invSys) => invSys['id'] === advSys['system_uuid'] && invSys\n    ),\n    ...advSys,\n  }));\n","import './_RuleLabels.scss';\n\nimport {\n  Tooltip,\n  TooltipPosition,\n} from '@patternfly/react-core/dist/js/components/Tooltip/Tooltip';\n\nimport { Label } from '@patternfly/react-core/dist/js/components/Label/Label';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport messages from '../../Messages';\nimport { useIntl } from 'react-intl';\n\nconst RuleLabels = ({ rule }) => {\n  const intl = useIntl();\n\n  return (\n    <React.Fragment>\n      {rule?.tags?.search('incident') !== -1 && (\n        <Tooltip\n          content={intl.formatMessage(messages.incidentTooltip)}\n          position={TooltipPosition.right}\n        >\n          <Label color=\"red\" className=\"adv-c-label-incident\">\n            {intl.formatMessage(messages.incident)}\n          </Label>\n        </Tooltip>\n      )}\n      {rule?.rule_status === 'disabled' && (\n        <Tooltip\n          content={intl.formatMessage(messages.ruleIsDisabledTooltip)}\n          position={TooltipPosition.right}\n        >\n          <Label color=\"gray\">{intl.formatMessage(messages.disabled)}</Label>\n        </Tooltip>\n      )}\n      {rule?.rule_status === 'rhdisabled' && (\n        <Tooltip\n          content={intl.formatMessage(messages.ruleIsDisabledTooltip)}\n          position={TooltipPosition.right}\n        >\n          <Label color=\"gray\">\n            {intl.formatMessage(messages.redhatDisabled)}\n          </Label>\n        </Tooltip>\n      )}\n    </React.Fragment>\n  );\n};\n\nRuleLabels.propTypes = {\n  rule: PropTypes.object,\n};\n\nexport default RuleLabels;\n","import {\n  EmptyState,\n  EmptyStateVariant,\n} from '@patternfly/react-core/dist/js/components/EmptyState/EmptyState';\n\nimport CubesIcon from '@patternfly/react-icons/dist/js/icons/cubes-icon';\nimport { EmptyStateBody } from '@patternfly/react-core/dist/js/components/EmptyState/EmptyStateBody';\nimport { EmptyStateIcon } from '@patternfly/react-core/dist/js/components/EmptyState/EmptyStateIcon';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Title } from '@patternfly/react-core/dist/js/components/Title/Title';\n\nconst MessageState = ({\n  className,\n  children,\n  icon,\n  iconClass,\n  iconStyle,\n  text,\n  title,\n  variant,\n}) => (\n  <EmptyState className={className} variant={variant}>\n    {icon !== 'none' && (\n      <EmptyStateIcon className={iconClass} style={iconStyle} icon={icon} />\n    )}\n    <Title headingLevel=\"h5\" size=\"lg\">\n      {title}\n    </Title>\n    <EmptyStateBody style={{ marginBottom: '16px' }}>{text}</EmptyStateBody>\n    {children}\n  </EmptyState>\n);\n\nMessageState.propTypes = {\n  children: PropTypes.any,\n  icon: PropTypes.any,\n  iconClass: PropTypes.any,\n  iconStyle: PropTypes.any,\n  text: PropTypes.any,\n  title: PropTypes.string,\n  variant: PropTypes.any,\n  className: PropTypes.string,\n};\n\nMessageState.defaultProps = {\n  icon: CubesIcon,\n  title: '',\n  variant: EmptyStateVariant.full,\n};\n\nexport default MessageState;\n","import './SystemAdvisor.scss';\n\nimport {\n  AnsibeTowerIcon,\n  ChartSpikeIcon,\n  CheckCircleIcon,\n  CheckIcon,\n  ExternalLinkAltIcon,\n  PficonSatelliteIcon,\n  TimesCircleIcon,\n} from '@patternfly/react-icons';\nimport {\n  BASE_URL,\n  FILTER_CATEGORIES as FC,\n  IMPACT_LABEL,\n  LIKELIHOOD_LABEL,\n  RULE_CATEGORIES,\n} from '../../AppConstants';\nimport {\n  Bullseye,\n  Button,\n  Card,\n  CardBody,\n  ClipboardCopy,\n  Stack,\n  StackItem,\n  Tooltip,\n  TooltipPosition,\n} from '@patternfly/react-core';\nimport { IntlProvider, useIntl } from 'react-intl';\nimport React, { Fragment, useEffect, useState } from 'react';\nimport {\n  SortByDirection,\n  Table,\n  TableBody,\n  TableHeader,\n  TableVariant,\n  cellWidth,\n  fitContent,\n  sortable,\n} from '@patternfly/react-table';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport DateFormat from '@redhat-cloud-services/frontend-components/DateFormat';\nimport { Get } from '../../Utilities/Api';\nimport InsightsLabel from '@redhat-cloud-services/frontend-components/InsightsLabel';\nimport { List } from 'react-content-loader';\nimport MessageState from '../../PresentationalComponents/MessageState/MessageState';\nimport PrimaryToolbar from '@redhat-cloud-services/frontend-components/PrimaryToolbar';\nimport PropTypes from 'prop-types';\nimport RemediationButton from '@redhat-cloud-services/frontend-components-remediations/RemediationButton';\nimport ReportDetails from '../../PresentationalComponents/ReportDetails';\nimport RuleLabels from '../../PresentationalComponents/Labels/RuleLabels';\nimport { addNotification as addNotificationAction } from '@redhat-cloud-services/frontend-components-notifications/';\nimport { capitalize } from '../../PresentationalComponents/Common/Tables';\nimport messages from '../../Messages';\n\nconst BaseSystemAdvisor = () => {\n  const intl = useIntl();\n  const dispatch = useDispatch();\n  const addNotification = (data) => dispatch(addNotificationAction(data));\n\n  const entity = useSelector(({ entityDetails }) => entityDetails.entity);\n  const systemProfile = useSelector(({ systemProfileStore }) =>\n    systemProfileStore ? systemProfileStore.systemProfile : {}\n  );\n  const routerData = useSelector(({ routerData }) => routerData);\n\n  const [inventoryReportFetchStatus, setInventoryReportFetchStatus] =\n    useState('pending');\n  const [rows, setRows] = useState([]);\n  const [activeReports, setActiveReports] = useState([]);\n  const [kbaDetailsData, setKbaDetailsData] = useState([]);\n  const [sortBy, setSortBy] = useState({});\n  const [filters, setFilters] = useState({});\n  const [accountSettings, setAccountSettings] = useState({});\n  const [searchValue, setSearchValue] = useState('');\n  const [isSelected, setIsSelected] = useState(false);\n  const [isAllExpanded, setIsAllExpanded] = useState(false);\n  const results = rows ? rows.length / 2 : 0;\n  const satelliteManaged =\n    (systemProfile && systemProfile.satellite_managed) || false; // system is managed by satellite\n  const satelliteShowHosts = accountSettings.show_satellite_hosts || false; // setting to show satellite managed systems\n  const hideResultsSatelliteManaged = !satelliteShowHosts && satelliteManaged;\n  const getSelectedItems = (rows) => rows.filter((entity) => entity.selected);\n  const selectedAnsibleRules = getSelectedItems(rows).filter(\n    (r) => r.resolution && r.resolution.has_playbook\n  );\n  const selectedItemsLength = getSelectedItems(rows).length;\n  const selectableItemsLength = rows.filter(\n    (r) => r.resolution && r.resolution.has_playbook\n  ).length;\n\n  const cols = [\n    {\n      title: intl.formatMessage(messages.topicAddEditDescription),\n      transforms: [sortable],\n    },\n    {\n      title: intl.formatMessage(messages.added),\n      transforms: [sortable, cellWidth(15)],\n    },\n    {\n      title: intl.formatMessage(messages.totalRisk),\n      transforms: [sortable],\n    },\n    {\n      title: (\n        <span>\n          {AnsibeTowerIcon && <AnsibeTowerIcon size=\"md\" />}{' '}\n          {intl.formatMessage(messages.ansible)}\n        </span>\n      ),\n      transforms: [sortable, fitContent],\n      dataLabel: intl.formatMessage(messages.ansible),\n    },\n  ];\n\n  const onExpandAllClick = (_e, isOpen) => {\n    setIsAllExpanded(isOpen);\n    const allRows = [...rows];\n\n    allRows.map((row) => {\n      if (Object.prototype.hasOwnProperty.call(row, 'isOpen')) {\n        row.isOpen = isOpen;\n      }\n    });\n\n    setRows(allRows);\n  };\n\n  const actions = [\n    <RemediationButton\n      key=\"remediation-button\"\n      isDisabled={selectedAnsibleRules.length === 0}\n      dataProvider={() => processRemediation(selectedAnsibleRules)}\n      onRemediationCreated={(result) =>\n        addNotification(result.getNotification())\n      }\n    >\n      {AnsibeTowerIcon && (\n        <AnsibeTowerIcon size=\"sm\" className=\"ins-c-background__default\" />\n      )}{' '}\n      Remediate\n    </RemediationButton>,\n  ];\n\n  const activeRuleFirst = (activeReports) => {\n    const reports = [...activeReports];\n    const activeRuleIndex =\n      routerData && typeof routerData.params !== 'undefined'\n        ? activeReports.findIndex(\n            (report) => report.rule.rule_id === routerData.params.id\n          )\n        : -1;\n    const activeReport = reports.splice(activeRuleIndex, 1);\n\n    return activeRuleIndex !== -1\n      ? [activeReport[0], ...reports]\n      : activeReports;\n  };\n\n  const handleOnCollapse = (_e, rowId, isOpen) => {\n    const collapseRows = [...rows];\n    collapseRows[rowId] = { ...collapseRows[rowId], isOpen };\n    setRows(collapseRows);\n  };\n\n  const buildRows = (\n    activeReports,\n    kbaDetails,\n    filters,\n    rows,\n    searchValue = '',\n    kbaLoading = false\n  ) => {\n    const builtRows = activeReports.flatMap((value, key) => {\n      const rule = value.rule;\n      const resolution = value.resolution;\n      const kbaDetail = Object.keys(kbaDetails).length\n        ? kbaDetails.filter((article) => article.id === value.rule.node_id)[0]\n        : {};\n      const entity = rows.filter(\n        (rowVal, rowKey) =>\n          rowKey % 2 === 0 && rowVal.rule.rule_id === rule.rule_id && rowVal\n      );\n      const selected = entity.length ? entity[0].selected : false;\n      const isOpen = rows.length\n        ? entity.length\n          ? entity[0].isOpen\n          : false\n        : key === 0\n        ? true\n        : false;\n\n      const reportRow = [\n        {\n          rule,\n          resolution,\n          isOpen,\n          selected,\n          disableSelection: !resolution.has_playbook,\n          cells: [\n            {\n              title: (\n                <span>\n                  {rule.description} <RuleLabels rule={rule} />\n                </span>\n              ),\n            },\n            {\n              title: (\n                <div key={key}>\n                  <DateFormat\n                    date={rule.publish_date}\n                    type=\"relative\"\n                    tooltipProps={{ position: TooltipPosition.bottom }}\n                  />\n                </div>\n              ),\n            },\n            {\n              title: (\n                <div key={key} style={{ verticalAlign: 'top' }}>\n                  <Tooltip\n                    key={key}\n                    position={TooltipPosition.bottom}\n                    content={\n                      <span>\n                        The <strong>likelihood</strong> that this will be a\n                        problem is {LIKELIHOOD_LABEL[rule.likelihood]}. The{' '}\n                        <strong>impact</strong> of the problem would be &nbsp;\n                        {IMPACT_LABEL[rule.impact.impact]} if it occurred.\n                      </span>\n                    }\n                  >\n                    <InsightsLabel value={rule.total_risk} />\n                  </Tooltip>\n                </div>\n              ),\n            },\n            {\n              title: (\n                <div className=\"ins-c-center-text\" key={key}>\n                  {resolution.has_playbook ? (\n                    <CheckCircleIcon className=\"successColorOverride\" />\n                  ) : (\n                    'No'\n                  )}\n                </div>\n              ),\n            },\n          ],\n        },\n        {\n          parent: key,\n          fullWidth: true,\n          cells: [\n            {\n              title: (\n                <ReportDetails\n                  key={`child-${key}`}\n                  report={value}\n                  kbaDetail={kbaDetail}\n                  kbaLoading={kbaLoading}\n                />\n              ),\n            },\n          ],\n        },\n      ];\n      const isValidSearchValue =\n        searchValue.length === 0 ||\n        rule.description.toLowerCase().includes(searchValue.toLowerCase());\n      const isValidFilterValue =\n        Object.keys(filters).length === 0 ||\n        Object.keys(filters)\n          .map((key) => {\n            const filterValues = filters[key];\n            const rowValue = {\n              has_playbook: value.resolution.has_playbook,\n              publish_date: rule.publish_date,\n              total_risk: rule.total_risk,\n              category: RULE_CATEGORIES[rule.category.name.toLowerCase()],\n            };\n            return filterValues.find(\n              (value) => String(value) === String(rowValue[key])\n            );\n          })\n          .every((x) => x);\n\n      return isValidSearchValue && isValidFilterValue ? reportRow : [];\n    });\n    //must recalculate parent for expandable table content whenever the array size changes\n    builtRows.forEach((row, index) =>\n      row.parent ? (row.parent = index - 1) : null\n    );\n\n    return builtRows;\n  };\n\n  const onRowSelect = (_e, isSelected, rowId) =>\n    setRows(\n      buildRows(\n        activeReports,\n        kbaDetailsData,\n        filters,\n        rows.map((row, index) =>\n          index === rowId ? { ...row, selected: isSelected } : row\n        ),\n        searchValue\n      )\n    );\n\n  const onBulkSelect = (isSelected) => {\n    setIsSelected(isSelected);\n    setRows(\n      buildRows(\n        activeReports,\n        kbaDetailsData,\n        filters,\n        rows.map((row, index) =>\n          // We need to use mod 2 here to ignore children with no has_playbook param\n          index % 2 === 0 && row.resolution.has_playbook\n            ? { ...row, selected: isSelected }\n            : row\n        ),\n        searchValue\n      )\n    );\n  };\n\n  const bulkSelect = {\n    items: [\n      {\n        title: 'Select none',\n        onClick: () => onBulkSelect(false),\n      },\n      {\n        title: 'Select all',\n        onClick: () => onBulkSelect(true),\n      },\n    ],\n    count: selectedItemsLength,\n    checked: selectedItemsLength === selectableItemsLength,\n    onSelect: () => onBulkSelect(!isSelected),\n  };\n\n  const buildFilterChips = (filters) => {\n    const prunedFilters = Object.entries(filters);\n    let chips =\n      filters && prunedFilters.length > 0\n        ? prunedFilters.map((item) => {\n            const category = FC[item[0]];\n            const chips = item[1].map((value) => ({\n              name: category.values.find(\n                (values) => values.value === String(value)\n              ).label,\n              value,\n            }));\n            return {\n              category: capitalize(category.title),\n              chips,\n              urlParam: category.urlParam,\n            };\n          })\n        : [];\n    searchValue.length > 0 &&\n      chips.push({\n        category: 'Description',\n        chips: [{ name: searchValue, value: searchValue }],\n      });\n    return chips;\n  };\n\n  const onChipDelete = (_e, itemsToRemove, isAll) => {\n    if (isAll) {\n      setRows(buildRows(activeReports, kbaDetailsData, {}, rows, ''));\n      setFilters({});\n      setSearchValue('');\n    } else {\n      itemsToRemove.map((item) => {\n        if (item.category === 'Description') {\n          setRows(buildRows(activeReports, kbaDetailsData, filters, rows, ''));\n          setSearchValue('');\n        } else {\n          onFilterChange(\n            item.urlParam,\n            filters[item.urlParam].filter(\n              (value) => String(value) !== String(item.chips[0].value)\n            )\n          );\n        }\n      });\n    }\n  };\n\n  const activeFiltersConfig = {\n    deleteTitle: intl.formatMessage(messages.resetFilters),\n    filters: buildFilterChips(filters),\n    onDelete: onChipDelete,\n  };\n\n  const fetchKbaDetails = async (reportsData) => {\n    const kbaIds = reportsData.map(({ rule }) => rule.node_id).filter((x) => x);\n    try {\n      const kbaDetailsFetch = (\n        await Get(\n          `https://access.redhat.com/hydra/rest/search/kcs?q=id:(${kbaIds.join(\n            ` OR `\n          )})&fl=view_uri,id,publishedTitle&rows=${\n            kbaIds.length\n          }&redhat_client=$ADVISOR`,\n          {},\n          { credentials: 'include' }\n        )\n      ).data.response.docs;\n\n      setKbaDetailsData(kbaDetailsFetch);\n      setRows(\n        buildRows(reportsData, kbaDetailsFetch, filters, rows, searchValue)\n      );\n    } catch (error) {\n      console.error(error, 'KBA fetch failed.');\n    }\n  };\n\n  const onSort = (_e, index, direction) => {\n    const sortedReports = {\n      1: 'description',\n      2: 'publish_date',\n      3: 'total_risk',\n      4: 'has_playbook',\n    };\n    const key = index === 5 ? 'resolution' : 'rule';\n    const sort = (key) =>\n      activeReports\n        .concat()\n        .sort((firstItem, secondItem) =>\n          firstItem[key][sortedReports[index]] >\n          secondItem[key][sortedReports[index]]\n            ? 1\n            : secondItem[key][sortedReports[index]] >\n              firstItem[key][sortedReports[index]]\n            ? -1\n            : 0\n        );\n    const sortedReportsDirectional =\n      direction === SortByDirection.asc ? sort(key) : sort(key).reverse();\n\n    setActiveReports(sortedReportsDirectional);\n    setSortBy({\n      index,\n      direction,\n    });\n    setRows(\n      buildRows(\n        sortedReportsDirectional,\n        kbaDetailsData,\n        filters,\n        rows,\n        searchValue\n      )\n    );\n  };\n\n  const onFilterChange = (param, values) => {\n    const removeFilterParam = (param) => {\n      const filter = { ...filters };\n      delete filter[param];\n      return filter;\n    };\n\n    const newFilters =\n      values.length > 0\n        ? { ...filters, ...{ [param]: values } }\n        : removeFilterParam(param);\n    setRows(\n      buildRows(activeReports, kbaDetailsData, newFilters, rows, searchValue)\n    );\n    setFilters(newFilters);\n  };\n\n  const onInputChange = (value) => {\n    const builtRows = buildRows(\n      activeReports,\n      kbaDetailsData,\n      filters,\n      rows,\n      value\n    );\n    setSearchValue(value);\n    setRows(builtRows);\n  };\n\n  const processRemediation = (selectedAnsibleRules) => {\n    const playbookRows = selectedAnsibleRules.filter(\n      (r) => r.resolution && r.resolution.has_playbook\n    );\n    const issues = playbookRows.map((r) => ({\n      id: `advisor:${r.rule.rule_id}`,\n      description: r.rule.description,\n    }));\n    return issues.length ? { issues, systems: [entity.id] } : false;\n  };\n\n  const filterConfigItems = [\n    {\n      label: 'description',\n      filterValues: {\n        key: 'text-filter',\n        onChange: (_e, value) => onInputChange(value),\n        value: searchValue,\n      },\n    },\n    {\n      label: FC.total_risk.title,\n      type: FC.total_risk.type,\n      id: FC.total_risk.urlParam,\n      value: `checkbox-${FC.total_risk.urlParam}`,\n      filterValues: {\n        key: `${FC.total_risk.urlParam}-filter`,\n        onChange: (_e, values) =>\n          onFilterChange(FC.total_risk.urlParam, values),\n        value: filters.total_risk,\n        items: FC.total_risk.values,\n      },\n    },\n    {\n      label: FC.category.title,\n      type: FC.category.type,\n      id: FC.category.urlParam,\n      value: `checkbox-${FC.category.urlParam}`,\n      filterValues: {\n        key: `${FC.category.urlParam}-filter`,\n        onChange: (_e, values) => onFilterChange(FC.category.urlParam, values),\n        value: filters.category,\n        items: FC.category.values,\n      },\n    },\n    {\n      label: FC.has_playbook.title,\n      type: FC.has_playbook.type,\n      id: FC.has_playbook.urlParam,\n      value: `checkbox-${FC.has_playbook.urlParam}`,\n      filterValues: {\n        key: `${FC.has_playbook.urlParam}-filter`,\n        onChange: (_e, values) =>\n          onFilterChange(FC.has_playbook.urlParam, values),\n        value: filters.has_playbook,\n        items: FC.has_playbook.values,\n      },\n    },\n  ];\n\n  useEffect(() => {\n    const dataFetch = async () => {\n      try {\n        const [settingsFetch, reportsFetch] = await Promise.all([\n          (\n            await Get(`${BASE_URL}/account_setting/`, {\n              credentials: 'include',\n            })\n          ).data,\n          (\n            await Get(`${BASE_URL}/system/${entity.id}/reports/`, {\n              credentials: 'include',\n            })\n          ).data,\n        ]);\n\n        const activeRuleFirstReportsData = activeRuleFirst(reportsFetch);\n        fetchKbaDetails(activeRuleFirstReportsData);\n        setRows(\n          buildRows(\n            activeRuleFirstReportsData,\n            {},\n            filters,\n            rows,\n            searchValue,\n            true\n          )\n        );\n        setInventoryReportFetchStatus('fulfilled');\n        setActiveReports(activeRuleFirstReportsData);\n        setAccountSettings(settingsFetch);\n      } catch (error) {\n        setInventoryReportFetchStatus('failed');\n      }\n    };\n    dataFetch();\n  }, []);\n\n  return (\n    <div className=\"ins-c-inventory-insights__overrides\">\n      {inventoryReportFetchStatus === 'pending' ||\n      (inventoryReportFetchStatus === 'fulfilled' &&\n        hideResultsSatelliteManaged) ||\n      entity.insights_id === null ? (\n        <Fragment />\n      ) : (\n        <PrimaryToolbar\n          expandAll={{ isAllExpanded, onClick: onExpandAllClick }}\n          actionsConfig={{ actions }}\n          bulkSelect={bulkSelect}\n          filterConfig={{ items: filterConfigItems }}\n          pagination={\n            <Fragment>\n              {' '}\n              {results === 1\n                ? `${results} Recommendation`\n                : `${results} Recommendations`}{' '}\n            </Fragment>\n          }\n          activeFiltersConfig={activeFiltersConfig}\n        />\n      )}\n      {inventoryReportFetchStatus === 'pending' && (\n        <Card>\n          <CardBody>\n            <List />\n          </CardBody>\n        </Card>\n      )}\n      {inventoryReportFetchStatus === 'fulfilled' &&\n        (hideResultsSatelliteManaged ? (\n          <MessageState\n            icon={PficonSatelliteIcon}\n            title=\"Satellite managed system\"\n            text={\n              <span key=\"satellite managed system\">\n                Insights results can not be displayed for this host, as the\n                &quot;Hide Satellite Managed Systems&quot; setting has been\n                enabled by an org admin.\n                <br />\n                For more information on this setting and how to modify it,\n                <a\n                  href=\"https://access.redhat.com/solutions/4281761\"\n                  rel=\"noopener\"\n                >\n                  {' '}\n                  Please visit this Knowledgebase article &nbsp;\n                  <ExternalLinkAltIcon />\n                </a>\n                .\n              </span>\n            }\n          />\n        ) : activeReports.length > 0 ? (\n          <Fragment>\n            <Table\n              aria-label={'report-table'}\n              onSelect={onRowSelect}\n              onCollapse={handleOnCollapse}\n              rows={rows}\n              cells={cols}\n              sortBy={sortBy}\n              canSelectAll={false}\n              onSort={onSort}\n              variant={TableVariant.compact}\n              isStickyHeader\n            >\n              <TableHeader />\n              <TableBody />\n            </Table>\n            {results === 0 && (\n              <Card>\n                <CardBody>\n                  <MessageState\n                    title=\"No matching recommendations found\"\n                    text={`This filter criteria matches no recommendations. Try changing your filter settings.`}\n                  />\n                </CardBody>\n              </Card>\n            )}\n          </Fragment>\n        ) : entity.insights_id !== null ? (\n          <Card>\n            <CardBody>\n              <MessageState\n                icon={CheckIcon}\n                iconClass=\"ins-c-insights__check\"\n                title=\"No recommendations\"\n                text={`No known recommendations affect this system`}\n              />\n            </CardBody>\n          </Card>\n        ) : (\n          <MessageState\n            iconClass=\"chartSpikeIconColor\"\n            icon={ChartSpikeIcon}\n            title=\"Get started with Red Hat Insights\"\n            text={\n              <Bullseye>\n                <Stack hasGutter>\n                  <StackItem>\n                    1. Install the client on the RHEL system.\n                    <ClipboardCopy>yum install insights-client</ClipboardCopy>\n                  </StackItem>\n                  <StackItem>\n                    2. Register the system to Red Hat Insights.\n                    <ClipboardCopy>insights-client --register</ClipboardCopy>\n                  </StackItem>\n                </Stack>\n              </Bullseye>\n            }\n          >\n            <Button\n              component=\"a\"\n              href=\"https://access.redhat.com/products/red-hat-insights#getstarted\"\n              target=\"_blank\"\n              variant=\"primary\"\n            >\n              Getting started documentation\n            </Button>\n          </MessageState>\n        ))}\n      {inventoryReportFetchStatus === 'failed' && entity && (\n        <Card>\n          <CardBody>\n            <MessageState\n              icon={TimesCircleIcon}\n              title=\"Error getting recommendations\"\n              text={\n                entity\n                  ? `There was an error fetching recommendations for this entity. Refresh your page to try again.`\n                  : `This entity can not be found or might no longer be registered to Red Hat Insights.`\n              }\n            />\n          </CardBody>\n        </Card>\n      )}\n    </div>\n  );\n};\n\nconst SystemAdvisor = ({ customItnl, intlProps, ...props }) => {\n  const Wrapper = customItnl ? IntlProvider : Fragment;\n  return (\n    <Wrapper\n      {...(customItnl && {\n        locale: navigator.language.slice(0, 2),\n        messages,\n        onError: console.log,\n        ...intlProps,\n      })}\n    >\n      <BaseSystemAdvisor {...props} />\n    </Wrapper>\n  );\n};\n\nexport default SystemAdvisor;\n\nSystemAdvisor.propTypes = {\n  customItnl: PropTypes.bool,\n  intlProps: PropTypes.shape({\n    locale: PropTypes.string,\n    messages: PropTypes.array,\n    onError: PropTypes.func,\n  }),\n};\n","import Qs from 'qs';\nimport axios from 'axios';\n\nconst Get = (url, headers = {}, params = {}) =>\n  axios.get(url, {\n    headers,\n    params,\n    paramsSerializer(params) {\n      return Qs.stringify(params, { arrayFormat: 'repeat' });\n    },\n  });\n\nconst Post = (url, headers = {}, data = {}) =>\n  axios.post(url, data, {\n    headers,\n  });\n\nconst Put = (url, data = {}, headers = {}) => {\n  return axios.put(url, data, {\n    headers,\n  });\n};\n\nconst DeleteApi = (url, data = {}, headers = {}) => {\n  return axios.delete(url, data, {\n    headers,\n  });\n};\n\nconst AxiosBaseQuery =\n  ({ baseUrl } = { baseUrl: '' }) =>\n  async ({ url, headers, options, search, method }) => {\n    await insights.chrome.auth.getUser();\n    method === undefined && (method = 'get');\n    try {\n      const result =\n        method === 'get'\n          ? await Get(\n              `${baseUrl}${url}?${search ? `${search}` : ``}`,\n              headers,\n              options\n            )\n          : Post(`${baseUrl}${url}`, headers, options);\n\n      return { data: result.data };\n    } catch (axiosError) {\n      let err = axiosError;\n      return {\n        error: { status: err.response?.status, data: err.response?.data },\n      };\n    }\n  };\n\nexport { AxiosBaseQuery, Get, Post, Put, DeleteApi };\n"],"names":["urlBuilder","filters","selectedTags","url","URL","window","location","queryString","Object","keys","map","key","Array","isArray","join","params","URLSearchParams","get","length","set","history","replaceState","origin","pathname","toString","hash","filterFetchBuilder","assign","entries","filterName","filterValue","paramParser","searchParams","search","from","reduce","acc","value","JSON","parse","split","capitalize","string","toUpperCase","substring","pruneFilters","localFilters","filterCategories","prunedFilters","arr","item","category","chips","selectedCategoryValue","values","find","String","name","text","label","title","urlParam","workloadQueryBuilder","workloads","SID","generateFilter","system_profile","SAP","isSelected","sap_system","sap_sids","undefined","arrayEnhancer","mergeArraysByDiffKeys","advSystems","invSystems","advSys","invSys","RuleLabels","rule","intl","useIntl","tags","Tooltip","content","formatMessage","messages","position","TooltipPosition","Label","color","className","rule_status","propTypes","PropTypes","MessageState","children","icon","iconClass","iconStyle","variant","style","headingLevel","size","marginBottom","defaultProps","CubesIcon","EmptyStateVariant","BaseSystemAdvisor","dispatch","useDispatch","entity","useSelector","entityDetails","systemProfile","systemProfileStore","routerData","useState","inventoryReportFetchStatus","setInventoryReportFetchStatus","rows","setRows","activeReports","setActiveReports","kbaDetailsData","setKbaDetailsData","sortBy","setSortBy","setFilters","accountSettings","setAccountSettings","searchValue","setSearchValue","setIsSelected","isAllExpanded","setIsAllExpanded","results","satelliteManaged","satellite_managed","hideResultsSatelliteManaged","show_satellite_hosts","getSelectedItems","filter","selected","selectedAnsibleRules","r","resolution","has_playbook","selectedItemsLength","selectableItemsLength","cols","transforms","sortable","cellWidth","AnsibeTowerIcon","fitContent","dataLabel","actions","isDisabled","dataProvider","processRemediation","onRemediationCreated","result","data","getNotification","addNotificationAction","activeRuleFirst","reports","activeRuleIndex","findIndex","report","rule_id","id","activeReport","splice","buildRows","kbaDetails","kbaLoading","builtRows","flatMap","kbaDetail","article","node_id","rowVal","rowKey","isOpen","reportRow","disableSelection","cells","description","date","publish_date","type","tooltipProps","verticalAlign","LIKELIHOOD_LABEL","likelihood","IMPACT_LABEL","impact","total_risk","CheckCircleIcon","parent","fullWidth","isValidSearchValue","toLowerCase","includes","isValidFilterValue","filterValues","rowValue","RULE_CATEGORIES","every","x","forEach","row","index","onBulkSelect","bulkSelect","items","onClick","count","checked","onSelect","activeFiltersConfig","deleteTitle","FC","push","buildFilterChips","onDelete","_e","itemsToRemove","isAll","onFilterChange","fetchKbaDetails","reportsData","kbaIds","Get","credentials","kbaDetailsFetch","response","docs","console","error","param","newFilters","removeFilterParam","issues","systems","filterConfigItems","onChange","onInputChange","useEffect","Promise","BASE_URL","all","settingsFetch","reportsFetch","activeRuleFirstReportsData","dataFetch","insights_id","Fragment","expandAll","allRows","prototype","hasOwnProperty","call","actionsConfig","filterConfig","pagination","Card","CardBody","PficonSatelliteIcon","href","rel","ExternalLinkAltIcon","Table","aria-label","rowId","onCollapse","collapseRows","canSelectAll","onSort","direction","sortedReports","1","2","3","4","sort","concat","firstItem","secondItem","sortedReportsDirectional","SortByDirection","reverse","TableVariant","isStickyHeader","TableHeader","TableBody","CheckIcon","ChartSpikeIcon","Bullseye","Stack","hasGutter","StackItem","ClipboardCopy","Button","component","target","TimesCircleIcon","SystemAdvisor","customItnl","intlProps","props","Wrapper","IntlProvider","locale","navigator","language","slice","onError","log","headers","axios","paramsSerializer","Qs","arrayFormat","Post","Put","DeleteApi","AxiosBaseQuery","baseUrl","options","method","insights","chrome","auth","getUser","err","status"],"sourceRoot":""}