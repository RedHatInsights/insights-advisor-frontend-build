{"version":3,"file":"js/137.1653649635387.b42eecf4d50e6c30143e.js","mappings":"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","sources":["webpack:///./src/PresentationalComponents/Breadcrumbs/Breadcrumbs.js","webpack:///./src/PresentationalComponents/Inventory/Inventory.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n\nimport { Breadcrumb } from '@patternfly/react-core/dist/js/components/Breadcrumb/Breadcrumb';\nimport { BreadcrumbItem } from '@patternfly/react-core/dist/js/components/Breadcrumb/BreadcrumbItem';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport messages from '../../Messages';\nimport { useGetRecQuery } from '../../Services/Recs';\nimport { useIntl } from 'react-intl';\nimport { useLocation } from 'react-router-dom';\n\nconst Breadcrumbs = ({ current }) => {\n  const intl = useIntl();\n  const location = useLocation().pathname?.split('/');\n  const [items, setItems] = useState([]);\n  const skip =\n    !(location[1] === 'recommendations' && location.length === 4) ||\n    location[2] === 'pathways';\n  const { data, isFetching } = useGetRecQuery(\n    { ruleId: location[2] },\n    { skip }\n  );\n\n  useEffect(() => {\n    const buildBreadcrumbs = () => {\n      let crumbs = [];\n      // add base\n      crumbs.push({\n        title: `${intl.formatMessage(messages.insightsHeader)} ${location[1]}`,\n        navigate: `/${location[1]}`,\n      });\n\n      // if applicable, add :id breadcrumb\n      if (!skip) {\n        crumbs.push({\n          title: data?.description,\n          navigate: `/${location[1]}/${location[2]}`,\n        });\n      }\n\n      if (location[2] === 'pathways') {\n        crumbs = [\n          {\n            title: 'Advisor pathways',\n            navigate: '/recommendations/pathways',\n          },\n        ];\n      }\n\n      setItems(crumbs);\n    };\n\n    buildBreadcrumbs();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [data]);\n\n  return (\n    <React.Fragment>\n      {!isFetching && items.length > 0 ? (\n        <Breadcrumb ouiaId=\"detail\">\n          {items.map((oneLink, key) => (\n            <BreadcrumbItem key={key}>\n              <Link to={oneLink.navigate}>{oneLink.title}</Link>\n            </BreadcrumbItem>\n          ))}\n          <BreadcrumbItem isActive>{current}</BreadcrumbItem>\n        </Breadcrumb>\n      ) : (\n        intl.formatMessage(messages.loading)\n      )}\n    </React.Fragment>\n  );\n};\n\nBreadcrumbs.propTypes = {\n  current: PropTypes.string,\n};\n\nexport default Breadcrumbs;\n","import './_Inventory.scss';\n\nimport {\n  BASE_URL,\n  RULES_FETCH_URL,\n  SYSTEMS_FETCH_URL,\n} from '../../AppConstants';\nimport React, { useEffect, useState } from 'react';\nimport { TableVariant, sortable, wrappable } from '@patternfly/react-table';\nimport {\n  pruneFilters,\n  urlBuilder,\n  workloadQueryBuilder,\n  buildTagFilter,\n} from '../Common/Tables';\nimport { useDispatch, useSelector, useStore } from 'react-redux';\n\nimport DisableRule from '../../PresentationalComponents/Modals/DisableRule';\nimport { Get } from '../../Utilities/Api';\nimport { InventoryTable } from '@redhat-cloud-services/frontend-components/Inventory';\nimport Loading from '../Loading/Loading';\nimport PropTypes from 'prop-types';\nimport RemediationButton from '@redhat-cloud-services/frontend-components-remediations/RemediationButton';\nimport { SYSTEM_FILTER_CATEGORIES as SFC } from '../../AppConstants';\nimport { mergeArraysByDiffKeys } from '../Common/Tables';\nimport messages from '../../Messages';\nimport { addNotification as notification } from '@redhat-cloud-services/frontend-components-notifications/';\nimport { systemReducer } from '../../Store/AppReducer';\nimport { updateReducers } from '../../Store';\nimport { useIntl } from 'react-intl';\nimport downloadReport from '../Common/DownloadHelper';\n\nconst Inventory = ({\n  tableProps,\n  rule,\n  afterDisableFn,\n  pathway,\n  selectedTags,\n  workloads,\n  SID,\n  permsExport,\n  exportTable,\n  showTags,\n}) => {\n  const store = useStore();\n  const intl = useIntl();\n  const dispatch = useDispatch();\n  const [selected, setSelected] = useState([]);\n  const [filters, setFilters] = useState({\n    limit: 20,\n    offset: 0,\n    sort: '-last_seen',\n    name: '',\n  });\n  const entities = useSelector(({ entities }) => entities || {});\n  const onSelectRows = (id, selected) =>\n    dispatch({ type: 'SELECT_ENTITY', payload: { id, selected } });\n  const addNotification = (data) => dispatch(notification(data));\n  const [disableRuleModalOpen, setDisableRuleModalOpen] = useState(false);\n  const [bulkSelect, setBulkSelect] = useState();\n\n  const remediationDataProvider = async () => {\n    if (pathway) {\n      const pathways = (\n        await Get(\n          `${BASE_URL}/pathway/${encodeURI(pathway.slug)}/rules/`,\n          {},\n          {}\n        )\n      )?.data.data;\n\n      const systems = (\n        await Get(\n          `${BASE_URL}/pathway/${encodeURI(pathway.slug)}/reports/`,\n          {},\n          {}\n        )\n      )?.data.rules;\n\n      let issues = [];\n      pathways.forEach((rec) => {\n        let filteredSystems = [];\n\n        systems[rec.rule_id].forEach((system) => {\n          if (selected.includes(system)) {\n            filteredSystems.push(system);\n          }\n        });\n\n        if (filteredSystems.length) {\n          issues.push({\n            id: `advisor:${rec.rule_id}`,\n            description: rec.description,\n            systems: filteredSystems,\n          });\n        }\n      });\n\n      return { issues };\n    } else {\n      return {\n        issues: [\n          {\n            id: `advisor:${rule.rule_id}`,\n            description: rule.description,\n          },\n        ],\n        systems: selected,\n      };\n    }\n  };\n\n  const onRemediationCreated = (result) => {\n    onSelectRows(-1, false);\n    try {\n      result.remediation && addNotification(result.getNotification());\n    } catch (error) {\n      addNotification({\n        variant: 'danger',\n        dismissable: true,\n        title: intl.formatMessage(messages.error),\n        description: `${error}`,\n      });\n    }\n  };\n\n  const handleModalToggle = (disableRuleModalOpen) => {\n    setDisableRuleModalOpen(disableRuleModalOpen);\n  };\n\n  const bulkSelectfn = () => {\n    setBulkSelect(true);\n    onSelectRows(0, true);\n  };\n\n  const calculateSelectedItems = () =>\n    bulkSelect\n      ? setBulkSelect(false)\n      : setSelected(\n          entities?.rows\n            ?.filter((entity) => entity.selected === true)\n            .map((entity) => entity.id)\n        );\n\n  const createColumns = (defaultColumns) => {\n    let lastSeenColumn = defaultColumns.filter(({ key }) => key === 'updated');\n    let displayName = defaultColumns.filter(\n      ({ key }) => key === 'display_name'\n    );\n    let systemProfile = defaultColumns.filter(\n      ({ key }) => key === 'system_profile'\n    );\n    let tags = defaultColumns.filter(({ key }) => key === 'tags');\n\n    displayName = {\n      ...displayName[0],\n      transforms: [sortable, wrappable],\n      props: { isStatic: true },\n    };\n\n    lastSeenColumn = {\n      ...lastSeenColumn[0],\n      transforms: [sortable, wrappable],\n      props: { width: 20 },\n    };\n\n    systemProfile = {\n      ...systemProfile[0],\n      transforms: [wrappable],\n    };\n\n    tags = {\n      ...tags[0],\n    };\n\n    return [displayName, tags, systemProfile, lastSeenColumn];\n  };\n\n  const handleRefresh = (options) => {\n    /* Rec table doesn't use the same sorting params as sys table, switching between the two results in the rec table blowing up cuz its trying to\n    read the endpoint with incorrect sorting params, if we hold of on updating the sysable url params when using the this component in pathways, it\n    solves this issue for the time being*/\n    const { name, display_name } = options;\n    const refreshedFilters = {\n      ...options,\n      ...(name && {\n        name,\n      }),\n      ...(display_name && {\n        display_name,\n      }),\n    };\n    !pathway && urlBuilder(refreshedFilters, selectedTags);\n  };\n  const removeFilterParam = (param) => {\n    const filter = { ...filters, offset: 0 };\n    delete filter[param];\n    setFilters(filter);\n  };\n  const addFilterParam = (param, values) => {\n    values.length > 0\n      ? setFilters({ ...filters, offset: 0, ...{ [param]: values } })\n      : removeFilterParam(param);\n  };\n  const filterConfigItems = [\n    {\n      label: SFC.rhel_version.title.toLowerCase(),\n      type: SFC.rhel_version.type,\n      id: SFC.rhel_version.urlParam,\n      value: `checkbox-${SFC.rhel_version.urlParam}`,\n      filterValues: {\n        key: `${SFC.rhel_version.urlParam}-filter`,\n        onChange: (_e, values) => {\n          addFilterParam(SFC.rhel_version.urlParam, values);\n        },\n        value: filters.rhel_version,\n        items: SFC.rhel_version.values,\n      },\n    },\n  ];\n\n  const buildFilterChips = () => {\n    const localFilters = { ...filters };\n    delete localFilters.sort;\n    delete localFilters.offset;\n    delete localFilters.limit;\n\n    return pruneFilters(localFilters, SFC);\n  };\n\n  const checkedStatus = () => {\n    if (\n      (selected.length === entities?.rows?.length ||\n        selected.length === entities?.total) &&\n      entities?.total > 0\n    ) {\n      return 1;\n    } else if (selected.length === filters.limit || selected.length > 0) {\n      return null;\n    } else {\n      return 0;\n    }\n  };\n\n  const activeFiltersConfig = {\n    deleteTitle: intl.formatMessage(messages.resetFilters),\n    filters: buildFilterChips(),\n    onDelete: (_e, itemsToRemove, isAll) => {\n      if (isAll) {\n        setFilters({\n          sort: filters.sort,\n          limit: filters.limit,\n          offset: filters.offset,\n        });\n      } else {\n        itemsToRemove.map((item) => {\n          const newFilter = {\n            [item.urlParam]: Array.isArray(filters[item.urlParam])\n              ? filters[item.urlParam].filter(\n                  (value) => String(value) !== String(item.chips[0].value)\n                )\n              : '',\n          };\n          newFilter[item.urlParam].length > 0\n            ? setFilters({ ...filters, ...newFilter })\n            : removeFilterParam(item.urlParam);\n        });\n      }\n    },\n  };\n\n  useEffect(() => {\n    entities?.rows?.length && calculateSelectedItems(entities.rows);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [entities?.rows]);\n\n  return (\n    <React.Fragment>\n      {disableRuleModalOpen && (\n        <DisableRule\n          handleModalToggle={handleModalToggle}\n          isModalOpen={disableRuleModalOpen}\n          rule={rule}\n          afterFn={afterDisableFn}\n          hosts={selected}\n        />\n      )}\n      <InventoryTable\n        id=\"tablesContainer\"\n        hasCheckbox\n        initialLoading\n        autoRefresh\n        hideFilters={{ all: true, name: false, tags: !showTags }}\n        filterConfig={{ items: filterConfigItems }}\n        activeFiltersConfig={activeFiltersConfig}\n        columns={(defaultColumns) => createColumns(defaultColumns)}\n        tableProps={{\n          variant: TableVariant.compact,\n          ...tableProps,\n        }}\n        customFilters={{\n          advisorFilters: filters,\n          selectedTags,\n          workloads,\n          SID,\n        }}\n        showTags={showTags}\n        getEntities={async (_items, config, showTags, defaultGetEntities) => {\n          const {\n            per_page,\n            page,\n            orderBy,\n            orderDirection,\n            advisorFilters,\n            filters,\n            workloads,\n            SID,\n          } = config;\n          const sort = `${orderDirection === 'ASC' ? '' : '-'}${\n            orderBy === 'updated' ? 'last_seen' : orderBy\n          }`;\n          let options = {\n            ...advisorFilters,\n            limit: per_page,\n            offset: page * per_page - per_page,\n            sort,\n            ...(config.filters.hostnameOrId &&\n              !pathway && {\n                name: config?.filters?.hostnameOrId,\n              }),\n            ...(config.filters.hostnameOrId &&\n              pathway && {\n                display_name: config?.filters?.hostnameOrId,\n              }),\n            ...(Array.isArray(advisorFilters.rhel_version) && {\n              rhel_version: advisorFilters.rhel_version?.join(','),\n            }),\n            ...(filters.tagFilters?.length &&\n              buildTagFilter(filters.tagFilters)),\n          };\n\n          workloads &&\n            (options = { ...options, ...workloadQueryBuilder(workloads, SID) });\n\n          handleRefresh(options);\n\n          const fetchedSystems = pathway\n            ? (\n                await Get(\n                  `${SYSTEMS_FETCH_URL}`,\n                  {},\n                  { ...options, pathway: pathway.slug }\n                )\n              )?.data\n            : (\n                await Get(\n                  `${RULES_FETCH_URL}${encodeURI(\n                    rule.rule_id\n                  )}/systems_detail/`,\n                  {},\n                  options\n                )\n              )?.data;\n\n          const results = await defaultGetEntities(\n            fetchedSystems.data.map((system) => system.system_uuid),\n            {\n              page,\n              per_page,\n              hasItems: true,\n              fields: { system_profile: ['operating_system'] },\n            },\n            showTags\n          );\n\n          return Promise.resolve({\n            results: mergeArraysByDiffKeys(\n              fetchedSystems.data,\n              results.results\n            ),\n            total: fetchedSystems.meta.count,\n          });\n        }}\n        dedicatedAction={\n          <RemediationButton\n            key=\"remediation-button\"\n            isDisabled={\n              selected.length === 0 || (!pathway && rule?.playbook_count === 0)\n            }\n            dataProvider={remediationDataProvider}\n            onRemediationCreated={(result) => onRemediationCreated(result)}\n          >\n            {intl.formatMessage(messages.remediate)}\n          </RemediationButton>\n        }\n        actionsConfig={{\n          actions: [\n            '',\n            {\n              label: intl.formatMessage(messages.disableRuleForSystems),\n              props: { isDisabled: selected.length === 0 },\n              onClick: () => handleModalToggle(true),\n            },\n          ],\n        }}\n        bulkSelect={{\n          count: selected.length,\n          items: [\n            {\n              title: intl.formatMessage(messages.selectNone),\n              onClick: () => {\n                onSelectRows(-1, false);\n              },\n            },\n            {\n              title: intl.formatMessage(messages.selectPage, {\n                items: entities?.rows?.length,\n              }),\n              onClick: () => {\n                onSelectRows(0, true);\n              },\n            },\n            {\n              ...(entities?.rows?.length > 0\n                ? {\n                    title: intl.formatMessage(messages.selectAll, {\n                      items: entities?.total || 0,\n                    }),\n                    onClick: async () => {\n                      console.error(pathway);\n                      const allSystems = pathway\n                        ? (\n                            await Get(\n                              `${SYSTEMS_FETCH_URL}`,\n                              {},\n                              {\n                                pathway: pathway.slug,\n                                limit: pathway.impacted_systems_count,\n                              }\n                            )\n                          )?.data?.data?.map((system) => system.system_uuid)\n                        : (\n                            await Get(\n                              `${RULES_FETCH_URL}${encodeURI(\n                                rule.rule_id\n                              )}/systems/`,\n                              {},\n                              { name: filters.name }\n                            )\n                          )?.data?.host_ids;\n\n                      console.error(allSystems);\n                      setSelected(allSystems);\n                      bulkSelectfn();\n                    },\n                  }\n                : {}),\n            },\n          ],\n          checked: checkedStatus(),\n          onSelect: () => {\n            selected.length > 0 ? onSelectRows(-1, false) : bulkSelectfn();\n            calculateSelectedItems();\n          },\n        }}\n        fallback={Loading}\n        onLoad={({\n          mergeWithEntities,\n          INVENTORY_ACTION_TYPES,\n          mergeWithDetail,\n        }) => {\n          store.replaceReducer(\n            updateReducers({\n              ...mergeWithEntities(systemReducer([], INVENTORY_ACTION_TYPES), {\n                page: Number(filters.offset / filters.limit + 1 || 1),\n                perPage: Number(filters.limit || 20),\n              }),\n              ...mergeWithDetail(),\n            })\n          );\n        }}\n        exportConfig={\n          permsExport && {\n            label: intl.formatMessage(messages.exportCsv),\n            // eslint-disable-next-line no-dupe-keys\n            label: intl.formatMessage(messages.exportJson),\n            onSelect: (_e, fileType) =>\n              downloadReport(\n                exportTable,\n                fileType,\n                { rule_id: rule.rule_id, ...filters },\n                selectedTags,\n                workloads,\n                SID,\n                dispatch\n              ),\n            isDisabled: !permsExport || entities?.rows?.length === 0,\n            tooltipText: permsExport\n              ? intl.formatMessage(messages.exportData)\n              : intl.formatMessage(messages.permsAction),\n          }\n        }\n      />\n    </React.Fragment>\n  );\n};\n\nInventory.propTypes = {\n  tableProps: PropTypes.any,\n  rule: PropTypes.object,\n  afterDisableFn: PropTypes.func,\n  pathway: PropTypes.object,\n  selectedTags: PropTypes.any,\n  workloads: PropTypes.any,\n  SID: PropTypes.any,\n  permsExport: PropTypes.bool,\n  exportTable: PropTypes.string,\n  showTags: PropTypes.bool,\n};\n\nexport default Inventory;\n"],"names":["Breadcrumbs","current","intl","useIntl","location","useLocation","pathname","split","useState","items","setItems","skip","length","useGetRecQuery","ruleId","data","isFetching","useEffect","crumbs","push","title","formatMessage","messages","navigate","description","ouiaId","map","oneLink","key","Link","to","isActive","propTypes","PropTypes","Inventory","localFilters","tableProps","rule","afterDisableFn","pathway","selectedTags","workloads","SID","permsExport","exportTable","showTags","store","useStore","dispatch","useDispatch","selected","setSelected","limit","offset","sort","name","filters","setFilters","entities","useSelector","onSelectRows","id","type","payload","addNotification","notification","disableRuleModalOpen","setDisableRuleModalOpen","bulkSelect","setBulkSelect","remediationDataProvider","Get","BASE_URL","encodeURI","slug","pathways","rules","systems","issues","forEach","rec","filteredSystems","rule_id","system","includes","handleModalToggle","bulkSelectfn","calculateSelectedItems","rows","filter","entity","handleRefresh","options","display_name","refreshedFilters","urlBuilder","removeFilterParam","param","filterConfigItems","label","SFC","value","filterValues","onChange","_e","values","addFilterParam","rhel_version","activeFiltersConfig","deleteTitle","pruneFilters","onDelete","itemsToRemove","isAll","item","newFilter","urlParam","Array","isArray","String","chips","isModalOpen","afterFn","hosts","hasCheckbox","initialLoading","autoRefresh","hideFilters","all","tags","filterConfig","columns","defaultColumns","lastSeenColumn","displayName","systemProfile","transforms","sortable","wrappable","props","isStatic","width","createColumns","variant","TableVariant","customFilters","advisorFilters","getEntities","_items","config","defaultGetEntities","per_page","page","orderBy","orderDirection","hostnameOrId","join","tagFilters","buildTagFilter","workloadQueryBuilder","SYSTEMS_FETCH_URL","RULES_FETCH_URL","fetchedSystems","system_uuid","hasItems","fields","system_profile","results","Promise","resolve","mergeArraysByDiffKeys","total","meta","count","dedicatedAction","isDisabled","playbook_count","dataProvider","onRemediationCreated","result","remediation","getNotification","error","dismissable","actionsConfig","actions","onClick","console","impacted_systems_count","host_ids","allSystems","checked","onSelect","fallback","Loading","onLoad","mergeWithEntities","INVENTORY_ACTION_TYPES","mergeWithDetail","replaceReducer","updateReducers","systemReducer","Number","perPage","exportConfig","fileType","downloadReport"],"sourceRoot":""}