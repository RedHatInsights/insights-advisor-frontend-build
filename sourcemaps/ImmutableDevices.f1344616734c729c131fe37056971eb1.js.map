{"version":3,"file":"js/ImmutableDevices.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./node_modules/@patternfly/react-styles/css/components/Table/table.mjs","webpack:///./node_modules/@patternfly/react-table/dist/esm/components/Table/utils/decorators/wrappable.js","webpack:///./src/PresentationalComponents/Inventory/helpers.js","webpack:///./src/PresentationalComponents/helper.js","webpack:///./src/SmartComponents/HybridInventoryTabs/ImmutableDevices.js","webpack:///./src/SmartComponents/HybridInventoryTabs/helpers.js","webpack:///./node_modules/lodash/_baseEach.js","webpack:///./node_modules/lodash/_baseMap.js","webpack:///./node_modules/lodash/_baseOrderBy.js","webpack:///./node_modules/lodash/_baseSortBy.js","webpack:///./node_modules/lodash/_compareAscending.js","webpack:///./node_modules/lodash/_compareMultiple.js","webpack:///./node_modules/lodash/_createBaseEach.js","webpack:///./node_modules/lodash/orderBy.js"],"sourcesContent":["import './table.css';\nexport default {\n  \"button\": \"pf-c-button\",\n  \"modifiers\": {\n    \"hidden\": \"pf-m-hidden\",\n    \"hiddenOnSm\": \"pf-m-hidden-on-sm\",\n    \"visibleOnSm\": \"pf-m-visible-on-sm\",\n    \"hiddenOnMd\": \"pf-m-hidden-on-md\",\n    \"visibleOnMd\": \"pf-m-visible-on-md\",\n    \"hiddenOnLg\": \"pf-m-hidden-on-lg\",\n    \"visibleOnLg\": \"pf-m-visible-on-lg\",\n    \"hiddenOnXl\": \"pf-m-hidden-on-xl\",\n    \"visibleOnXl\": \"pf-m-visible-on-xl\",\n    \"hiddenOn_2xl\": \"pf-m-hidden-on-2xl\",\n    \"visibleOn_2xl\": \"pf-m-visible-on-2xl\",\n    \"fixed\": \"pf-m-fixed\",\n    \"stickyHeader\": \"pf-m-sticky-header\",\n    \"nestedColumnHeader\": \"pf-m-nested-column-header\",\n    \"borderRow\": \"pf-m-border-row\",\n    \"striped\": \"pf-m-striped\",\n    \"expandable\": \"pf-m-expandable\",\n    \"stripedEven\": \"pf-m-striped-even\",\n    \"ghostRow\": \"pf-m-ghost-row\",\n    \"center\": \"pf-m-center\",\n    \"help\": \"pf-m-help\",\n    \"favorite\": \"pf-m-favorite\",\n    \"borderRight\": \"pf-m-border-right\",\n    \"borderLeft\": \"pf-m-border-left\",\n    \"truncate\": \"pf-m-truncate\",\n    \"wrap\": \"pf-m-wrap\",\n    \"nowrap\": \"pf-m-nowrap\",\n    \"fitContent\": \"pf-m-fit-content\",\n    \"breakWord\": \"pf-m-break-word\",\n    \"noBorderRows\": \"pf-m-no-border-rows\",\n    \"expanded\": \"pf-m-expanded\",\n    \"hoverable\": \"pf-m-hoverable\",\n    \"selected\": \"pf-m-selected\",\n    \"firstCellOffsetReset\": \"pf-m-first-cell-offset-reset\",\n    \"dragOver\": \"pf-m-drag-over\",\n    \"favorited\": \"pf-m-favorited\",\n    \"noPadding\": \"pf-m-no-padding\",\n    \"compact\": \"pf-m-compact\",\n    \"width_10\": \"pf-m-width-10\",\n    \"width_15\": \"pf-m-width-15\",\n    \"width_20\": \"pf-m-width-20\",\n    \"width_25\": \"pf-m-width-25\",\n    \"width_30\": \"pf-m-width-30\",\n    \"width_35\": \"pf-m-width-35\",\n    \"width_40\": \"pf-m-width-40\",\n    \"width_45\": \"pf-m-width-45\",\n    \"width_50\": \"pf-m-width-50\",\n    \"width_60\": \"pf-m-width-60\",\n    \"width_70\": \"pf-m-width-70\",\n    \"width_80\": \"pf-m-width-80\",\n    \"width_90\": \"pf-m-width-90\",\n    \"width_100\": \"pf-m-width-100\"\n  },\n  \"table\": \"pf-c-table\",\n  \"tableAction\": \"pf-c-table__action\",\n  \"tableButton\": \"pf-c-table__button\",\n  \"tableButtonContent\": \"pf-c-table__button-content\",\n  \"tableCheck\": \"pf-c-table__check\",\n  \"tableColumnHelp\": \"pf-c-table__column-help\",\n  \"tableColumnHelpAction\": \"pf-c-table__column-help-action\",\n  \"tableCompoundExpansionToggle\": \"pf-c-table__compound-expansion-toggle\",\n  \"tableControlRow\": \"pf-c-table__control-row\",\n  \"tableDraggable\": \"pf-c-table__draggable\",\n  \"tableExpandableRow\": \"pf-c-table__expandable-row\",\n  \"tableExpandableRowContent\": \"pf-c-table__expandable-row-content\",\n  \"tableFavorite\": \"pf-c-table__favorite\",\n  \"tableIcon\": \"pf-c-table__icon\",\n  \"tableIconInline\": \"pf-c-table__icon-inline\",\n  \"tableInlineEditAction\": \"pf-c-table__inline-edit-action\",\n  \"tableSort\": \"pf-c-table__sort\",\n  \"tableSortIndicator\": \"pf-c-table__sort-indicator\",\n  \"tableSubhead\": \"pf-c-table__subhead\",\n  \"tableText\": \"pf-c-table__text\",\n  \"tableToggle\": \"pf-c-table__toggle\",\n  \"tableToggleIcon\": \"pf-c-table__toggle-icon\",\n  \"themeDark\": \"pf-theme-dark\"\n};","import styles from '@patternfly/react-styles/css/components/Table/table';\nexport const breakWord = () => ({\n    className: styles.modifiers.breakWord\n});\nexport const fitContent = () => ({\n    className: styles.modifiers.fitContent\n});\nexport const nowrap = () => ({\n    className: styles.modifiers.nowrap\n});\nexport const truncate = () => ({\n    className: styles.modifiers.truncate\n});\nexport const wrappable = () => ({\n    className: styles.modifiers.wrap\n});\n//# sourceMappingURL=wrappable.js.map","import { Get } from '../../Utilities/Api';\nimport { mergeArraysByDiffKeys } from '../Common/Tables';\nimport { RULES_FETCH_URL, SYSTEMS_FETCH_URL } from '../../AppConstants';\nimport { createOptions, createSortParam } from '../helper';\n\n/*This functions purpose is to grab the currently set filters, and return all associated systems for it.*/\nexport const paginatedRequestHelper = async ({\n  per_page,\n  page,\n  advisorFilters,\n  filters,\n  workloads,\n  SID,\n  pathway,\n  rule,\n  selectedTags,\n  sort,\n}) => {\n  let options = createOptions(\n    advisorFilters,\n    page,\n    per_page,\n    sort,\n    pathway,\n    filters,\n    selectedTags,\n    workloads,\n    SID\n  );\n\n  return pathway\n    ? (\n        await Get(\n          `${SYSTEMS_FETCH_URL}`,\n          {},\n          { ...options, pathway: pathway.slug }\n        )\n      )?.data\n    : (\n        await Get(\n          `${RULES_FETCH_URL}${encodeURI(rule.rule_id)}/systems_detail/`,\n          {},\n          options\n        )\n      )?.data;\n};\n\nexport const getEntities =\n  (\n    handleRefresh,\n    pathway,\n    setCurPageIds,\n    setTotal,\n    selectedIds,\n    setFullFilters,\n    fullFilters,\n    rule\n  ) =>\n  async (_items, config, showTags, defaultGetEntities) => {\n    const {\n      per_page,\n      page,\n      orderBy,\n      orderDirection,\n      advisorFilters,\n      filters,\n      workloads,\n      SID,\n      selectedTags,\n    } = config;\n\n    const sort = createSortParam(orderBy, orderDirection);\n\n    let options = createOptions(\n      advisorFilters,\n      page,\n      per_page,\n      sort,\n      pathway,\n      filters,\n      selectedTags,\n      workloads,\n      SID\n    );\n    handleRefresh(options);\n    const allDetails = { ...config, pathway, handleRefresh, rule, sort };\n    setFullFilters(allDetails);\n    const fetchedSystems = await paginatedRequestHelper(allDetails);\n    const results = await defaultGetEntities(\n      fetchedSystems.data.map((system) => system.system_uuid),\n      {\n        per_page,\n        hasItems: true,\n        fields: { system_profile: ['operating_system'] },\n      },\n      showTags\n    );\n    setCurPageIds(fetchedSystems.data.map((system) => system.system_uuid));\n    setTotal(fetchedSystems.meta.count);\n    return Promise.resolve({\n      results: mergeArraysByDiffKeys(fetchedSystems.data, results.results).map(\n        (item) => {\n          return {\n            ...item,\n            selected: selectedIds?.includes(item.id),\n          };\n        }\n      ),\n      total: fetchedSystems.meta.count,\n    });\n  };\n\n/*Takes in the current filters, and keeps sending get request until there are no pages left*/\nconst fetchBatched = (fetchFunction, total, filter, batchSize = 100, rule) => {\n  const pages = Math.ceil(total / batchSize) || 1;\n  return Promise.all(\n    [...new Array(pages)].map((_, pageIdx) =>\n      fetchFunction({ ...filter, page: pageIdx + 1, per_page: batchSize, rule })\n    )\n  );\n};\n/*Grabs all systemIds and maniupaltes the data into one large array of systems*/\nexport const allCurrentSystemIds =\n  (fullFilters, total, rule, setIsLoading) => async () => {\n    setIsLoading(true);\n    const results = await (\n      await fetchBatched(paginatedRequestHelper, total, fullFilters, 100, rule)\n    ).map((item) => item.data);\n\n    const merged = [].concat.apply([], results).map((item) => item.system_uuid);\n    setIsLoading(false);\n    return merged;\n  };\n","import { buildTagFilter, workloadQueryBuilder } from './Common/Tables';\nimport { orderBy } from 'lodash';\n\nexport const createOptions = (\n  advisorFilters,\n  page,\n  per_page,\n  sort,\n  pathway,\n  filters,\n  selectedTags,\n  workloads,\n  SID,\n  systemsPage\n) => {\n  let options = {\n    ...advisorFilters,\n    limit: per_page,\n    offset: page * per_page - per_page,\n    sort: sort,\n    ...(filters?.hostnameOrId &&\n      !pathway &&\n      !systemsPage && {\n        name: filters?.hostnameOrId,\n      }),\n    ...(filters?.hostnameOrId &&\n      !pathway &&\n      systemsPage && {\n        display_name: filters?.hostnameOrId,\n      }),\n    ...(filters.hostnameOrId &&\n      pathway && {\n        display_name: filters?.hostnameOrId,\n      }),\n    ...(filters.osFilter?.length > 0 && {\n      rhel_version: filters.osFilter.map(({ value }) => value).join(','),\n    }),\n    ...(filters?.hostGroupFilter?.length && {\n      groups: filters.hostGroupFilter.join(','),\n    }),\n    ...(filters.tagFilters?.length && buildTagFilter(filters.tagFilters)),\n    ...(workloads ? workloadQueryBuilder(workloads, SID) : {}),\n    ...(selectedTags?.length > 0 ? { tags: selectedTags.join(',') } : {}),\n  };\n  return options;\n};\n\nexport const sortTopics = (data, index, direction) => {\n  let sortingName = '';\n  index === 0\n    ? (sortingName = 'name')\n    : index === 2\n    ? (sortingName = 'featured')\n    : (sortingName = 'impacted_systems_count');\n  return orderBy(data, [(result) => result[sortingName]], direction);\n};\n\nexport const createSortParam = (sortField, sortDirection = 'ASC') => {\n  return `${sortDirection.toUpperCase() === 'ASC' ? '' : '-'}${\n    (sortField === 'updated' && 'last_seen') ||\n    (sortField === 'operating_system' && 'rhel_version') ||\n    (sortField === 'groups' && 'group_name') ||\n    sortField\n  }`;\n};\n","import React, { useState } from 'react';\nimport { SYSTEM_FILTER_CATEGORIES as SFC } from '../../AppConstants';\nimport {\n  pruneFilters,\n  urlBuilder,\n} from '../../PresentationalComponents/Common/Tables';\nimport { useStore } from 'react-redux';\nimport {\n  useGetEntities,\n  useActionResolver,\n  useOnLoad,\n  mergeAppColumns,\n} from './helpers';\nimport PropTypes from 'prop-types';\nimport messages from '../../Messages';\nimport { useIntl } from 'react-intl';\nimport AsynComponent from '@redhat-cloud-services/frontend-components/AsyncComponent';\nimport { useNavigate } from 'react-router-dom';\n\nconst ImmutableDevices = ({\n  rule,\n  pathway,\n  selectedTags,\n  handleModalToggle,\n  isRecommendationDetail,\n}) => {\n  const store = useStore();\n  const intl = useIntl();\n  const navigate = useNavigate();\n  const [filters, setFilters] = useState({\n    limit: 20,\n    offset: 0,\n    sort: '-last_seen',\n    name: '',\n  });\n\n  const handleRefresh = (options) => {\n    const { name, display_name } = options;\n    const refreshedFilters = {\n      ...options,\n      ...(name && {\n        name,\n      }),\n      ...(display_name && {\n        display_name,\n      }),\n    };\n    !pathway && urlBuilder(refreshedFilters, selectedTags);\n  };\n\n  const fetchSystems = useGetEntities(handleRefresh, pathway, rule);\n\n  const removeFilterParam = (param) => {\n    const filter = { ...filters, offset: 0 };\n    delete filter[param];\n    setFilters(filter);\n  };\n\n  const buildFilterChips = () => {\n    const localFilters = { ...filters };\n    delete localFilters.sort;\n    delete localFilters.offset;\n    delete localFilters.limit;\n\n    return pruneFilters(localFilters, SFC);\n  };\n\n  const activeFiltersConfig = {\n    deleteTitle: intl.formatMessage(messages.resetFilters),\n    filters: buildFilterChips(),\n    onDelete: (_e, itemsToRemove, isAll) => {\n      if (isAll) {\n        setFilters({\n          sort: filters.sort,\n          limit: filters.limit,\n          offset: filters.offset,\n        });\n      } else {\n        itemsToRemove.map((item) => {\n          const newFilter = {\n            [item.urlParam]: Array.isArray(filters[item.urlParam])\n              ? filters[item.urlParam].filter(\n                  (value) => String(value) !== String(item.chips[0].value)\n                )\n              : '',\n          };\n          newFilter[item.urlParam].length > 0\n            ? setFilters({ ...filters, ...newFilter })\n            : removeFilterParam(item.urlParam);\n        });\n      }\n    },\n  };\n\n  const onSystemNameClick = (_key, systemId) => {\n    navigate(`/insights/inventory/${systemId}?appName=advisor`);\n  };\n\n  const actionResolver = useActionResolver(handleModalToggle);\n  const onLoad = useOnLoad(filters);\n\n  return (\n    <AsynComponent\n      appName=\"inventory\"\n      module=\"./ImmutableDevices\"\n      fallback={<div />}\n      store={store}\n      onLoad={onLoad}\n      key=\"inventory\"\n      customFilters={{\n        advisorFilters: {\n          ...filters,\n          //Immutable devices table should always be filtered by host_type=edge\n          'filter[system_profile][host_type]': 'edge',\n        },\n      }}\n      getEntities={fetchSystems}\n      showActions={false}\n      hideFilters={{\n        all: true,\n        name: false,\n        operatingSystem: false,\n        tags: false,\n      }}\n      mergeAppColumns={(defaultColumns) =>\n        mergeAppColumns(defaultColumns, isRecommendationDetail)\n      }\n      activeFiltersConfig={activeFiltersConfig}\n      onRowClick={onSystemNameClick}\n      {...(isRecommendationDetail ? { tableActions: actionResolver } : {})}\n    />\n  );\n};\n\nImmutableDevices.propTypes = {\n  tableProps: PropTypes.any,\n  rule: PropTypes.object,\n  afterDisableFn: PropTypes.func,\n  pathway: PropTypes.object,\n  selectedTags: PropTypes.any,\n  workloads: PropTypes.any,\n  SID: PropTypes.any,\n  permsExport: PropTypes.bool,\n  exportTable: PropTypes.string,\n  showTags: PropTypes.bool,\n  handleModalToggle: PropTypes.func,\n  isRecommendationDetail: PropTypes.bool,\n};\nexport default ImmutableDevices;\n","import { createOptions } from '../../PresentationalComponents/helper';\nimport { paginatedRequestHelper } from '../../PresentationalComponents/Inventory/helpers';\nimport { Post } from '../../Utilities/Api';\nimport { EDGE_DEVICE_BASE_URL } from '../../AppConstants';\nimport { useCallback } from 'react';\nimport { systemReducer } from '../../Store/AppReducer';\nimport { updateReducers } from '../../Store';\nimport { useStore } from 'react-redux';\nimport { wrappable } from '@patternfly/react-table';\nimport { createSortParam } from '../../PresentationalComponents/helper';\n\nconst mergeByInventoryKey = (\n  advisorData = [],\n  inventoryData = [],\n  edgeData = [],\n  enforceEdgeGroups\n) => {\n  return advisorData.map((advisor) => {\n    const edge = edgeData.find(\n      (device) => device.DeviceUUID === advisor.system_uuid\n    );\n    const inventory = inventoryData.find(\n      (inventory) => advisor.system_uuid === inventory.id\n    );\n\n    return {\n      ...inventory,\n      ...advisor,\n      ...edge,\n      groups: enforceEdgeGroups\n        ? edge.DeviceGroups?.map((group) => ({\n            id: group.ID,\n            name: group.Name,\n          })) || []\n        : inventory.groups,\n    };\n  });\n};\n\nexport const useGetEntities =\n  (handleRefresh, pathway, rule) =>\n  async (_items, config, showTags, defaultGetEntities) => {\n    const {\n      per_page,\n      page,\n      orderBy,\n      orderDirection,\n      advisorFilters,\n      filters,\n      workloads,\n      SID,\n      selectedTags,\n    } = config;\n    const sort = createSortParam(orderBy, orderDirection);\n    let options = createOptions(\n      advisorFilters,\n      page,\n      per_page,\n      sort,\n      pathway,\n      filters,\n      selectedTags,\n      workloads,\n      SID\n    );\n    handleRefresh(options);\n    const allDetails = { ...config, pathway, rule, sort };\n    const advisorData = await paginatedRequestHelper(allDetails);\n    const systemIDs = advisorData?.data?.map((system) => system.system_uuid);\n\n    const inventoryData = await defaultGetEntities(\n      systemIDs,\n      {\n        per_page,\n        hasItems: true,\n        fields: { system_profile: ['operating_system'] },\n      },\n      showTags\n    );\n\n    let edgeData = [];\n    let enforceEdgeGroups = false;\n    if (systemIDs?.length) {\n      const { data: devicesData } = await Post(\n        `${EDGE_DEVICE_BASE_URL}/devices/devicesview`,\n        {},\n        { devices_uuid: systemIDs }\n      );\n\n      edgeData = devicesData?.data?.devices || [];\n      enforceEdgeGroups = devicesData?.data?.enforce_edge_groups;\n    }\n\n    const fullData = mergeByInventoryKey(\n      advisorData.data,\n      inventoryData.results,\n      edgeData,\n      enforceEdgeGroups\n    );\n\n    return Promise.resolve({\n      results: fullData,\n      total: advisorData.meta.count,\n    });\n  };\n\nexport const useActionResolver = (handleModalToggle) =>\n  useCallback(\n    () => [\n      {\n        title: 'Disable recommendation for system',\n        onClick: (event, rowIndex, item) => handleModalToggle(true, item),\n      },\n    ],\n    []\n  );\n\nexport const useOnLoad = (filters) => {\n  const store = useStore();\n  return useCallback(\n    ({ mergeWithEntities, INVENTORY_ACTION_TYPES, mergeWithDetail }) => {\n      store.replaceReducer(\n        updateReducers({\n          ...mergeWithEntities(systemReducer([], INVENTORY_ACTION_TYPES), {\n            page: Number(filters.offset / filters.limit + 1 || 1),\n            perPage: Number(filters.limit || 20),\n          }),\n          ...mergeWithDetail(),\n        })\n      );\n    },\n    [filters, store]\n  );\n};\n\nexport const mergeAppColumns = (defaultColumns, isRecommendationDetail) => {\n  const lastSeenColumn = defaultColumns.find(({ key }) => key === 'updated');\n  const impacted_date = {\n    key: 'impacted_date',\n    title: 'First Impacted',\n    sortKey: 'impacted_date',\n    transforms: [wrappable],\n    props: { width: 15 },\n    renderFunc: lastSeenColumn.renderFunc,\n  };\n\n  return [\n    ...defaultColumns,\n    ...(isRecommendationDetail ? [impacted_date] : []),\n  ];\n};\n","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n","var baseEach = require('./_baseEach'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nmodule.exports = baseMap;\n","var arrayMap = require('./_arrayMap'),\n    baseGet = require('./_baseGet'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    baseSortBy = require('./_baseSortBy'),\n    baseUnary = require('./_baseUnary'),\n    compareMultiple = require('./_compareMultiple'),\n    identity = require('./identity'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `_.orderBy` without param guards.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n * @param {string[]} orders The sort orders of `iteratees`.\n * @returns {Array} Returns the new sorted array.\n */\nfunction baseOrderBy(collection, iteratees, orders) {\n  if (iteratees.length) {\n    iteratees = arrayMap(iteratees, function(iteratee) {\n      if (isArray(iteratee)) {\n        return function(value) {\n          return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);\n        }\n      }\n      return iteratee;\n    });\n  } else {\n    iteratees = [identity];\n  }\n\n  var index = -1;\n  iteratees = arrayMap(iteratees, baseUnary(baseIteratee));\n\n  var result = baseMap(collection, function(value, key, collection) {\n    var criteria = arrayMap(iteratees, function(iteratee) {\n      return iteratee(value);\n    });\n    return { 'criteria': criteria, 'index': ++index, 'value': value };\n  });\n\n  return baseSortBy(result, function(object, other) {\n    return compareMultiple(object, other, orders);\n  });\n}\n\nmodule.exports = baseOrderBy;\n","/**\n * The base implementation of `_.sortBy` which uses `comparer` to define the\n * sort order of `array` and replaces criteria objects with their corresponding\n * values.\n *\n * @private\n * @param {Array} array The array to sort.\n * @param {Function} comparer The function to define sort order.\n * @returns {Array} Returns `array`.\n */\nfunction baseSortBy(array, comparer) {\n  var length = array.length;\n\n  array.sort(comparer);\n  while (length--) {\n    array[length] = array[length].value;\n  }\n  return array;\n}\n\nmodule.exports = baseSortBy;\n","var isSymbol = require('./isSymbol');\n\n/**\n * Compares values to sort them in ascending order.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {number} Returns the sort order indicator for `value`.\n */\nfunction compareAscending(value, other) {\n  if (value !== other) {\n    var valIsDefined = value !== undefined,\n        valIsNull = value === null,\n        valIsReflexive = value === value,\n        valIsSymbol = isSymbol(value);\n\n    var othIsDefined = other !== undefined,\n        othIsNull = other === null,\n        othIsReflexive = other === other,\n        othIsSymbol = isSymbol(other);\n\n    if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n        (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n        (valIsNull && othIsDefined && othIsReflexive) ||\n        (!valIsDefined && othIsReflexive) ||\n        !valIsReflexive) {\n      return 1;\n    }\n    if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n        (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n        (othIsNull && valIsDefined && valIsReflexive) ||\n        (!othIsDefined && valIsReflexive) ||\n        !othIsReflexive) {\n      return -1;\n    }\n  }\n  return 0;\n}\n\nmodule.exports = compareAscending;\n","var compareAscending = require('./_compareAscending');\n\n/**\n * Used by `_.orderBy` to compare multiple properties of a value to another\n * and stable sort them.\n *\n * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n * of corresponding values.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {boolean[]|string[]} orders The order to sort by for each property.\n * @returns {number} Returns the sort order indicator for `object`.\n */\nfunction compareMultiple(object, other, orders) {\n  var index = -1,\n      objCriteria = object.criteria,\n      othCriteria = other.criteria,\n      length = objCriteria.length,\n      ordersLength = orders.length;\n\n  while (++index < length) {\n    var result = compareAscending(objCriteria[index], othCriteria[index]);\n    if (result) {\n      if (index >= ordersLength) {\n        return result;\n      }\n      var order = orders[index];\n      return result * (order == 'desc' ? -1 : 1);\n    }\n  }\n  // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n  // that causes it, under certain circumstances, to provide the same value for\n  // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n  // for more details.\n  //\n  // This also ensures a stable sort in V8 and other engines.\n  // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n  return object.index - other.index;\n}\n\nmodule.exports = compareMultiple;\n","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n","var baseOrderBy = require('./_baseOrderBy'),\n    isArray = require('./isArray');\n\n/**\n * This method is like `_.sortBy` except that it allows specifying the sort\n * orders of the iteratees to sort by. If `orders` is unspecified, all values\n * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n * descending or \"asc\" for ascending sort order of corresponding values.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @param {string[]} [orders] The sort orders of `iteratees`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 34 },\n *   { 'user': 'fred',   'age': 40 },\n *   { 'user': 'barney', 'age': 36 }\n * ];\n *\n * // Sort by `user` in ascending order and by `age` in descending order.\n * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n */\nfunction orderBy(collection, iteratees, orders, guard) {\n  if (collection == null) {\n    return [];\n  }\n  if (!isArray(iteratees)) {\n    iteratees = iteratees == null ? [] : [iteratees];\n  }\n  orders = guard ? undefined : orders;\n  if (!isArray(orders)) {\n    orders = orders == null ? [] : [orders];\n  }\n  return baseOrderBy(collection, iteratees, orders);\n}\n\nmodule.exports = orderBy;\n"],"names":["breakWord","className","fitContent","nowrap","truncate","wrappable","paginatedRequestHelper","_ref2","_asyncToGenerator","_regeneratorRuntime","_callee","_ref","_yield$Get","_yield$Get2","per_page","page","advisorFilters","filters","workloads","SID","pathway","rule","selectedTags","sort","options","_context","prev","next","createOptions","Get","concat","SYSTEMS_FETCH_URL","_objectSpread","slug","t2","sent","t1","t3","data","t0","RULES_FETCH_URL","encodeURI","rule_id","t5","t4","t6","abrupt","stop","_x","apply","arguments","getEntities","handleRefresh","setCurPageIds","setTotal","selectedIds","setFullFilters","fullFilters","_ref3","_callee2","_items","config","showTags","defaultGetEntities","orderBy","orderDirection","allDetails","fetchedSystems","results","_context2","createSortParam","map","system","system_uuid","hasItems","fields","system_profile","meta","count","Promise","resolve","mergeArraysByDiffKeys","item","selected","includes","id","total","_x2","_x3","_x4","_x5","fetchBatched","fetchFunction","filter","batchSize","length","undefined","pages","Math","ceil","all","_toConsumableArray","Array","_","pageIdx","allCurrentSystemIds","setIsLoading","_callee3","merged","_context3","systemsPage","_filters$osFilter","_filters$hostGroupFil","_filters$tagFilters","limit","offset","hostnameOrId","name","display_name","osFilter","rhel_version","value","join","hostGroupFilter","groups","tagFilters","buildTagFilter","workloadQueryBuilder","tags","sortTopics","index","direction","sortingName","_orderBy","result","sortField","sortDirection","toUpperCase","ImmutableDevices","localFilters","handleModalToggle","isRecommendationDetail","store","useStore","intl","useIntl","navigate","useNavigate","_useState","useState","_useState2","_slicedToArray","setFilters","fetchSystems","useGetEntities","refreshedFilters","urlBuilder","activeFiltersConfig","deleteTitle","formatMessage","messages","pruneFilters","SFC","onDelete","_e","itemsToRemove","isAll","param","newFilter","_defineProperty","urlParam","isArray","String","chips","actionResolver","useActionResolver","onLoad","useOnLoad","React","AsynComponent","_extends","appName","module","fallback","key","customFilters","showActions","hideFilters","operatingSystem","mergeAppColumns","defaultColumns","onRowClick","_key","systemId","tableActions","propTypes","tableProps","PropTypes","afterDisableFn","permsExport","exportTable","mergeByInventoryKey","advisorData","inventoryData","edgeData","enforceEdgeGroups","advisor","_edge$DeviceGroups","edge","find","device","DeviceUUID","inventory","DeviceGroups","group","ID","Name","_advisorData$data","systemIDs","_devicesData$data","_devicesData$data2","_yield$Post","devicesData","fullData","Post","EDGE_DEVICE_BASE_URL","devices_uuid","devices","enforce_edge_groups","useCallback","title","onClick","event","rowIndex","mergeWithEntities","INVENTORY_ACTION_TYPES","mergeWithDetail","replaceReducer","updateReducers","systemReducer","Number","perPage","lastSeenColumn","impacted_date","sortKey","transforms","props","width","renderFunc","baseForOwn","baseEach","createBaseEach","exports","isArrayLike","collection","iteratee","arrayMap","baseGet","baseIteratee","baseMap","baseSortBy","baseUnary","compareMultiple","identity","iteratees","orders","object","other","array","comparer","isSymbol","valIsDefined","valIsNull","valIsReflexive","valIsSymbol","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","compareAscending","objCriteria","criteria","othCriteria","ordersLength","eachFunc","fromRight","iterable","Object","baseOrderBy","guard"],"sourceRoot":""}