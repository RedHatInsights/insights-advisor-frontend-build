{"version":3,"sources":["webpack:///./src/PresentationalComponents/Skeletons/_Skeleton.scss","webpack:///./src/PresentationalComponents/Cards/_RulesCard.scss?dff3","webpack:///./src/PresentationalComponents/Cards/_RulesCard.scss","webpack:///./src/PresentationalComponents/Skeletons/_Skeleton.scss?509b","webpack:///./src/SmartComponents/Rules/ViewRule.js","webpack:///./src/SmartComponents/Rules/ListRules.js","webpack:///./src/PresentationalComponents/Skeletons/RulesCard/RulesCardSkeleton.js"],"names":["module","exports","__webpack_require__","push","i","content","options","hmr","transform","insertInto","undefined","update","locals","hot","accept","newContent","a","b","key","idx","Error","dispose","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","_patternfly_react_core__WEBPACK_IMPORTED_MODULE_2__","_patternfly_react_core__WEBPACK_IMPORTED_MODULE_3__","_patternfly_react_core__WEBPACK_IMPORTED_MODULE_4__","_patternfly_react_core__WEBPACK_IMPORTED_MODULE_5__","_red_hat_insights_insights_frontend_components__WEBPACK_IMPORTED_MODULE_6__","ViewRule","createElement","type","className","displayName","propTypes","match","PropTypes","object","importComponent","RulesCard","Promise","all","e","then","bind","_Component","RulesCardSkeleton","props","_this","classCallCheck_default","this","possibleConstructorReturn_default","getPrototypeOf_default","call","state","component","inherits_default","createClass_default","value","_componentDidMount","asyncToGenerator_default","regenerator_default","mark","_callee","_ref","wrap","_context","prev","next","sent","default","setState","stop","apply","arguments","C","react_default","Card","CardHeader","CardBody","CardFooter","Component","ListRules","summary","itemsPerPage","page","cards","setPage","assertThisInitialized_default","setPerPage","fetchRules","page_size","setBreadcrumbs","title","navigate","prevProps","rules","results","map","widget-id","ruleID","rule_id","category","name","description","impact","likelihood","totalRisk","severity","riskOfChange","resolution_set","find","resolution","system_type","SYSTEM_TYPES","rhel","resolution_risk","risk","ansible","has_playbook","hitCount","impacted_systems_count","_this$props","rulesFetchStatus","insights_frontend_components","Fragment","numberOfItems","count","onPerPageSelect","onSetPage","Loading","React","breadcrumbs","array","func","string","routerParams","connect","ownProps","objectSpread_default","AdvisorStore","dispatch","bindActionCreators","url","AppActions","obj"],"mappings":"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","file":"js/ListRules.js","sourcesContent":["exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"/* stylelint-enable */\\n:root {\\n  --ins-color--orange: #ec7a08; }\\n\\n.skeleton {\\n  animation-duration: 1s;\\n  animation-iteration-count: infinite;\\n  animation-name: skeletonGradient;\\n  animation-timing-function: linear;\\n  background: var(--pf-global--BackgroundColor--disabled);\\n  background: linear-gradient(to right, #f5f5f5 10%, #e8e8e8 18%, #f5f5f5 33%);\\n  background-size: 1000px 50px;\\n  background-size: 62.5rem 3.125rem;\\n  border-radius: 5px;\\n  border-radius: 0.3125rem; }\\n  .skeleton-xs {\\n    width: 16%; }\\n  .skeleton-sm {\\n    width: 33%; }\\n  .skeleton-md {\\n    width: 66%; }\\n  .skeleton-lg {\\n    width: 100%; }\\n\\n@keyframes skeletonGradient {\\n  0% {\\n    background-position: -500px 0px;\\n    background-position: -31.25rem 0rem; }\\n  100% {\\n    background-position: 500px 0px;\\n    background-position: 31.25rem 0rem; } }\\n\", \"\"]);\n\n","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/lib/loader.js??ref--5-2!./_RulesCard.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/lib/loader.js??ref--5-2!./_RulesCard.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/lib/loader.js??ref--5-2!./_RulesCard.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"/* stylelint-enable */\\n:root {\\n  --ins-color--orange: #ec7a08; }\\n\\n.ins-c-rules-card .pf-c-card__header .pf-l-split__item:first-of-type {\\n  white-space: nowrap;\\n  margin-right: 5px;\\n  margin-right: 0.3125rem; }\\n\\n.ins-c-rules-card .ins-l-icon-group__with-major {\\n  display: inline; }\\n\\n.ins-c-rules-card .space-between {\\n  display: flex;\\n  justify-content: space-between; }\\n\\n.ins-c-rules-card .pf-c-card__header div {\\n  font-weight: 600; }\\n\\n.ins-c-rules-card + .ins-c-rules-card {\\n  margin-top: var(--pf-global--spacer--xl); }\\n\\n.ins-c-rules-card a[disabled] {\\n  cursor: not-allowed;\\n  color: var(--pf-global--BackgroundColor--disabled); }\\n  .ins-c-rules-card a[disabled]:hover {\\n    text-decoration: none; }\\n\", \"\"]);\n\n","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/lib/loader.js??ref--5-2!./_Skeleton.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/lib/loader.js??ref--5-2!./_Skeleton.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/lib/loader.js??ref--5-2!./_Skeleton.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Card, CardHeader, CardBody, CardFooter } from '@patternfly/react-core';\nimport { Section } from '@red-hat-insights/insights-frontend-components';\n\nimport '../../PresentationalComponents/Skeletons/_Skeleton.scss';\nimport '../../PresentationalComponents/Cards/_RulesCard.scss';\n\nconst ViewRule = () => {\n    return (\n        <Section type='content'>\n            <Card className='ins-c-rules-card ins-c-card__skeleton pf-t-light  pf-m-opaque-100'>\n                <CardHeader>\n                    <div className='skeleton skeleton-md'>&nbsp;</div>\n                </CardHeader>\n                <CardBody>\n                    <div className='skeleton skeleton-lg'>&nbsp;</div>\n                </CardBody>\n                <CardFooter>\n                    <div className='skeleton skeleton-sm'>&nbsp;</div>\n                </CardFooter>\n            </Card>\n            <Card className='ins-c-rules-card ins-c-card__skeleton pf-t-light  pf-m-opaque-100'>\n                <CardHeader>\n                    <div className='skeleton skeleton-md'>&nbsp;</div>\n                </CardHeader>\n                <CardBody>\n                    <div className='skeleton skeleton-lg'>&nbsp;</div>\n                </CardBody>\n                <CardFooter>\n                    <div className='skeleton skeleton-sm'>&nbsp;</div>\n                </CardFooter>\n            </Card>\n            <Card className='ins-c-rules-card ins-c-card__skeleton pf-t-light  pf-m-opaque-100'>\n                <CardHeader>\n                    <div className='skeleton skeleton-md'>&nbsp;</div>\n                </CardHeader>\n                <CardBody>\n                    <div className='skeleton skeleton-lg'>&nbsp;</div>\n                </CardBody>\n                <CardFooter>\n                    <div className='skeleton skeleton-sm'>&nbsp;</div>\n                </CardFooter>\n            </Card>\n            <Card className='ins-c-rules-card ins-c-card__skeleton pf-t-light  pf-m-opaque-100'>\n                <CardHeader>\n                    <div className='skeleton skeleton-md'>&nbsp;</div>\n                </CardHeader>\n                <CardBody>\n                    <div className='skeleton skeleton-lg'>&nbsp;</div>\n                </CardBody>\n                <CardFooter>\n                    <div className='skeleton skeleton-sm'>&nbsp;</div>\n                </CardFooter>\n            </Card>\n        </Section>\n    );\n};\n\nViewRule.displayName = 'view-rule';\n\nViewRule.propTypes = {\n    match: PropTypes.object\n};\n\nexport default ViewRule;\n","import React from 'react';\nimport { Main, Pagination, routerParams } from '@red-hat-insights/insights-frontend-components';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\n\nimport * as AppActions from '../../AppActions';\nimport { SYSTEM_TYPES } from '../../AppConstants';\nimport Loading from '../../PresentationalComponents/Loading/Loading';\nimport rulesCardSkeleton from '../../PresentationalComponents/Skeletons/RulesCard/RulesCardSkeleton.js';\n\nconst RulesCard = rulesCardSkeleton(() => import('../../PresentationalComponents/Cards/RulesCard.js'));\n\nclass ListRules extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            summary: '',\n            itemsPerPage: 10,\n            page: 1,\n            cards: []\n        };\n        this.setPage = this.setPage.bind(this);\n        this.setPerPage = this.setPerPage.bind(this);\n    }\n\n    componentDidMount() {\n        this.props.fetchRules({ page_size: this.state.itemsPerPage  }); // eslint-disable-line camelcase\n        this.props.setBreadcrumbs([{ title: 'Rules', navigate: '/rules' }]);\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.rules !== prevProps.rules) {\n            const rules = this.props.rules.results;\n            const cards = rules.map((value, key) =>\n                <RulesCard\n                    key = { key }\n                    widget-id= { value }\n                    ruleID = { value.rule_id }\n                    category= { value.category.name }\n                    description= { value.description }\n                    summary= { value.summary }\n                    impact = { value.impact.impact }\n                    likelihood = { value.likelihood }\n                    totalRisk = { value.severity }\n                    riskOfChange = { value.resolution_set.find(resolution => resolution.system_type === SYSTEM_TYPES.rhel).resolution_risk.risk }\n                    ansible = { value.has_playbook }\n                    hitCount = { value.impacted_systems_count }\n                />\n            );\n            this.setState({ cards });\n        }\n    }\n\n    setPage(page) {\n        this.setState(() => ({ page }));\n        this.props.fetchRules({ page, page_size: this.state.itemsPerPage }); // eslint-disable-line camelcase\n    }\n\n    setPerPage(itemsPerPage) {\n        this.setState(() => ({ itemsPerPage }));\n        this.props.fetchRules({ page_size: itemsPerPage  }); // eslint-disable-line camelcase\n    }\n\n    render() {\n        const {\n            rulesFetchStatus,\n            rules\n        } = this.props;\n\n        return (\n            <Main>\n                <React.Fragment>\n                    { rulesFetchStatus === 'fulfilled' && (\n                        <React.Fragment>\n                            { this.state.cards }\n                            <Pagination\n                                numberOfItems={ rules.count }\n                                onPerPageSelect={ this.setPerPage }\n                                page={ this.state.page }\n                                onSetPage={ this.setPage }\n                                itemsPerPage={ this.state.itemsPerPage }\n                            />\n                        </React.Fragment>\n                    ) }\n                    { rulesFetchStatus === 'pending' && (<Loading />) }\n                </React.Fragment>\n\n            </Main>\n        );\n\n    };\n}\n\nListRules.displayName = 'list-rules';\n\nListRules.propTypes = {\n    breadcrumbs: PropTypes.array,\n    fetchRules: PropTypes.func,\n    rulesFetchStatus: PropTypes.string,\n    rules: PropTypes.object,\n    setBreadcrumbs: PropTypes.func\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n    breadcrumbs: state.AdvisorStore.breadcrumbs,\n    rules: state.AdvisorStore.rules,\n    rulesFetchStatus: state.AdvisorStore.rulesFetchStatus,\n    ...ownProps\n});\n\nconst mapDispatchToProps = dispatch => bindActionCreators({\n    fetchRules: (url) => AppActions.fetchRules(url),\n    setBreadcrumbs: (obj) => AppActions.setBreadcrumbs(obj)\n}, dispatch);\n\nexport default routerParams(connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ListRules));\n","import React, { Component } from 'react';\nimport { Card, CardHeader, CardBody, CardFooter } from '@patternfly/react-core';\n\nimport '../_Skeleton.scss';\nimport '../../Cards/_RulesCard.scss';\n\n/**\n * This is the async skeleton loader for the rules card\n * When this is used, it will generate a fake rules card with blocks of highlighted\n * CSS to show information is loading.\n */\n\nexport default function RulesCardSkeleton(importComponent) {\n    class RulesCardSkeleton extends Component {\n        constructor(props) {\n            super(props);\n\n            this.state = {\n                component: null\n            };\n        }\n\n        async componentDidMount() {\n            const { default: component } = await importComponent();\n\n            this.setState({\n                component\n            });\n        }\n\n        render() {\n            const C = this.state.component;\n\n            return C ? <C { ...this.props } /> :\n                <Card className='ins-c-rules-card ins-c-card__skeleton'>\n                    <CardHeader>\n                        <div className='skeleton skeleton-md'>&nbsp;</div>\n                    </CardHeader>\n                    <CardBody>\n                        <div className='skeleton skeleton-lg'>&nbsp;</div>\n                    </CardBody>\n                    <CardFooter>\n                        <div className='skeleton skeleton-sm'>&nbsp;</div>\n                    </CardFooter>\n                </Card>;\n        }\n    }\n\n    return RulesCardSkeleton;\n}\n"],"sourceRoot":""}