(self.webpackChunkadvisor_frontend=self.webpackChunkadvisor_frontend||[]).push([[1694],{95033:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var n=a(94015),r=a.n(n),o=a(23645),i=a.n(o)()(r());i.push([e.id,".advisor .text-area-override{max-width:30em;min-height:8em;max-height:12em}.text-input-override{width:22em;display:inline}.radio-override{padding-left:5px}.checkbox-override{padding-left:5px}.split-override{width:100%}.modal-width-override{width:60%}\n","",{version:3,sources:["webpack://./src/PresentationalComponents/Modals/_AddEditTopic.scss"],names:[],mappings:"AAAA,6BAA6B,cAAc,CAAC,cAAc,CAAC,eAAe,CAAC,qBAAqB,UAAU,CAAC,cAAc,CAAC,gBAAgB,gBAAgB,CAAC,mBAAmB,gBAAgB,CAAC,gBAAgB,UAAU,CAAC,sBAAsB,SAAS",sourcesContent:[".advisor .text-area-override{max-width:30em;min-height:8em;max-height:12em}.text-input-override{width:22em;display:inline}.radio-override{padding-left:5px}.checkbox-override{padding-left:5px}.split-override{width:100%}.modal-width-override{width:60%}\n"],sourceRoot:""}]);const l=i},67494:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var n=a(94015),r=a.n(n),o=a(23645),i=a.n(o)()(r());i.push([e.id,".advisor .toolbar-padding-override{padding-left:0px}.success{color:var(--pf-global--success-color--100)}.ban{color:var(--pf-global--Color--200)}\n","",{version:3,sources:["webpack://./src/PresentationalComponents/TopicsAdminTable/_TopicsAdminTable.scss"],names:[],mappings:"AAAA,mCAAmC,gBAAgB,CAAC,SAAS,0CAA0C,CAAC,KAAK,kCAAkC",sourcesContent:[".advisor .toolbar-padding-override{padding-left:0px}.success{color:var(--pf-global--success-color--100)}.ban{color:var(--pf-global--Color--200)}\n"],sourceRoot:""}]);const l=i},87585:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>V});var n=a(59713),r=a.n(n),o=a(63038),i=a.n(o),l=(a(50099),a(64169)),c=a(97522),s=a.n(c),d=a(83984),u=a(87757),f=a.n(u),m=a(48926),p=a.n(m),g=(a(5327),a(92506)),A=a(37802),b=a(20999),v=a(6202),h=a(32752),E=a(4853),C=a(23811),x=a(78826),Z=a(45697),y=a.n(Z),M=a(9568),S=a(85806),k=a(12282),T=a(70892),B=a(86588),w=a(74806),O=a(18623),N=function(e){var t=e.handleModalToggle,a=e.intl,n=e.isModalOpen,r=e.topic,o=e.addNotification,l=e.fetchTopicsAdmin,d=(0,c.useState)(r.name||""),u=i()(d,2),m=u[0],Z=u[1],y=(0,c.useState)(r.description||""),T=i()(y,2),B=T[0],w=T[1],N=(0,c.useState)(r.tag||""),I=i()(N,2),P=I[0],j=I[1],D=(0,c.useState)(r.enabled||!1),L=i()(D,2),F=L[0],U=L[1],R=(0,c.useState)(r.featured||!1),_=i()(R,2),q=_[0],K=_[1],H=(0,c.useState)(r.slug||void 0),Q=i()(H,2),Y=Q[0],z=Q[1],G=function(){var e=p()(f().mark((function e(n){var c,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=n.type,e.prev=1,s={name:m,slug:Y,tag:P,description:B,enabled:F,featured:q},"DELETE"!==c){e.next=8;break}return e.next=6,A.Z.delete("".concat(b.BASE_URL,"/topic/").concat(Y));case 6:e.next=15;break;case 8:if(!r.slug){e.next=13;break}return e.next=11,A.Z.put("".concat(b.BASE_URL,"/topic/").concat(Y,"/"),s);case 11:e.next=15;break;case 13:return e.next=15,A.Z.post("".concat(b.BASE_URL,"/topic/"),{},s);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),o({variant:"danger",dismissable:!0,title:a.formatMessage(O.Z.error),description:Object.entries(e.t0.response.data).map((function(e){var t=i()(e,2),a=t[0],n=t[1];return"".concat(a.toUpperCase(),":").concat(n," ")}))});case 20:return e.prev=20,t(!1),l(),e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[1,17,20,24]])})));return function(t){return e.apply(this,arguments)}}(),X=function(e){r.slug?Z(e):(Z(e),z(e.replace(/\s/g,"").toLowerCase()))},J=s().createElement(g.Split,{className:"split-override",hasGutter:!0},s().createElement(g.SplitItem,null,s().createElement(v.Button,{key:"confirm",variant:"primary",onClick:function(){return G({type:"POST/PUT"})},ouiaId:"confirm"},a.formatMessage(O.Z.save))),s().createElement(g.SplitItem,null,s().createElement(v.Button,{key:"cancel",variant:"secondary",onClick:function(){return t(!1)},ouiaId:"cancel"},a.formatMessage(O.Z.cancel))),s().createElement(g.SplitItem,{isFilled:!0}),s().createElement(g.SplitItem,null,s().createElement(v.Button,{key:"delete",ouiaId:"delete",variant:"danger",isDisabled:!r.slug,onClick:function(){return G({type:"DELETE"})}},a.formatMessage(O.Z.deleteTopic))));return s().createElement(x.u_,{title:a.formatMessage(O.Z.topicAdminTitle),isOpen:n,onClose:function(){return t(!1)},footer:J,className:"modal-width-override"},s().createElement(E.l,null,s().createElement(C.c,{label:a.formatMessage(O.Z.name),fieldId:"topic-form-name",className:"text-input-override"},s().createElement(k.oi,{value:m,isRequired:!0,type:"text",id:"topic-form-name",name:"topic-form-name",onChange:function(e){return X(e)}})),s().createElement(C.c,{label:a.formatMessage(O.Z.topicAddEditDescription),fieldId:"topic-form-description",helperText:a.formatMessage(O.Z.topicAddEditDescriptionHelperText),className:"text-area-override"},s().createElement(S.Kx,{value:B,isRequired:!0,name:"topic-form-description",id:"topic-form-description",onChange:function(e){return w(e)}})),s().createElement(C.c,{isInline:!0,fieldId:"topic-form-labels"},s().createElement(C.c,{label:a.formatMessage(O.Z.tag),fieldId:"topic-form-tag",helperText:a.formatMessage(O.Z.topicAddEditTagHelperText),className:"text-input-override"},s().createElement(k.oi,{value:P.replace(/\s/g,"").toLowerCase(),isRequired:!0,type:"text",id:"topic-form-tag",name:"topic-form-tag",onChange:function(e){return j(e.replace(/\s/g,"").toLowerCase())}})),s().createElement(C.c,{label:a.formatMessage(O.Z.topicSlug),fieldId:"topic-form-name-2",helperText:"",className:"text-input-override"},s().createElement(k.oi,{value:Y||m.replace(/\s/g,"").toLowerCase(),isDisabled:r.slug,type:"text",id:"topic-form-name-2",name:"topic-form-name-2",onChange:function(e){return X(e)}}))),s().createElement(C.c,{label:a.formatMessage(O.Z.status),fieldId:"topic-form-enabled"},s().createElement(M.Y,{isChecked:!F,id:"disabled",label:a.formatMessage(O.Z.topicAddEditDisabled),onChange:function(){return U(!F)},className:"radio-override"}),s().createElement(M.Y,{isChecked:F,id:"enabled",label:a.formatMessage(O.Z.topicAddEditEnabled),onChange:function(){return U(!F)},className:"radio-override"})),s().createElement(C.c,{label:a.formatMessage(O.Z.featured),fieldId:"topic-form-featured"},s().createElement(h.X,{isChecked:q,label:a.formatMessage(O.Z.topicAddEditFeatureBox),id:"checkbox-featured",name:"checkbox-featured","aria-label":"update-featured",onChange:function(){return K(!q)},className:"checkbox-override"}))))};N.propTypes={handleModalToggle:y().func,isModalOpen:y().bool,topic:y().object,intl:y().any,addNotification:y().func,fetchTopicsAdmin:y().func};const I=(0,w.ZP)((0,B.connect)(null,(function(e){return{addNotification:function(t){return e((0,T.addNotification)(t))},fetchTopicsAdmin:function(){return e((0,l.QK)())}}}))(N));var P=a(80516),j=a(35451),D=a(4145),L=a(59900),F=a(33042),U=a.n(F),R=a(82141),_=a(86350),q=a(75824),K=a(48716),H=a(57277),Q=a(47668),Y=a(32875),z=a(34348),G=a(36873);function X(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var J=function(e){var t=e.topicsFetchStatus,a=e.fetchTopicsAdmin,n=e.topics,r=e.intl,o=(0,c.useState)([{title:r.formatMessage(O.Z.title),transforms:[d.sortable]},{title:r.formatMessage(O.Z.tag),transforms:[d.sortable]},{title:r.formatMessage(O.Z.topicSlug),transforms:[d.sortable]},{title:r.formatMessage(O.Z.status),transforms:[d.sortable]},{title:r.formatMessage(O.Z.featured),transforms:[d.sortable]},"",""]),l=i()(o,1)[0],u=(0,c.useState)([]),f=i()(u,2),m=f[0],p=f[1],g=(0,c.useState)({}),A=i()(g,2),b=A[0],h=A[1],E=(0,c.useState)(!1),C=i()(E,2),x=C[0],Z=C[1],y=(0,c.useState)({}),M=i()(y,2),S=M[0],k=M[1],T=(0,c.useState)([]),B=i()(T,2),w=B[0],N=B[1],F=(0,c.useCallback)((function(e,t,a){var n={0:"name",1:"tag",2:"slug",3:"enabled",4:"featured"}[t];h({index:t,direction:a}),N(U().from(w.asMutable().sort((function(e,t){return"asc"===a?"enabled"===n||"featured"===n?e[n]>t[n]?-1:1:e[n]>t[n]?1:-1:"enabled"===n||"featured"===n?e[n]>t[n]?1:-1:e[n]>t[n]?-1:1}))))}),[h,N,w]),G=function(e){e?(k(e),Z(!0)):Z(!0)};return(0,c.useEffect)((function(){N(n)}),[n]),(0,c.useEffect)((function(){a()}),[a]),(0,c.useEffect)((function(){if(0===w.length)p([{cells:[{title:s().createElement(q.Z,{icon:"none",title:"",text:""}),props:{colSpan:7}}]}]);else{var e=w.flatMap((function(e,t){return[{isOpen:!1,rule:e,cells:[{title:s().createElement("span",{key:t}," ",e.name)},{title:s().createElement("span",{key:t}," ",e.tag)},{title:s().createElement("span",{key:t}," ",e.slug)},{title:s().createElement("span",null,e.enabled?s().createElement("span",null,s().createElement(j.default,{className:"success"})," ",r.formatMessage(O.Z.enabled)):s().createElement("span",null,s().createElement(P.ZP,{className:"ban"})," ",r.formatMessage(O.Z.disabled)))},{title:s().createElement("span",null,e.featured?s().createElement("span",null,s().createElement(Q.ZP,null)," ",r.formatMessage(O.Z.featured)):s().createElement("span",null))},"",{title:s().createElement(v.Button,{ouiaId:"hide",variant:"link",onClick:function(){return G(e)}},s().createElement(D.ZP,null)," ",r.formatMessage(O.Z.topicAdminEdit))}]}]}));p(e.asMutable())}}),[w,r]),s().createElement(s().Fragment,null,x&&s().createElement(I,{isModalOpen:x,handleModalToggle:Z,topic:S}),s().createElement(K.Z,null,s().createElement(z.Dx,{headingLevel:"h3",size:"2xl",className:"titlePaddingOverride"},r.formatMessage(O.Z.topicAdminTitle))),s().createElement(_.Z,null,s().createElement(s().Fragment,null,s().createElement(H.Z,{className:"toolbar-padding-override"},s().createElement(v.Button,{variant:"primary",ouiaId:"adminCreate",onClick:function(e){return G(e)}},r.formatMessage(O.Z.topicAdminCreate))),"fulfilled"===t&&s().createElement(d.Table,{ouiaId:"adminTable","aria-label":"topics-admin-table",sortBy:b,onSort:F,cells:l,rows:m},s().createElement(d.TableHeader,null),s().createElement(d.TableBody,null)),"pending"===t&&s().createElement(R.Z,null),"failed"===t&&s().createElement(L.Z,{message:r.formatMessage(O.Z.systemTableFetchError)}),s().createElement(Y.Z,null))))};J.propTypes={fetchTopicsAdmin:y().func,topicsFetchStatus:y().string,topics:y().array,addNotification:y().func,history:y().object,intl:y().any};const V=(0,w.ZP)((0,G.Z)((0,B.connect)((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?X(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):X(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({topics:e.AdvisorStore.topics,topicsFetchStatus:e.AdvisorStore.topicsFetchStatus},t)}),(function(e){return{fetchTopicsAdmin:function(){return e(l.QK())},addNotification:function(t){return e((0,T.addNotification)(t))}}}))(J)))},5327:(e,t,a)=>{"use strict";var n=a(93379),r=a.n(n),o=a(95033),i=r()(o.default,{insert:"head",singleton:!1});if(!o.default.locals||e.hot.invalidate){var l=o.default.locals;e.hot.accept(95033,(t=>{o=a(95033),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(l,o.default.locals)?(l=o.default.locals,i(o.default)):e.hot.invalidate()}))}e.hot.dispose((function(){i()})),o.default.locals},50099:(e,t,a)=>{"use strict";var n=a(93379),r=a.n(n),o=a(67494),i=r()(o.default,{insert:"head",singleton:!1});if(!o.default.locals||e.hot.invalidate){var l=o.default.locals;e.hot.accept(67494,(t=>{o=a(67494),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(l,o.default.locals)?(l=o.default.locals,i(o.default)):e.hot.invalidate()}))}e.hot.dispose((function(){i()})),o.default.locals}}]);
//# sourceMappingURL=TopicAdmin.7c89370c14d8393f5f80.js.map