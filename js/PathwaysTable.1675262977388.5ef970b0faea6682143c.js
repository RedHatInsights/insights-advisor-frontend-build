"use strict";(self.webpackChunkadvisor_frontend=self.webpackChunkadvisor_frontend||[]).push([[9573],{71070:(e,t,r)=>{t.xQ={name:"SearchIcon",height:512,width:512,svgPath:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z",yOffset:0,xOffset:0},t.W1=r(35183).createIcon(t.xQ),t.ZP=t.W1},24130:(e,t,r)=>{r.d(t,{Z:()=>f});var a=r(42293),o=r(45697),n=r.n(o),i=r(93264),l=r.n(i),c=r(30893),s=r(86896),u=function(e){var t=e.recLvl,r=(e.isCompact,(0,s.Z)()),o=function(e,t,r){return l().createElement(a.Label,{color:r,isCompact:!0},"".concat(e," - ").concat(t,"%"))};return t>=80?o(r.formatMessage(c.Z.high),t,"red"):t<80&&t>=50?o(r.formatMessage(c.Z.medium),t,"orange"):o(r.formatMessage(c.Z.low),t,"blue")};u.propTypes={props:n().array},u.defaultProps={isCompact:!0};const f=u},79930:(e,t,r)=>{r.r(t),r.d(t,{default:()=>x});var a=r(70885),o=r(4942),n=r(59303),i=r(75662),l=r(13877),c=r(93264),s=r.n(c),u=r(17855),f=r(97109),m=r(28216),d=r(52837),g=r(46891),p=r(34702),b=r(7887),v=r(2443),y=r(24130),h=r(87516),P=r(71070),Z=r(40609),_=r(30893),E=r(28672),S=r(8377),k=r(86896),C=r(45697);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w=function(e){var t,r,C=e.isTabActive,O=(0,k.Z)(),w=(0,m.useDispatch)(),x=(0,i.useLocation)().search,q=(0,m.useSelector)((function(e){return e.filters.selectedTags})),W=(0,m.useSelector)((function(e){return e.filters.workloads})),X=(0,m.useSelector)((function(e){return e.filters.SID})),j=(0,m.useSelector)((function(e){return e.filters.pathState})),L=function(e){return w((0,E.lW)(e))},T={};(null==q?void 0:q.length)&&(T=M(M({},T),{tags:q.join(",")})),W&&(T=M(M({},T),(0,f.s0)(W,X)));var A,D=(0,S.Lv)(M(M({},(0,f.qW)(j)),T)),N=D.data,F=void 0===N?[]:N,I=D.isFetching,V=D.isLoading,B=D.isError,H=[{title:O.formatMessage(_.Z.pathwaysName),transforms:[u.sortable,(0,u.cellWidth)(45)]},{title:O.formatMessage(_.Z.category)},{title:O.formatMessage(_.Z.systems),transforms:[u.sortable,(0,u.cellWidth)(10)]},{title:O.formatMessage(_.Z.reboot)},{title:O.formatMessage(_.Z.reclvl),transforms:[u.sortable,(0,u.cellWidth)(20),u.fitContent,(0,u.info)({tooltip:O.formatMessage(_.Z.reclvldetails),tooltipProps:{isContentLeftAligned:!0}})]}],z={0:"name",2:"impacted_systems_count",4:"recommendation_level"},Q=(0,c.useState)({}),R=(0,a.Z)(Q,2),G=R[0],K=R[1],Y=(0,c.useState)(!0),$=(0,a.Z)(Y,2),J=$[0],U=$[1],ee=(0,c.useState)((null==j?void 0:j.text)||""),te=(0,a.Z)(ee,2),re=te[0],ae=te[1],oe=(0,Z.Z)(re,n.$x),ne=function(e){var t=e*j.limit-j.limit;L(M(M({},j),{},{offset:t}))},ie=function(e){var t=M(M({},j),{},{offset:0});"text"===e&&ae(""),delete t[e],L(t)},le=function(e,t){t.length>0?L(M(M({},j),{},{offset:0},(0,o.Z)({},e,t))):ie(e)},ce=[{label:O.formatMessage(_.Z.name).toLowerCase(),filterValues:{key:"text-filter",onChange:function(e,t){return ae(t)},value:re,placeholder:O.formatMessage(_.Z.filterBy)}},{label:n.W2.category.title,type:n.W2.category.type,id:n.W2.category.urlParam,value:"checkbox-".concat(n.W2.category.urlParam),filterValues:{key:"".concat(n.W2.category.urlParam,"-filter"),onChange:function(e,t){return le(n.W2.category.urlParam,t)},value:j.category,items:n.W2.category.values}},{label:n.dX.has_incident.title,type:n.dX.has_incident.type,id:n.dX.has_incident.urlParam,value:"checkbox-".concat(n.dX.has_incident.urlParam),filterValues:{key:"".concat(n.dX.has_incident.urlParam,"-filter"),onChange:function(e,t){return le(n.dX.has_incident.urlParam,t)},value:j.has_incident,items:n.dX.has_incident.values}},{label:n.dX.reboot_required.title,type:n.dX.reboot_required.type,id:n.dX.reboot_required.urlParam,value:"checkbox-".concat(n.dX.reboot_required.urlParam),filterValues:{key:"".concat(n.dX.reboot_required.urlParam,"-filter"),onChange:function(e,t){return le(n.dX.reboot_required.urlParam,t)},value:j.reboot_required,items:n.dX.reboot_required.values}}],se={deleteTitle:O.formatMessage(_.Z.resetFilters),filters:(A=M({},j),delete A.sort,delete A.offset,delete A.limit,(0,f.yK)(A,M(M({},n.W2),n.dX))),onDelete:function(e,t,r){r?(ae(""),L({limit:j.limit,offset:j.offset})):t.map((function(e){var t=(0,o.Z)({},e.urlParam,Array.isArray(j[e.urlParam])?j[e.urlParam].filter((function(t){return String(t)!==String(e.chips[0].value)})):"");t[e.urlParam].length>0?L(M(M({},j),t)):ie(e.urlParam)}))}};return(0,c.useEffect)((function(){J||null===q||(0,f.Y4)(j,q)}),[j,q,W,X]),(0,c.useEffect)((function(){if(C&&x&&J){var e=(0,f.yG)();delete e.tags,void 0===e.text?ae(""):ae(e.text),e.sort=void 0===e.sort?"-impacted_systems_count":e.sort[0],void 0===e.offset?e.offset=0:e.offset=Number(e.offset[0]),void 0===e.limit?e.limit=20:e.limit=Number(e.limit[0]),void 0!==e.reboot_required&&!Array.isArray(e.reboot_required)&&(e.reboot_required=["".concat(e.reboot_required)]),L(M(M({},j),e))}U(!1)}),[]),(0,c.useEffect)((function(){if(void 0!==j.sort&&z){var e=j.sort,t=Number(Object.entries(z).find((function(t){return t[1]===e||"-".concat(t[1])===e}))[0]),r="-"===j.sort[0]?"desc":"asc";K({index:t,direction:r})}}),[j.sort]),(0,c.useEffect)((function(){if(!J&&!V){var e=M({},j),t=re.length?{text:re}:{};delete e.text,L(M(M(M({},e),t),{},{offset:0}))}}),[oe]),s().createElement(s().Fragment,null,s().createElement(b.Z,{pagination:{itemCount:(null==F||null===(t=F.meta)||void 0===t?void 0:t.count)||0,page:j.offset/j.limit+1,perPage:Number(j.limit),onSetPage:function(e,t){ne(t)},onPerPageSelect:function(e,t){L(M(M({},j),{},{limit:t,offset:0}))},isCompact:!0},filterConfig:{items:ce},activeFiltersConfig:se}),I?s().createElement(g.Z,null):B?s().createElement(u.Table,null,s().createElement(v.Z,null)):s().createElement(u.Table,{"aria-label":"pathways-table",variant:u.TableVariant.compact,sortBy:G,onSort:function(e,t,r){var a="".concat("asc"===r?"":"-").concat(z[t]);K({index:t,direction:r}),L(M(M({},j),{},{sort:a,offset:0}))},cells:H,rows:function(e){return 0===e.length?[{cells:[{title:s().createElement(p.Z,{icon:P.ZP,title:O.formatMessage(_.Z.noResults),text:O.formatMessage(_.Z.adjustFilters)}),props:{colSpan:6}}]}]:e.flatMap((function(e,t){return[{cells:[{title:s().createElement("span",{key:t},s().createElement(i.Link,{key:t,to:"/recommendations/pathways/".concat(e.slug)}," ",e.name," "),e.has_incident&&s().createElement(h.Z,{rule:{tags:"incident"},isCompact:!0}))},{title:s().createElement(d.Z,{key:t,labelList:e.categories,isCompact:!0})},{title:s().createElement("div",{key:t},"".concat(e.impacted_systems_count.toLocaleString()))},{title:s().createElement("span",{key:t},O.formatMessage(e.reboot_required?_.Z.required:_.Z.notRequired))},{title:s().createElement(y.Z,{key:t,recLvl:e.recommendation_level})}]}]}))}(null==F?void 0:F.data),isStickyHeader:!0},s().createElement(u.TableHeader,null),s().createElement(u.TableBody,null)),s().createElement(l.tl,{ouiaId:"page",itemCount:(null==F||null===(r=F.meta)||void 0===r?void 0:r.count)||0,page:j.offset/j.limit+1,perPage:Number(j.limit),onSetPage:function(e,t){ne(t)},onPerPageSelect:function(e,t){L(M(M({},j),{},{limit:t,offset:0}))},widgetId:"pagination-options-menu-bottom",variant:l.aM.bottom}))};w.propTypes={isTabActive:r.n(C)().bool};const x=w}}]);
//# sourceMappingURL=../sourcemaps/PathwaysTable.f2c79d21be75e0a8c711cc43f2fb92dc.js.map