(self.webpackChunkadvisor=self.webpackChunkadvisor||[]).push([[1177],{75331:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var a=n(70885),r=n(93264),s=n.n(r),l=n(64029),o=n(32835),c=n(45697),i=n.n(c),u=n(30893),m=n(75546),d=n(86896),p=n(62012),f=n(92397),g=function(e){var t,n=e.current,c=(0,d.Z)(),i=null===(t=(0,p.useLocation)().pathname)||void 0===t?void 0:t.split("/"),g=(0,r.useState)([]),v=(0,a.Z)(g,2),b=v[0],y=v[1],E=!("recommendations"===i[1]&&4===i.length)||"pathways"===i[2],h=(0,m.m1)({ruleId:i[2]},{skip:E}),Z=h.data,_=h.isFetching;return(0,r.useEffect)((function(){var e;(e=[]).push({title:"".concat(c.formatMessage(u.Z.insightsHeader)," ").concat(i[3]),navigate:"/".concat(i[3])}),E||e.push({title:null==Z?void 0:Z.description,navigate:"/".concat(i[1],"/").concat(i[2])}),"pathways"===i[2]&&(e=[{title:"Advisor pathways",navigate:"/recommendations/pathways"}]),y(e)}),[Z]),s().createElement(s().Fragment,null,!_&&b.length>0?s().createElement(l.a,{ouiaId:"detail"},b.map((function(e,t){return s().createElement(o.g,{key:t},s().createElement(f.Z,{to:e.navigate},e.title))})),s().createElement(o.g,{isActive:!0},n)):c.formatMessage(u.Z.loading))};g.propTypes={current:i().string};const v=g},52202:(e,t,n)=>{"use strict";n.d(t,{b:()=>E,k:()=>y});var a=n(68774),r=n(68340),s=n(75824),l=n(82644),o=n(29558),c=n(91290),i=n(26076),u=n(93264),m=n.n(u),d=n(70546),p=n(30893),f=n(28186),g=(0,l.Sn)(),v=navigator.language.slice(0,2),b=(0,o.d)({locale:v},g),y=function(e){return m().createElement("span",{className:"adv-system-reboot-message"},m().createElement(i.ZP,{className:e?"adv-c-icon-reboot-required":"adv-c-icon-no-reboot-required"}),m().createElement(a.D,{className:"adv-c-text-system-reboot-message pf-u-font-size-sm"},m().createElement(r.x,{component:r.q.p},b.formatMessage(p.Z.systemReboot,{strong:function(e){return(0,f.fK)(e)},status:e?b.formatMessage(p.Z.is):b.formatMessage(p.Z.isNot)}))))},E=function(e){return m().createElement(s.u,{key:e,position:s.D.right,content:m().createElement("div",null,e)},m().createElement("span",{"aria-label":"Action"},m().createElement(c.ZP,{color:d.wb.value})))}},52837:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var a=n(63732),r=n(15914),s=n(21947),l=n(99332),o=n(69507),c=n(45697),i=n.n(c),u=n(93264),m=n.n(u),d=n(30893),p=n(86896),f=n(69174),g=function(e){var t=e.icon,n=e.text;return m().createElement(f._,{icon:t,variant:"outline",color:"blue",isCompact:!0},n)};g.propTypes={icon:i().object,text:i().bool};const v=g;var b=function(e){var t,n=e.labelList,c=(0,p.Z)(),i=(t=n.map((function(e){return e.id})),Object.entries(t.reduce((function(e,t){return e[t]=(e[t]||0)+1,e}),{})).sort((function(e,t){return t[1]-e[1]})));return m().createElement(s.e,{numLabels:1,isCompact:!0},i.map((function(e){return function(e){return[m().createElement(v,{icon:m().createElement(a.ZP,null),text:c.formatMessage(d.Z.availability)}),m().createElement(v,{icon:m().createElement(l.ZP,null),text:c.formatMessage(d.Z.security)}),m().createElement(v,{icon:m().createElement(r.ZP,null),text:c.formatMessage(d.Z.stability)}),m().createElement(v,{icon:m().createElement(o.ZP,null),text:c.formatMessage(d.Z.performance)})][e]}(Number(e[0]-1))})))};b.propTypes={labelList:i().array,isCompact:i().bool},b.defaultProps={isCompact:!0};const y=b},44280:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var a=n(69174),r=n(45697),s=n.n(r),l=n(93264),o=n.n(l),c=n(30893),i=n(86896),u=function(e){var t=e.recLvl,n=(e.isCompact,(0,i.Z)()),r=function(e,t,n){return o().createElement(a._,{color:n,isCompact:!0},"".concat(e," - ").concat(t,"%"))};return t>=80?r(n.formatMessage(c.Z.high),t,"red"):t<80&&t>=50?r(n.formatMessage(c.Z.medium),t,"orange"):r(n.formatMessage(c.Z.low),t,"blue")};u.propTypes={props:s().array},u.defaultProps={isCompact:!0};const m=u},87516:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var a=n(75824),r=n(69174),s=n(45697),l=n.n(s),o=n(93264),c=n.n(o),i=n(30893),u=n(86896),m=function(e){var t,n=e.rule,s=e.isCompact,l=e.noMargin,o=(0,u.Z)();return c().createElement(c().Fragment,null,-1!==(null==n||null===(t=n.tags)||void 0===t?void 0:t.search("incident"))&&c().createElement(a.u,{content:o.formatMessage(i.Z.incidentTooltip),position:a.D.right},c().createElement(r._,{color:"red",className:l?null:"adv-c-label-incident",isCompact:s},o.formatMessage(i.Z.incident))),"disabled"===(null==n?void 0:n.rule_status)&&c().createElement(a.u,{content:o.formatMessage(i.Z.ruleIsDisabledTooltip),position:a.D.right},c().createElement(r._,{color:"gray",isCompact:s},o.formatMessage(i.Z.disabled))),"rhdisabled"===(null==n?void 0:n.rule_status)&&c().createElement(a.u,{content:o.formatMessage(i.Z.ruleIsDisabledTooltip),position:a.D.right},c().createElement(r._,{color:"gray",isCompact:s},o.formatMessage(i.Z.redhatDisabled))))};m.propTypes={rule:l().object,isCompact:l().bool,noMargin:l().bool},m.defaultProps={isCompact:!0};const d=m},46891:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var a=n(32203),r=n(62394),s=n(24561),l=n(93264),o=n.n(l);const c=function(){return o().createElement(a.Z,null,o().createElement(r.e,null,o().createElement(s.aV,null)))}},39633:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var a=n(45987),r=n(93264),s=n.n(r),l=n(45697),o=n.n(l),c=n(22663),i=n(91607),u=n(25870),m=n(52643),d=n(37619),p=["isImmutableTabOpen","conventionalSystemsCount","edgeSystemsCount","areCountsLoading","tabPathname"],f=(0,r.lazy)((function(){return n.e(4634).then(n.bind(n,23278))})),g=(0,r.lazy)((function(){return Promise.all([n.e(3631),n.e(8797),n.e(5761),n.e(4025),n.e(6935),n.e(9102)]).then(n.bind(n,34589))})),v=(0,r.lazy)((function(){return Promise.all([n.e(3631),n.e(8797),n.e(5761),n.e(4025),n.e(6935),n.e(9323)]).then(n.bind(n,87974))})),b=function(e){var t=e.isImmutableTabOpen,n=e.conventionalSystemsCount,l=e.edgeSystemsCount,o=e.areCountsLoading,b=e.tabPathname,y=(0,a.Z)(e,p),E=(0,i.y)("advisor.edge_parity"),h=(0,r.useContext)(u.I).hasEdgeDevices;return o?s().createElement(m.b,null,s().createElement(d.$,{size:"lg"})):s().createElement(c.Z,{key:"hybridInventory",appName:"inventory",module:"./HybridInventoryTabs",ConventionalSystemsTab:s().createElement(r.Suspense,{fallback:r.Fragment},y.isRecommendationDetail?s().createElement(g,y):s().createElement(v,y)),ImmutableDevicesTab:s().createElement(r.Suspense,{fallback:r.Fragment},s().createElement(f,y)),tabPathname:b,isImmutableTabOpen:t,fallback:s().createElement("div",null),columns:!0,isEdgeParityEnabled:E,accountHasEdgeImages:h,hasConventionalSystems:n>0||l<=0})};b.propTypes={isImmutableTabOpen:o().bool,conventionalSystemsCount:o().number,edgeSystemsCount:o().number,areCountsLoading:o().bool,tabPathname:o().string,rule:o().object,isRecommendationDetail:o().bool};const y=b},79364:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>te});var a=n(4942),r=n(70885),s=n(45697),l=n.n(s),o=n(50693),c=n(16475),i=n(89376),u=n(39173),m=n(93264),d=n.n(m),p=n(32203),f=n(70),g=n(62394),v=n(30157),b=n(21238),y=n(2370),E=n(26383),h=n(9940),Z=n(72575),_=n(47265),w=n(69897),k=n(8135),M=n(30893),C=n(28186),S=n(86896),P=function(e){var t,n,a=(0,S.Z)(),r=e.impacted_systems_count,s=e.incident_count,l=e.categories,i=e.critical_risk_count,u=e.high_risk_count,m=e.medium_risk_count,P=e.low_risk_count;return d().createElement(p.Z,{isFlat:!0,isPlain:!0,className:"adv-c-card-pathway adv__background--global-100 pf-u-h-100"},d().createElement(f.l,null,a.formatMessage(M.Z.totalRiskPathway)),d().createElement(g.e,{className:"body"},d().createElement(o.r,{hasGutter:!0},d().createElement(c.P,{span:6},d().createElement("div",null,d().createElement(v.k,{ariaDesc:"Total risk of recommendations",ariaTitle:"Total risk of recommendations",containerComponent:d().createElement(b.H,{labels:function(e){var t=e.datum;return"".concat(t.name,": ").concat(t.y)},constrainToVisibleArea:!0}),domainPadding:{x:[20,15]},height:150,width:300,padding:{bottom:30,left:45,right:10,top:10}},d().createElement(y.C,null),d().createElement(y.C,{dependentAxis:!0,showGrid:!0}),d().createElement(E.G,null,d().createElement(h.B,{barWidth:16,style:{data:{fill:function(e){return e.datum.fill}}},data:[{name:"Critical",x:"Critical",y:i,fill:k.Z.value},{name:"Important",x:"Important",y:u,fill:w.Z.value},{name:"Moderate",x:"Moderate",y:m,fill:_.Z.value},{name:"Low",x:"Low",y:P,fill:Z.Z.value}]}))))),d().createElement(c.P,{span:6,className:"pf-u-font-size-sm"},a.formatMessage(M.Z.thisPathway,{category:(t=l,t.length>1?l.map((function(e){return e.name})).join(", "):null===(n=t[0])||void 0===n?void 0:n.name),systems:r,incidents:s,strong:function(e){return(0,C.fK)(e)}})))))},x=n(90693),O=n(59303),T=n(52202),N=n(44280),I=function(e){var t=e.name,n=e.reboot_required,a=e.resolution_risk,r=e.recommendation_level,s=(0,S.Z)();return d().createElement(p.Z,{isFlat:!0,isPlain:!0,className:"adv-c-card-pathway adv__background--global-100 pf-u-h-100 flex-row"},d().createElement("div",{className:"flex-coloumn"},d().createElement(f.l,null,s.formatMessage(M.Z.resolution)),d().createElement("div",{className:"flex-row "},d().createElement("div",{className:"halfWidth"},d().createElement("p",{className:"pf-u-font-weight-bold pf-u-font-size-sm pf-u-pl-lg"},s.formatMessage(M.Z.remediation)),d().createElement("p",{className:"pf-u-font-size-sm pf-u-pl-lg"},t)),d().createElement(g.e,{className:" pf-u-pl-xl halfWidth"},d().createElement("p",{className:"pf-u-font-weight-bold pf-u-font-size-sm"},s.formatMessage(M.Z.riskOfChange)),d().createElement(x.Z,{text:O.MS[a.risk],value:a.risk,hideIcon:!0,isCompact:!0}))),d().createElement(g.e,{className:"body pf-u-font-size-sm"},s.formatMessage(M.Z.staticRemediationDesc)),d().createElement(g.e,{className:"body"},(0,T.k)(n))),d().createElement("div",{className:"pathwayRight pf-u-p-lg "},d().createElement("p",{className:"pf-u-font-weight-bold pf-u-font-size-sm"},s.formatMessage(M.Z.reclvl)),d().createElement("div",null,d().createElement(N.Z,{recLvl:r}))))},D=n(35262),L=n(28883),j=n(29873),z=n(28672),R=n(28216),F=n(75331),q=n(52837),K=n(62410),U=n(46891),A=n(87516),G=n(8377),H=n(62012),W=n(97109),V=n(55140),X=n(39633),B=n(91607),Q=n(1907);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J=(0,m.lazy)((function(){return Promise.all([n.e(3631),n.e(7527),n.e(4854),n.e(8797),n.e(7887),n.e(8764),n.e(7330),n.e(4739),n.e(6310),n.e(271),n.e(7413),n.e(384)]).then(n.bind(n,82661))})),ee=function(e){var t=e.isImmutableTabOpen,n=(0,S.Z)(),a=(0,H.useParams)().id,s=(0,R.useDispatch)(),l=(0,R.useSelector)((function(e){return e.filters.selectedTags})),p=(0,R.useSelector)((function(e){return e.filters.workloads})),f=(0,R.useSelector)((function(e){return e.filters.SID})),g=(0,R.useSelector)((function(e){return e.filters.recState})),v=(0,R.useSelector)((function(e){return e.filters.sysState})),b=(0,B.y)("advisor.edge_parity"),y=(0,m.useState)(0),E=(0,r.Z)(y,2),h=E[0],Z=E[1],_=(0,m.useState)(0),w=(0,r.Z)(_,2),k=w[0],C=w[1],x=(0,m.useState)(!0),O=(0,r.Z)(x,2),T=O[0],N=O[1],Y={};(null==l?void 0:l.length)&&(Y=$($({},Y),{tags:l.join(",")})),p&&(Y=$($({},Y),(0,W.s0)(p,f)));var ee=(0,G.fQ)($($({},Y),{},{slug:a})),te=ee.data,ne=void 0===te?{}:te,ae=ee.isFetching,re=(0,H.useLocation)().pathname,se=(0,m.useState)(re.includes("/recommendations/pathways/systems/")?1:0),le=(0,r.Z)(se,2),oe=le[0],ce=le[1],ie=(0,V.Z)();(0,m.useEffect)((function(){ne&&!ae&&ie.updateDocumentTitle(n.formatMessage(M.Z.documentTitle,{subnav:"".concat(ne.name," - ").concat(M.Z.pathways.defaultMessage)}))}),[ie,n,ne,re,ae]);return(0,m.useEffect)((function(){var e=$({},g),t=$({},v),n={pathway:a,limit:20,offset:0};return s((0,z.hb)($($({},n),{},{sort:"category",impacting:!0}))),s((0,z.pu)($({},n))),re.includes("/recommendations/pathways/systems/")&&setTimeout((function(){var e;(e="#tablesContainer",new Promise((function(t){if(document.querySelector(e))return t(document.querySelector(e));var n=new MutationObserver((function(){document.querySelector(e)&&(t(document.querySelector(e)),n.disconnect())}))}))).then((function(){document.getElementById("tablesContainer").scrollIntoView({behavior:"smooth"})}))}),5e3),function(){s((0,z.hb)(e)),s((0,z.pu)(t))}}),[]),(0,m.useEffect)((function(){b&&(0,Q.MX)(void 0,void 0,Z,C,N,a)}),[b,a]),d().createElement(d().Fragment,null,ae?d().createElement(U.Z,null):d().createElement(d().Fragment,null,d().createElement(i.Z,{className:"adv-c-page__header"},d().createElement(F.Z,{ouiaId:"override",current:ne.name||""}),d().createElement(u.Z,{title:d().createElement(d().Fragment,null,ne.name,ne.has_incident&&d().createElement(A.Z,{rule:{tags:"incident"}}))}),d().createElement("p",{className:"pf-u-mb-lg"},n.formatMessage(M.Z.rulesDetailsModifieddate,{date:d().createElement(K.Z,{date:new Date(ne.publish_date),type:"onlyDate"})}),d().createElement("span",{className:"pf-u-pl-sm"},d().createElement(q.Z,{labelList:ne.categories}))),d().createElement("p",{className:"pf-u-mb-lg"},ne.description)),d().createElement("section",{className:"pf-u-p-lg"},d().createElement(o.r,{hasGutter:!0},d().createElement(c.P,{sm:12,md:6},d().createElement(P,ne)),d().createElement(c.P,{sm:12,md:6},d().createElement(I,ne))))),ae&&d().createElement(U.Z,null),d().createElement("section",{className:"pf-u-px-lg pf-u-pb-lg"},d().createElement(D.m,{className:"adv__background--global-100",activeKey:oe,onSelect:function(e,t){return ce(t)}},d().createElement(L.O,{eventKey:0,title:d().createElement(j.T,null,n.formatMessage(M.Z.recommendations))},ae?d().createElement(U.Z,null):d().createElement(m.Suspense,{fallback:d().createElement(U.Z,null)},d().createElement(J,null))),d().createElement(L.O,{eventKey:1,title:d().createElement(j.T,null,n.formatMessage(M.Z.systems))},ae?d().createElement(U.Z,null):d().createElement(m.Suspense,{fallback:d().createElement(U.Z,null)},d().createElement(X.Z,{pathway:ne,selectedTags:l,workloads:p,SID:f,isImmutableTabOpen:t,tabPathname:"/insights/advisor/recommendations/pathways/".concat(a),edgeSystemsCount:h,conventionalSystemsCount:k,areCountsLoading:T}))))))};ee.propTypes={isImmutableTabOpen:l().bool};const te=ee},1907:(e,t,n)=>{"use strict";n.d(t,{EW:()=>m,MX:()=>g,YK:()=>p,gi:()=>d});var a=n(15861),r=n(87757),s=n.n(r),l=n(59303),o=n(71094),c=n(30893),i=n(9669),u=n.n(i),m=function(e){var t,n=null==e||null===(t=e.resolution_set)||void 0===t?void 0:t.find((function(e){return e.system_type===l.CO.rhel||l.CO.ocp}));return n?n.resolution_risk.risk:void 0},d=function(){var e=(0,a.Z)(s().mark((function e(t,n,a,r,i){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,o.Sp)("".concat(l._n,"/ack/").concat(t.rule_id,"/"));case 3:r({variant:"success",timeout:!0,dismissable:!0,title:a.formatMessage(c.Z.recSuccessfullyEnabled)}),n(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),i(!1),r({variant:"danger",dismissable:!0,title:a.formatMessage(c.Z.error),description:"".concat(e.t0)});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a,r,s){return e.apply(this,arguments)}}(),p=function(){var e=(0,a.Z)(s().mark((function e(t){var n,a,r,i,u,m,d;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.refetch,a=t.addNotification,r=t.intl,i=t.rule,e.prev=1,e.next=4,(0,o.dX)("".concat(l._n,"/hostack/"),{},{rule_id:i.rule_id,limit:i.hosts_acked_count});case 4:return m=e.sent.data,d={systems:null==m||null===(u=m.data)||void 0===u?void 0:u.map((function(e){return e.system_uuid}))},e.next=8,(0,o.SO)("".concat(l._n,"/rule/").concat(i.rule_id,"/unack_hosts/"),{},d);case 8:n(),a({variant:"success",timeout:!0,dismissable:!0,title:r.formatMessage(c.Z.recSuccessfullyEnabled)}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),a({variant:"danger",dismissable:!0,title:r.formatMessage(c.Z.error),description:"".concat(e.t0)});case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),f=function(e){var t=e.ruleId,n=e.pathway;return t?{conventionalURL:"/api/insights/v1/rule/".concat(t,"/systems_detail/?filter[system_profile][host_type][nil]=true&limit=1"),edgeURL:"/api/insights/v1/rule/".concat(t,"/systems_detail/?filter[system_profile][host_type]=edge&limit=1")}:{conventionalURL:"/api/insights/v1/system/?limit=1&filter[system_profile][host_type][nil]=true&pathway=".concat(n),edgeURL:"/api/insights/v1/system/?limit=1&filter[system_profile][host_type]=edge&pathway=".concat(n)}},g=function(){var e=(0,a.Z)(s().mark((function e(t,n,a,r,l,o){var c,i,m,d;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=0,i=f({ruleId:t,pathway:o}),m=i.conventionalURL,d=i.edgeURL,e.prev=2,e.next=5,u().get(m).then((function(e){var t=e.data;c=c+=t.meta.count,r(t.meta.count)}));case 5:return e.next=7,u().get(d).then((function(e){var t=e.data;c=c+=t.meta.count,a(t.meta.count)}));case 7:n&&n(c),l(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0),l(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,n,a,r,s,l){return e.apply(this,arguments)}}()},45467:()=>{},11452:()=>{},58392:()=>{},34946:()=>{},80598:()=>{},32857:()=>{},10108:()=>{},21064:()=>{},82014:()=>{},98379:()=>{},56024:()=>{},43390:()=>{},49854:()=>{},72816:()=>{}}]);
//# sourceMappingURL=../sourcemaps/Details-Pathways.3ec789242487e46376246bc987fd6267.js.map