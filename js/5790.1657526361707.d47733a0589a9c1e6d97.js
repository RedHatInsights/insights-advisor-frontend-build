/*! For license information please see 5790.1657526361707.d47733a0589a9c1e6d97.js.LICENSE.txt */
"use strict";(self.webpackChunkadvisor_frontend=self.webpackChunkadvisor_frontend||[]).push([[5790],{81159:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Stack=void 0;const a=r(70655),n=a.__importStar(r(93264)),o=a.__importDefault(r(73976)),i=r(38296);t.Stack=e=>{var{hasGutter:t=!1,className:r="",children:l=null,component:s="div"}=e,c=a.__rest(e,["hasGutter","className","children","component"]);const u=s;return n.createElement(u,Object.assign({},c,{className:i.css(o.default.stack,t&&o.default.modifiers.gutter,r)}),l)},t.Stack.displayName="Stack"},34023:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StackItem=void 0;const a=r(70655),n=a.__importStar(r(93264)),o=a.__importDefault(r(73976)),i=r(38296);t.StackItem=e=>{var{isFilled:t=!1,className:r="",children:l=null}=e,s=a.__rest(e,["isFilled","className","children"]);return n.createElement("div",Object.assign({},s,{className:i.css(o.default.stackItem,t&&o.default.modifiers.fill,r)}),l)},t.StackItem.displayName="StackItem"},88292:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const a=r(70655);a.__exportStar(r(81159),t),a.__exportStar(r(34023),t)},61829:(e,t,r)=>{t.Fs={name:"AnsibeTowerIcon",height:390,width:390,svgPath:"M402.6,214.7c0,103.9-84.2,188.1-188.1,188.1c-103.9,0-188.1-84.2-188.1-188.1  c0-103.9,84.2-188.1,188.1-188.1C318.4,26.6,402.6,110.8,402.6,214.7z M304.1,289.3l-74.9-180.2c-2.1-5.2-6.4-7.9-11.6-7.9c-5.2,0-9.8,2.8-11.9,7.9l-82.2,197.7h28.1l32.5-81.5  l97.1,78.4c3.9,3.2,6.7,4.6,10.4,4.6c7.3,0,13.7-5.5,13.7-13.4C305.4,293.6,305,291.5,304.1,289.3z M217.7,141.5l48.7,120.2  l-73.5-57.9L217.7,141.5z",yOffset:20,xOffset:20},t.Q2=r(35183).createIcon(t.Fs),t.ZP=t.Q2},73976:(e,t,r)=>{r.r(t),r.d(t,{default:()=>a}),r.e(3519).then(r.t.bind(r,53519,23));const a={modifiers:{fill:"pf-m-fill",gutter:"pf-m-gutter"},stack:"pf-l-stack",stackItem:"pf-l-stack__item"}},65790:(e,t,r)=>{r.r(t),r.d(t,{default:()=>ne});var a=r(71002),n=r(15861),o=r(42982),i=r(4942),l=r(70885),s=r(59303),c=r(75662),u=r(13877),f=r(93264),m=r.n(f),d=r(88292),p=r(17855),h=r(76004),y=r(97109),v=r(28216),g=r(61829),b=r(84785),k=r(6202),_=r(66584),E=r(62410),W=r(71094),P=r(44788),w=r(76341),x=r(72729),Z=r(46891),S=r(14748),M=r(7887),O=r(81783),C=r(87516),L=r(95358),T=r(71355),j=r(40609),N=r(58921),A=r(30893),F=r(28186),D=r(28672),I=r(75546),R=r(86896),G=r(43707),V=r(14938),B=r(45697),z=r.n(B),H=r(52017),Y=r(70655),U=r(680);function q(e){var t=(0,R.Z)(),r=t.formatMessage,a=t.textComponent,n=void 0===a?f.Fragment:a,o=e.id,i=e.description,l=e.defaultMessage,s=e.values,c=e.children,u=e.tagName,m=void 0===u?n:u,d=r({id:o,description:i,defaultMessage:l},s,{ignoreTag:e.ignoreTag});return"function"==typeof c?c(Array.isArray(d)?d:[d]):m?f.createElement(m,null,f.Children.toArray(d)):f.createElement(f.Fragment,null,d)}q.displayName="FormattedMessage";var K=f.memo(q,(function(e,t){var r=e.values,a=(0,Y.__rest)(e,["values"]),n=t.values,o=(0,Y.__rest)(t,["values"]);return(0,U.wU)(n,r)&&(0,U.wU)(a,o)}));K.displayName="MemoizedFormattedMessage";const Q=K;var J=r(34702),$=function(e){var t=e.filters,r=e.toggleRulesDisabled,a=ee()[t.rule_status]||ee().default;return m().createElement(J.Z,{icon:H.CheckCircleIcon,iconClass:"ansibleCheck",title:a.title,text:a.body},"enabled"===t.rule_status&&m().createElement(V.Button,{variant:"link",style:{paddingTop:24},onClick:function(){return r("all")}},m().createElement(Q,{id:"rulestable.norulehits.adddisabledbutton"})))};$.propTypes={filters:z().object,toggleRulesDisabled:z().func};const X=$;var ee=function(){var e=m().createElement(Q,{id:"rulestable.norulehits.title"});return{enabled:{title:e,body:m().createElement(m().Fragment,null,m().createElement(V.Text,null,m().createElement(Q,{id:"rulestable.norulehits.enabledrulesbody"})),m().createElement(V.Text,null,m().createElement(Q,{id:"rulestable.norulehits.enabledrulesbodysecondline"})))},disabled:{title:e,body:m().createElement(m().Fragment,null,m().createElement(V.Text,null,m().createElement(Q,{id:"rulestable.norules.disabledrulesbody"})),m().createElement(V.Text,null,m().createElement(Q,{id:"rulestable.norules.disabledrulesbodysecondline"})))},rhdisabled:{title:e,body:m().createElement(V.Text,null,m().createElement(Q,{id:"rulestable.norules.redhatdisabledrulesbody"}))},default:{title:e,body:m().createElement(V.Text,null,m().createElement(Q,{id:"noRecommendations"}))}}};function te(){te=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",l=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function c(e,t,r,a){var n=t&&t.prototype instanceof m?t:m,o=Object.create(n.prototype),i=new P(a||[]);return o._invoke=function(e,t,r){var a="suspendedStart";return function(n,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw o;return{value:void 0,done:!0}}for(r.method=n,r.arg=o;;){var i=r.delegate;if(i){var l=_(i,r);if(l){if(l===f)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var s=u(e,t,r);if("normal"===s.type){if(a=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a="completed",r.method="throw",r.arg=s.arg)}}}(e,r,i),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function m(){}function d(){}function p(){}var h={};s(h,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(w([])));v&&v!==t&&r.call(v,o)&&(h=v);var g=p.prototype=m.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,i,l,s){var c=u(e[o],e,i);if("throw"!==c.type){var f=c.arg,m=f.value;return m&&"object"==(0,a.Z)(m)&&r.call(m,"__await")?t.resolve(m.__await).then((function(e){n("next",e,l,s)}),(function(e){n("throw",e,l,s)})):t.resolve(m).then((function(e){f.value=e,l(f)}),(function(e){return n("throw",e,l,s)}))}s(c.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var n=a.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function W(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function w(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:x}}function x(){return{value:void 0,done:!0}}return d.prototype=p,s(g,"constructor",p),s(p,"constructor",d),d.displayName=s(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,l,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(k.prototype),s(k.prototype,i,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,a,n,o){void 0===o&&(o=Promise);var i=new k(c(t,r,a,n),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),s(g,l,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var a=t.pop();if(a in e)return r.value=a,r.done=!1,r}return r.done=!0,r}},e.values=w,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(W),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return i.type="throw",i.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),W(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;W(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:w(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const ne=function(){var e,t,r=(0,R.Z)(),a=(0,v.useDispatch)(),V=(0,c.useLocation)().search,B=(0,G.T)("advisor",s.Gd.export).hasAccess,z=(0,G.T)("advisor",s.Gd.disableRec).hasAccess,H=(0,f.useState)([{title:r.formatMessage(A.Z.name),transforms:[p.sortable,(0,p.cellWidth)(40)]},{title:r.formatMessage(A.Z.modified),transforms:[p.sortable,(0,p.cellWidth)(10)]},{title:r.formatMessage(A.Z.category),transforms:[p.sortable,(0,p.cellWidth)(10)]},{title:r.formatMessage(A.Z.totalRisk),transforms:[p.sortable,(0,p.cellWidth)(15)]},{title:r.formatMessage(A.Z.riskOfChange),transforms:[p.sortable,(0,p.cellWidth)(15)]},{title:r.formatMessage(A.Z.systems),transforms:[p.sortable,(0,p.cellWidth)(15)]},{title:r.formatMessage(A.Z.remediation),transforms:[p.sortable,(0,p.cellWidth)(15),p.fitContent]}]),Y=(0,l.Z)(H,1)[0],U=(0,v.useSelector)((function(e){return e.filters.selectedTags})),q=(0,v.useSelector)((function(e){return e.filters.workloads})),K=(0,v.useSelector)((function(e){return e.filters.SID})),Q=(0,v.useSelector)((function(e){return e.filters.recState})),J=(0,f.useState)([]),$=(0,l.Z)(J,2),ee=$[0],re=$[1],ne=(0,f.useState)({}),oe=(0,l.Z)(ne,2),ie=oe[0],le=oe[1],se=(0,f.useState)(!0),ce=(0,l.Z)(se,2),ue=ce[0],fe=ce[1],me=(0,f.useState)((null==Q?void 0:Q.text)||""),de=(0,l.Z)(me,2),pe=de[0],he=de[1],ye=(0,f.useState)(!1),ve=(0,l.Z)(ye,2),ge=ve[0],be=ve[1],ke=(0,f.useState)({}),_e=(0,l.Z)(ke,2),Ee=_e[0],We=_e[1],Pe=(0,f.useState)(!1),we=(0,l.Z)(Pe,2),xe=we[0],Ze=we[1],Se=(0,f.useState)({}),Me=(0,l.Z)(Se,2),Oe=Me[0],Ce=Me[1],Le=(0,f.useState)(!1),Te=(0,l.Z)(Le,2),je=Te[0],Ne=Te[1],Ae=function(e){return a((0,T.addNotification)(e))},Fe=function(e){return a((0,D.hb)(e))},De={};(null==U?void 0:U.length)&&(De=ae(ae({},De),{tags:U.join(",")})),q&&(De=ae(ae({},De),(0,y.s0)(q,K)));var Ie=(0,I.Bs)(ae(ae({},(0,y.qW)(Q)),De)),Re=Ie.data,Ge=void 0===Re?[]:Re,Ve=Ie.isFetching,Be=Ie.isLoading,ze=Ie.isError,He=Ie.refetch,Ye=(0,j.Z)(pe,s.$x),Ue=(null==Ge||null===(e=Ge.meta)||void 0===e?void 0:e.count)||0,qe={1:"description",2:"publish_date",3:"category",4:"total_risk",5:"resolution_risk",6:"impacted_count",7:"playbook_count"};(0,f.useEffect)((function(){ue||null===U||(0,y.Y4)(Q,U)}),[Q,U,q,K]);var Ke=function(e){var t=e*Q.limit-Q.limit;Fe(ae(ae({},Q),{},{offset:t}))},Qe=function(e){Fe(ae(ae({},Q),{},{rule_status:e,offset:0},"enabled"!==e&&{impacting:["false"]}))},Je=function(){var e=(0,n.Z)(te().mark((function e(t){var a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=ee[t].rule,e.prev=1,"enabled"!==a.rule_status){e.next=7;break}We(a),be(!0),e.next=17;break;case 7:return e.prev=7,e.next=10,(0,W.Sp)("".concat(s._n,"/ack/").concat(a.rule_id,"/"));case 10:Ae({variant:"success",timeout:!0,dismissable:!0,title:r.formatMessage(A.Z.recSuccessfullyEnabled)}),He(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),Ae({variant:"danger",dismissable:!0,title:r.formatMessage(A.Z.error),description:"".concat(e.t0)});case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(1),Ae({variant:"danger",dismissable:!0,title:"enabled"===a.rule_status?r.formatMessage(A.Z.rulesTableHideReportsErrorDisabled):r.formatMessage(A.Z.rulesTableHideReportsErrorEnabled),description:"".concat(e.t1)});case 22:case"end":return e.stop()}}),e,null,[[1,19],[7,14]])})));return function(t){return e.apply(this,arguments)}}();(0,f.useEffect)((function(){if(V&&ue){var e=(0,y.yG)();delete e.tags,void 0===e.text?he(""):he(e.text),e.sort=void 0===e.sort?"-total_risk":e.sort[0],void 0!==e.has_playbook&&!Array.isArray(e.has_playbook)&&(e.has_playbook=["".concat(e.has_playbook)]),void 0!==e.incident&&!Array.isArray(e.incident)&&(e.incident=["".concat(e.incident)]),void 0===e.offset?e.offset=0:e.offset=Number(e.offset[0]),void 0===e.limit?e.limit=20:e.limit=Number(e.limit[0]),void 0!==e.reboot&&!Array.isArray(e.reboot)&&(e.reboot=["".concat(e.reboot)]),void 0!==e.impacting&&!Array.isArray(e.impacting)&&(e.impacting=["".concat(e.impacting)]),Fe(ae(ae({},Q),e))}fe(!1)}),[]),(0,f.useEffect)((function(){var e,t=null===(e=Object.entries(qe))||void 0===e?void 0:e.find((function(e){return e[1]===Q.sort||"-".concat(e[1])===Q.sort}));if(void 0!==Q.sort&&t){var r="-"===Q.sort[0]?"desc":"asc";le({index:Number(t[0]),direction:r})}}),[Q.sort]),(0,f.useEffect)((function(){if(Ge.data)if(0===Ge.data.length)re(function(e,t){return[{cells:[{title:m().createElement(X,{filters:e,toggleRulesDisabled:t}),props:{colSpan:6}}]}]}(Q,Qe));else{var e=Ge.data.flatMap((function(e,t){return[{isOpen:je,rule:e,cells:[{title:m().createElement("span",{key:t},m().createElement(c.Link,{key:t,to:"/recommendations/".concat(e.rule_id)}," ",e.description," "),m().createElement(C.Z,{rule:e,isCompact:!0}))},{title:m().createElement(E.Z,{key:t,date:e.publish_date,variant:"relative"})},{title:m().createElement(_.Z,{key:t,labelList:[e.category],isCompact:!0})},{title:m().createElement("div",{key:t},m().createElement(h.Tooltip,{key:t,position:h.TooltipPosition.bottom,content:r.formatMessage(A.Z.rulesDetailsTotalRiskBody,{risk:s.Nq[e.total_risk]||r.formatMessage(A.Z.undefined),strong:function(e){return(0,F.fK)(e)}})},m().createElement(x.Z,{value:e.total_risk,isCompact:!0})))},{title:m().createElement("div",{key:t},m().createElement(x.Z,{text:s.MS[(0,y.EW)(e)],value:(0,y.EW)(e),hideIcon:!0,isCompact:!0}),m().createElement("div",null))},{title:"rhdisabled"===e.rule_status?m().createElement(h.Tooltip,{content:r.formatMessage(A.Z.byEnabling,{systems:e.impacted_systems_count})},m().createElement("span",null,r.formatMessage(A.Z.nA))):m().createElement("div",{key:t},"".concat(e.impacted_systems_count.toLocaleString()))},{title:m().createElement("div",{className:"ins-c-center-text ",key:t},e.playbook_count?m().createElement("span",null,m().createElement(g.ZP,{size:"sm"})," ",r.formatMessage(A.Z.playbook)):r.formatMessage(A.Z.manual))}]},{parent:2*t,fullWidth:!0,cells:[{title:m().createElement(S.Z,{className:"pf-m-light"},m().createElement(d.Stack,{hasGutter:!0},e.hosts_acked_count?m().createElement(d.StackItem,null,m().createElement(b.ZP,{size:"sm"})," ",e.hosts_acked_count&&!e.impacted_systems_count?r.formatMessage(A.Z.ruleIsDisabledForAllSystems):r.formatMessage(A.Z.ruleIsDisabledForSystemsBody,{systems:e.hosts_acked_count})," "," ",m().createElement(k.Button,{isInline:!0,variant:"link",ouiaId:"viewSystem",onClick:function(){Ce(e),Ze(!0)}},r.formatMessage(A.Z.viewSystems))):m().createElement(m().Fragment,null),m().createElement(O.Ii,{messages:(0,F.k5)(r,O.TO,(0,F.jL)(r,e)),product:O.D1.rhel,rule:e,resolutionRisk:(0,y.EW)(e),resolutionRiskDesc:s.wY[(0,y.EW)(e)],isDetailsPage:!1,showViewAffected:!0,linkComponent:c.Link,knowledgebaseUrl:e.node_id?"https://access.redhat.com/node/".concat(e.node_id):""})))}]}]}));re(e)}}),[Ge]),(0,f.useEffect)((function(){if(!ue&&!Be){var e=ae({},Q),t=pe.length?{text:pe}:{};delete e.text,Fe(ae(ae(ae({},e),t),{},{offset:0}))}}),[Ye]);var $e,Xe=function(e){var t=ae(ae({},Q),{},{offset:0});"text"===e&&he(""),delete t[e],Fe(t)},et=function(e,t){t.length>0?Fe(ae(ae({},Q),{},{offset:0},(0,i.Z)({},e,t))):Xe(e)},tt=[{label:r.formatMessage(A.Z.name).toLowerCase(),filterValues:{key:"text-filter",onChange:function(e,t){return he(t)},value:pe,placeholder:r.formatMessage(A.Z.filterBy)}},{label:s.W2.total_risk.title,type:s.W2.total_risk.type,id:s.W2.total_risk.urlParam,value:"checkbox-".concat(s.W2.total_risk.urlParam),filterValues:{key:"".concat(s.W2.total_risk.urlParam,"-filter"),onChange:function(e,t){return et(s.W2.total_risk.urlParam,t)},value:Q.total_risk,items:s.W2.total_risk.values}},{label:s.W2.res_risk.title,type:s.W2.res_risk.type,id:s.W2.res_risk.urlParam,value:"checkbox-".concat(s.W2.res_risk.urlParam),filterValues:{key:"".concat(s.W2.res_risk.urlParam,"-filter"),onChange:function(e,t){return et(s.W2.res_risk.urlParam,t)},value:Q.res_risk,items:s.W2.res_risk.values}},{label:s.W2.impact.title,type:s.W2.impact.type,id:s.W2.impact.urlParam,value:"checkbox-".concat(s.W2.impact.urlParam),filterValues:{key:"".concat(s.W2.impact.urlParam,"-filter"),onChange:function(e,t){return et(s.W2.impact.urlParam,t)},value:Q.impact,items:s.W2.impact.values}},{label:s.W2.likelihood.title,type:s.W2.likelihood.type,id:s.W2.likelihood.urlParam,value:"checkbox-".concat(s.W2.likelihood.urlParam),filterValues:{key:"".concat(s.W2.likelihood.urlParam,"-filter"),onChange:function(e,t){return et(s.W2.likelihood.urlParam,t)},value:Q.likelihood,items:s.W2.likelihood.values}},{label:s.W2.category.title,type:s.W2.category.type,id:s.W2.category.urlParam,value:"checkbox-".concat(s.W2.category.urlParam),filterValues:{key:"".concat(s.W2.category.urlParam,"-filter"),onChange:function(e,t){return et(s.W2.category.urlParam,t)},value:Q.category,items:s.W2.category.values}},{label:s.W2.incident.title,type:s.W2.incident.type,id:s.W2.incident.urlParam,value:"checkbox-".concat(s.W2.incident.urlParam),filterValues:{key:"".concat(s.W2.incident.urlParam,"-filter"),onChange:function(e,t){return et(s.W2.incident.urlParam,t)},value:Q.incident,items:s.W2.incident.values}},{label:s.W2.has_playbook.title,type:s.W2.has_playbook.type,id:s.W2.has_playbook.urlParam,value:"checkbox-".concat(s.W2.has_playbook.urlParam),filterValues:{key:"".concat(s.W2.has_playbook.urlParam,"-filter"),onChange:function(e,t){return et(s.W2.has_playbook.urlParam,t)},value:Q.has_playbook,items:s.W2.has_playbook.values}},{label:s.W2.reboot.title,type:s.W2.reboot.type,id:s.W2.reboot.urlParam,value:"checkbox-".concat(s.W2.reboot.urlParam),filterValues:{key:"".concat(s.W2.reboot.urlParam,"-filter"),onChange:function(e,t){return et(s.W2.reboot.urlParam,t)},value:Q.reboot,items:s.W2.reboot.values}},{label:s.W2.rule_status.title,type:s.W2.rule_status.type,id:s.W2.rule_status.urlParam,value:"radio-".concat(s.W2.rule_status.urlParam),filterValues:{key:"".concat(s.W2.rule_status.urlParam,"-filter"),onChange:function(e,t){return Qe(t)},value:"".concat(Q.rule_status),items:s.W2.rule_status.values}},{label:s.W2.impacting.title,type:s.W2.impacting.type,id:s.W2.impacting.urlParam,value:"checkbox-".concat(s.W2.impacting.urlParam),filterValues:{key:"".concat(s.W2.impacting.urlParam,"-filter"),onChange:function(e,t){return et(s.W2.impacting.urlParam,t)},value:Q.impacting,items:s.W2.impacting.values}}],rt={deleteTitle:r.formatMessage(A.Z.resetFilters),filters:($e=ae({},Q),delete $e.topic,delete $e.sort,delete $e.offset,delete $e.limit,(0,y.yK)($e,s.W2)),showDeleteButton:!0,onDelete:function(e,t,r){r?(he(""),Fe(ae(ae({},Q.topic&&{topic:Q.topic}),{},{impacting:["true"],rule_status:"enabled",limit:Q.limit,offset:Q.offset,pathway:Q.pathway}))):t.map((function(e){var t=(0,i.Z)({},e.urlParam,Array.isArray(Q[e.urlParam])?Q[e.urlParam].filter((function(t){return String(t)!==String(e.chips[0].value)})):"");t[e.urlParam].length>0?Fe(ae(ae({},Q),t)):Xe(e.urlParam)}))}};return m().createElement(m().Fragment,null,xe&&m().createElement(L.Z,{handleModalToggle:function(e){return Ze(e)},isModalOpen:xe,afterFn:function(){He()},rule:Oe}),ge&&m().createElement(P.Z,{handleModalToggle:be,isModalOpen:ge,rule:Ee,afterFn:He}),m().createElement(M.Z,{expandAll:{isAllExpanded:je,onClick:function(e,t){var r=(0,o.Z)(ee);Ne(t),r.map((function(e,a){Object.prototype.hasOwnProperty.call(e,"isOpen")&&(r[a]=ae(ae({},e),{},{isOpen:t}))})),re(r)}},pagination:{itemCount:Ue,page:Q.offset/Q.limit+1,perPage:Number(Q.limit),onSetPage:function(e,t){Ke(t)},onPerPageSelect:function(e,t){Fe(ae(ae({},Q),{},{limit:t,offset:0}))},isCompact:!0},exportConfig:(t={label:r.formatMessage(A.Z.exportCsv)},(0,i.Z)(t,"label",r.formatMessage(A.Z.exportJson)),(0,i.Z)(t,"onSelect",(function(e,t){return(0,N.Z)("hits",t,Q,U,q,K,a)})),(0,i.Z)(t,"isDisabled",!B),(0,i.Z)(t,"tooltipText",B?r.formatMessage(A.Z.exportData):r.formatMessage(A.Z.permsAction)),t),filterConfig:{items:tt},activeFiltersConfig:rt}),Ve?m().createElement(Z.Z,null):ze?m().createElement(w.Z,{message:r.formatMessage(A.Z.rulesTableFetchRulesError)}):m().createElement(p.Table,{"aria-label":"rule-table",variant:p.TableVariant.compact,actionResolver:function(e,t){var a=t.rowIndex,n=ee[a].rule?ee[a].rule:null;return a%2==0&&n?n&&"enabled"===n.rule_status?[{title:r.formatMessage(A.Z.disableRule),onClick:function(e,t){return Je(t)}}]:[{title:r.formatMessage(A.Z.enableRule),onClick:function(e,t){return Je(t)}}]:null},onCollapse:function(e,t,r){var a=(0,o.Z)(ee);a[t]=ae(ae({},a[t]),{},{isOpen:r}),re(a)},sortBy:ie,onSort:function(e,t,r){var a="".concat("asc"===r?"":"-").concat(qe[t]);le({index:t,direction:r}),Fe(ae(ae({},Q),{},{sort:a,offset:0}))},cells:Y,rows:ee,areActionsDisabled:function(){return!z},isStickyHeader:!0},m().createElement(p.TableHeader,null),m().createElement(p.TableBody,null)),m().createElement(u.tl,{ouiaId:"page",itemCount:Ue,page:Q.offset/Q.limit+1,perPage:Number(Q.limit),onSetPage:function(e,t){Ke(t)},onPerPageSelect:function(e,t){Fe(ae(ae({},Q),{},{limit:t,offset:0}))},widgetId:"pagination-options-menu-bottom",variant:u.aM.bottom}))}},40609:(e,t,r)=>{r.d(t,{Z:()=>o});var a=r(70885),n=r(93264);const o=function(e,t){var r=(0,n.useState)(e),o=(0,a.Z)(r,2),i=o[0],l=o[1];return(0,n.useEffect)((function(){var r=setTimeout((function(){l(e)}),t);return function(){clearTimeout(r)}}),[t,e]),i}}}]);
//# sourceMappingURL=../sourcemaps/5790.149fc43d6a3ad222b3c778133c61ff50.js.map