(self.webpackChunkadvisor_frontend=self.webpackChunkadvisor_frontend||[]).push([[7641],{43147:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});var r=n(96156),a=n(64169),o=n(48716),s=n(39173),c=n(97522),l=n.n(c),i=n(86350),u=n(45697),f=n.n(u),p=n(28481),m=n(89734),d=n.n(m),g=n(38532),Z=n(23218),b=n(16530),y=n(82141),E=n(75824),h=n(57277),v=n(48794),S=n(47668),w=n(77669),M=n(43476),O=n(74806),T=n(18623),k=n(36873),j=function(e){var t=e.topics,n=e.topicsFetchStatus,r=e.intl,a=(0,c.useState)(""),o=(0,p.Z)(a,2),s=o[0],i=o[1],u=(0,c.useState)([{title:r.formatMessage(T.Z.name),transforms:[g.sortable]},"",{title:r.formatMessage(T.Z.featured),transforms:[g.sortable,g.wrappable]},{title:r.formatMessage(T.Z.affectedSystems),transforms:[g.sortable,g.wrappable]}]),f=(0,p.Z)(u,1)[0],m=(0,c.useState)([]),M=(0,p.Z)(m,2),O=M[0],k=M[1],j=(0,c.useState)({index:2,direction:"desc"}),P=(0,p.Z)(j,2),D=P[0],C=P[1],F=function(e){return e.flatMap((function(e,t){return 0===s.length||e.name.toLowerCase().includes(s.toLowerCase())?[{topic:e,cells:[{title:l().createElement("span",{key:t},l().createElement(b.Link,{key:t,to:"/topics/".concat(e.slug)}," ",e.name," ")),props:{colSpan:2}},{title:l().createElement("span",{key:t}," ",e.featured&&l().createElement(Z._,{color:"blue",icon:l().createElement(S.ZP,null)},r.formatMessage(T.Z.featured))," ")},{title:l().createElement("span",{className:"pf-m-center",key:t}," ",e.impacted_systems_count,"                ")}]}]:[]}))},L=function(e,n,r){var a={0:d()(t,[function(e){return e.name}]),2:d()(t,[function(e){return e.featured}]),3:d()(t,[function(e){return e.impacted_systems_count}])},o=r===g.SortByDirection.asc?a[n]:a[n].reverse();C({index:n,direction:r}),k(F(o))},x={filters:s.length?[{category:"Description",chips:[{name:s,value:s}]}]:[],onDelete:function(){i(""),C({})}};(0,c.useEffect)((function(){D.index?L(0,D.index,D.direction):k(F(t).asMutable())}),[t,s]);var _=[{label:r.formatMessage(T.Z.name),filterValues:{key:"text-filter",onChange:function(e,t){i(t),C({})},value:s}}];return l().createElement(l().Fragment,null,""===n||"pending"===n&&l().createElement(y.Z,null),"fulfilled"===n&&t.length>0&&l().createElement(l().Fragment,null,l().createElement(h.Z,{filterConfig:{items:_},activeFiltersConfig:x}),l().createElement(g.Table,{"aria-label":"topics-table",sortBy:D,onSort:L,cells:f,rows:O,ouiaId:"topicTable"},l().createElement(g.TableHeader,null),l().createElement(g.TableBody,null),0===O.length&&"pending"!==n&&k([{cells:[{title:l().createElement(E.Z,{icon:v.ZP,title:r.formatMessage(T.Z.noHitsTitle,{item:r.formatMessage(T.Z.topics).toLowerCase()}),text:r.formatMessage(T.Z.noHitsBody,{item:r.formatMessage(T.Z.topics).toLowerCase()})}),props:{colSpan:4}}]}]))),"failed"===n||"rejected"===n||"fulfilled"===n&&0===t.length&&l().createElement(E.Z,{icon:w.ZP,title:r.formatMessage(T.Z.topicsListNotopicsTitle),text:r.formatMessage(T.Z.topicsListNotopicsBody)}))};j.propTypes={topics:f().array,topicsFetchStatus:f().string,intl:f().any};const P=(0,O.ZP)((0,k.Z)((0,M.connect)((function(e){return{topics:e.AdvisorStore.topics,topicsFetchStatus:e.AdvisorStore.topicsFetchStatus}}),null)(j)));var D=n(26042);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=function(e){var t=e.fetchTopics,n=e.intl,r=e.selectedTags,a=e.workloads,u=e.SID;return document.title=n.formatMessage(T.Z.documentTitle,{subnav:T.Z.topics.defaultMessage}),(0,c.useEffect)((function(){var e=null!==r&&r.length&&{tags:r};a&&(e=F(F({},e),(0,D.s0)(a,u))),t(e)}),[t,r,a,u]),l().createElement(l().Fragment,null,l().createElement(o.Z,null,l().createElement(s.Z,{title:"".concat(n.formatMessage(T.Z.insightsHeader)," ").concat(n.formatMessage(T.Z.topics).toLowerCase())})),l().createElement(i.Z,null,l().createElement(P,null)))};L.displayName="list-topics",L.propTypes={fetchTopics:f().func,intl:f().any,selectedTags:f().array,workloads:f().object,SID:f().object};const x=(0,O.ZP)((0,k.Z)((0,M.connect)((function(e){var t=e.AdvisorStore,n=e.ownProps;return F({selectedTags:t.selectedTags,workloads:t.workloads,SID:t.SID},n)}),(function(e){return{fetchTopics:function(t){return e(a.Qq(t))}}}))(L)))}}]);
//# sourceMappingURL=TopicsList.99660291e98b3185d98a.js.map