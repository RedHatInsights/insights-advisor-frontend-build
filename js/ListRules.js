(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{178:function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},185:function(e,t,n){(e.exports=n(68)(!1)).push([e.i,".pf-c-dropdown.dropdownTotalRisk li {\n  list-style-type: none; }\n\n.pf-c-dropdown.dropdownFilters {\n  width: 100%; }\n  .pf-c-dropdown.dropdownFilters div {\n    padding: 2px; }\n\n.pf-c-dropdown__menu-item:hover {\n  background-color: inherit !important;\n  outline: inherit !important; }\n\n.pf-c-dropdown__menu-item:focus {\n  background-color: inherit !important;\n  outline: inherit !important; }\n",""])},191:function(e,t,n){var a=n(235),r="object"==typeof self&&self&&self.Object===Object&&self,s=a||r||Function("return this")();e.exports=s},196:function(e,t,n){var a=n(178),r=n(234),s=n(208),i="Expected a function",o=Math.max,l=Math.min;e.exports=function(e,t,n){var c,u,p,m,d,f,h=0,g=!1,v=!1,k=!0;if("function"!=typeof e)throw new TypeError(i);function b(t){var n=c,a=u;return c=u=void 0,h=t,m=e.apply(a,n)}function E(e){var n=e-f;return void 0===f||n>=t||n<0||v&&e-h>=p}function y(){var e=r();if(E(e))return w(e);d=setTimeout(y,function(e){var n=t-(e-f);return v?l(n,p-(e-h)):n}(e))}function w(e){return d=void 0,k&&c?b(e):(c=u=void 0,m)}function x(){var e=r(),n=E(e);if(c=arguments,u=this,f=e,n){if(void 0===d)return function(e){return h=e,d=setTimeout(y,t),g?b(e):m}(f);if(v)return d=setTimeout(y,t),b(f)}return void 0===d&&(d=setTimeout(y,t)),m}return t=s(t)||0,a(n)&&(g=!!n.leading,p=(v="maxWait"in n)?o(s(n.maxWait)||0,t):p,k="trailing"in n?!!n.trailing:k),x.cancel=function(){void 0!==d&&clearTimeout(d),h=0,c=f=u=d=void 0},x.flush=function(){return void 0===d?m:w(r())},x}},208:function(e,t){e.exports=function(e){return e}},234:function(e,t,n){var a=n(191);e.exports=function(){return a.Date.now()}},235:function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(56))},237:function(e,t,n){var a=n(185);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0},s=n(135)(a,r);a.locals&&(e.exports=a.locals),e.hot.accept(185,function(){var t=n(185);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var n,a=0;for(n in e){if(!t||e[n]!==t[n])return!1;a++}for(n in t)a--;return 0===a}(a.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");s(t)}),e.hot.dispose(function(){s()})},275:function(e,t,n){(e.exports=n(68)(!1)).push([e.i,"/* stylelint-enable */\n:root {\n  --ins-color--orange: #ec7a08; }\n\n.skeleton {\n  animation-duration: 1s;\n  animation-iteration-count: infinite;\n  animation-name: skeletonGradient;\n  animation-timing-function: linear;\n  background: var(--pf-global--BackgroundColor--disabled);\n  background: linear-gradient(to right, #f5f5f5 10%, #e8e8e8 18%, #f5f5f5 33%);\n  background-size: 1000px 50px;\n  background-size: 62.5rem 3.125rem;\n  border-radius: 5px;\n  border-radius: 0.3125rem; }\n  .skeleton-xs {\n    width: 16%; }\n  .skeleton-sm {\n    width: 33%; }\n  .skeleton-md {\n    width: 66%; }\n  .skeleton-lg {\n    width: 100%; }\n\n@keyframes skeletonGradient {\n  0% {\n    background-position: -500px 0px;\n    background-position: -31.25rem 0rem; }\n  100% {\n    background-position: 500px 0px;\n    background-position: 31.25rem 0rem; } }\n",""])},276:function(e,t,n){var a=n(277);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0},s=n(135)(a,r);a.locals&&(e.exports=a.locals),e.hot.accept(277,function(){var t=n(277);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var n,a=0;for(n in e){if(!t||e[n]!==t[n])return!1;a++}for(n in t)a--;return 0===a}(a.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");s(t)}),e.hot.dispose(function(){s()})},277:function(e,t,n){(e.exports=n(68)(!1)).push([e.i,"/* stylelint-enable */\n:root {\n  --ins-color--orange: #ec7a08; }\n\n.ins-c-rules-card .pf-c-card__header .pf-l-split__item:first-of-type {\n  white-space: nowrap;\n  margin-right: 5px;\n  margin-right: 0.3125rem; }\n\n.ins-c-rules-card .ins-l-icon-group__with-major {\n  display: inline; }\n\n.ins-c-rules-card .space-between {\n  display: flex;\n  justify-content: space-between; }\n\n.ins-c-rules-card .pf-c-card__header div {\n  font-weight: 600; }\n\n.ins-c-rules-card + .ins-c-rules-card {\n  margin-top: var(--pf-global--spacer--xl); }\n\n.ins-c-rules-card a[disabled] {\n  cursor: not-allowed;\n  color: var(--pf-global--BackgroundColor--disabled); }\n  .ins-c-rules-card a[disabled]:hover {\n    text-decoration: none; }\n",""])},289:function(e,t,n){"use strict";var a=n(55),r=n.n(a),s=n(49),i=n.n(s),o=n(50),l=n.n(o),c=n(51),u=n.n(c),p=n(52),m=n.n(p),d=n(134),f=n.n(d),h=n(53),g=n.n(h),v=n(67),k=n.n(v),b=n(2),E=n.n(b),y=n(110),w=n(112),x=n(111),S=n(101),F=n(113),_=n(38),N=n(39),C=n(57),j=n(182),P=n(1),R=n.n(P),A=n(196),T=n.n(A),O=n(122),z=n(100),H=n(97),M=function(e){function t(){var e,n;i()(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return n=u()(this,(e=m()(t)).call.apply(e,[this].concat(r))),k()(f()(n),"state",{checked:!1}),k()(f()(n),"handleChange",function(e){n.setState({checked:!n.state.checked}),n.props.addRemoveFilters(n.props.value,n.props.param,e)}),n}return g()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.props.filters[this.props.param]&&this.props.filters[this.props.param].includes(this.props.value)?this.setState({checked:!0}):this.setState({checked:!1})}},{key:"render",value:function(){return E.a.createElement(H.a,{"aria-label":this.props.label,id:this.props.id,isChecked:this.state.checked,label:this.props.label,onChange:this.handleChange,param:this.props.param,value:this.props.value})}}]),t}(b.Component);M.propTypes={addRemoveFilters:R.a.func,className:R.a.string,currentPage:R.a.string,id:R.a.string,label:R.a.string,param:R.a.string,value:R.a.string,filters:R.a.object};var D=M,I=n(21),W=(n(237),function(e){function t(){var e,n;i()(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return n=u()(this,(e=m()(t)).call.apply(e,[this].concat(r))),k()(f()(n),"state",{isOpen:!1}),k()(f()(n),"addRemoveFilters",function(e,t,a){a?n.props.addFilter(t,e):n.props.removeFilter(t,e)}),k()(f()(n),"onToggle",function(e){n.setState({isOpen:e})}),n}return g()(t,e),l()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.hideCategories,a=t.filters,r=this.state.isOpen;return E.a.createElement(O.a,{onSelect:this.onSelect,toggle:E.a.createElement(z.a,{onToggle:this.onToggle},"Filters"),isOpen:r},E.a.createElement("div",null,I.c.map(function(t,r){return!n.includes(t.urlParam)&&E.a.createElement("div",{key:"".concat(t.urlParam).concat(r),className:"filterTitle"},t.title,t.values.map(function(n,s){return E.a.createElement(D,{key:"check".concat(r).concat(s),"aria-label":n.label,id:"".concat(t.urlParam).concat(s),label:n.label,addRemoveFilters:e.addRemoveFilters,param:t.urlParam,value:n.value,filters:a})}),3!==r&&E.a.createElement("br",null))})))}}]),t}(b.Component));W.propTypes={addFilter:R.a.func,removeFilter:R.a.func,hideCategories:R.a.array,filters:R.a.object},W.defaultProps={hideCategories:[]};var B=W,q=function(e){function t(){var e,n;i()(this,t);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return n=u()(this,(e=m()(t)).call.apply(e,[this].concat(s))),k()(f()(n),"changeSearchValue",T()(function(e){n.props.setFilters(r()({},n.props.filters,{text:e})),n.props.fetchAction(r()({},n.props.filters,{text:e}))},800)),k()(f()(n),"addFilter",function(e,t){var a=n.props.filters[e]?k()({},e,"".concat(n.props.filters[e],",").concat(t)):k()({},e,t);n.props.setFilters(r()({},n.props.filters,a)),n.props.fetchAction(r()({},n.props.filters,a))}),k()(f()(n),"removeFilter",function(e,t){var a=k()({},e,n.props.filters[e].split(",").filter(function(e){return Number(e)!==Number(t)}).join(","));if(a[e].length)n.props.setFilters(r()({},n.props.filters,a)),n.props.fetchAction(r()({},n.props.filters,a));else{var s=r()({},n.props.filters);delete s[e],n.props.setFilters(s),n.props.fetchAction(s)}}),n}return g()(t,e),l()(t,[{key:"componentWillUnmount",value:function(){this.props.setFilters({})}},{key:"componentDidUpdate",value:function(e){if(this.props.externalFilters!==e.externalFilters){var t=Object.keys(this.props.externalFilters)[0];this.props.setFilters(k()({},t,"".concat(this.props.externalFilters[t])))}}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.searchPlaceholder,a=e.filters,r=e.resultsCount,s=e.hideCategories;return E.a.createElement(y.a,{className:"pf-u-justify-content-space-between pf-u-ml-xl pf-u-my-md"},E.a.createElement(w.a,null,E.a.createElement(x.a,{className:"pf-u-mr-xl"},E.a.createElement(S.a,{"aria-label":"Search",onChange:this.changeSearchValue,type:"search",value:void 0,placeholder:n})),E.a.createElement(x.a,{className:"pf-u-mr-md"},E.a.createElement(B,{filters:a,addFilter:this.addFilter,removeFilter:this.removeFilter,hideCategories:s}))),E.a.createElement(w.a,null,E.a.createElement(x.a,null,t)),E.a.createElement(F.a,{"aria-label":"toolbar-results"},E.a.createElement(w.a,null,E.a.createElement(x.a,null,void 0===r&&"Loading...",void 0!==r&&"".concat(r," result").concat(1!==r?"s":"")))))}}]),t}(b.Component);q.propTypes={children:R.a.any,hideCategories:R.a.array,resultsCount:R.a.number,searchPlaceholder:R.a.string,filters:R.a.object,setFilters:R.a.func,fetchAction:R.a.func,externalFilters:R.a.object};t.a=Object(_.routerParams)(Object(N.connect)(function(e,t){return r()({filters:e.AdvisorStore.filters},t)},function(e){return Object(C.a)({setFilters:function(e){return j.f(e)}},e)})(q))},351:function(e,t,n){var a=n(275);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0},s=n(135)(a,r);a.locals&&(e.exports=a.locals),e.hot.accept(275,function(){var t=n(275);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var n,a=0;for(n in e){if(!t||e[n]!==t[n])return!1;a++}for(n in t)a--;return 0===a}(a.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");s(t)}),e.hot.dispose(function(){s()})},610:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),s=n(1),i=n.n(s),o=n(93),l=n(96),c=n(94),u=n(95),p=n(38),m=(n(351),n(276),function(){return r.a.createElement(p.Section,{type:"content"},r.a.createElement(o.a,{className:"ins-c-rules-card ins-c-card__skeleton pf-t-light  pf-m-opaque-100"},r.a.createElement(l.a,null,r.a.createElement("div",{className:"skeleton skeleton-md"}," ")),r.a.createElement(c.a,null,r.a.createElement("div",{className:"skeleton skeleton-lg"}," ")),r.a.createElement(u.a,null,r.a.createElement("div",{className:"skeleton skeleton-sm"}," "))),r.a.createElement(o.a,{className:"ins-c-rules-card ins-c-card__skeleton pf-t-light  pf-m-opaque-100"},r.a.createElement(l.a,null,r.a.createElement("div",{className:"skeleton skeleton-md"}," ")),r.a.createElement(c.a,null,r.a.createElement("div",{className:"skeleton skeleton-lg"}," ")),r.a.createElement(u.a,null,r.a.createElement("div",{className:"skeleton skeleton-sm"}," "))),r.a.createElement(o.a,{className:"ins-c-rules-card ins-c-card__skeleton pf-t-light  pf-m-opaque-100"},r.a.createElement(l.a,null,r.a.createElement("div",{className:"skeleton skeleton-md"}," ")),r.a.createElement(c.a,null,r.a.createElement("div",{className:"skeleton skeleton-lg"}," ")),r.a.createElement(u.a,null,r.a.createElement("div",{className:"skeleton skeleton-sm"}," "))),r.a.createElement(o.a,{className:"ins-c-rules-card ins-c-card__skeleton pf-t-light  pf-m-opaque-100"},r.a.createElement(l.a,null,r.a.createElement("div",{className:"skeleton skeleton-md"}," ")),r.a.createElement(c.a,null,r.a.createElement("div",{className:"skeleton skeleton-lg"}," ")),r.a.createElement(u.a,null,r.a.createElement("div",{className:"skeleton skeleton-sm"}," "))))});m.displayName="view-rule",m.propTypes={match:i.a.object},t.default=m},664:function(e,t,n){"use strict";n.r(t);var a=n(69),r=n.n(a),s=n(78),i=n.n(s),o=n(55),l=n.n(o),c=n(49),u=n.n(c),p=n(50),m=n.n(p),d=n(51),f=n.n(d),h=n(52),g=n.n(h),v=n(134),k=n.n(v),b=n(53),E=n.n(b),y=n(67),w=n.n(y),x=n(2),S=n.n(x),F=n(38),_=n(1),N=n.n(_),C=n(39),j=n(57),P=n(108),R=n(109),A=n(97),T=n(196),O=n.n(T),z=n(182),H=n(21),M=n(289),D=n(194),I=n(93),W=n(96),B=n(94),q=n(95);n(351),n(276);var U,G=(U=function(){return Promise.all([n.e(1),n.e(13)]).then(n.bind(null,673))},function(e){function t(e){var n;return u()(this,t),(n=f()(this,g()(t).call(this,e))).state={component:null},n}return E()(t,e),m()(t,[{key:"componentDidMount",value:(n=i()(r.a.mark(function e(){var t,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:t=e.sent,n=t.default,this.setState({component:n});case 5:case"end":return e.stop()}},e,this)})),function(){return n.apply(this,arguments)})},{key:"render",value:function(){var e=this.state.component;return e?S.a.createElement(e,this.props):S.a.createElement(I.a,{className:"ins-c-rules-card ins-c-card__skeleton"},S.a.createElement(W.a,null,S.a.createElement("div",{className:"skeleton skeleton-md"}," ")),S.a.createElement(B.a,null,S.a.createElement("div",{className:"skeleton skeleton-lg"}," ")),S.a.createElement(q.a,null,S.a.createElement("div",{className:"skeleton skeleton-sm"}," ")))}}]),t;var n}(x.Component)),J=function(e){function t(){var e,n;u()(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return n=f()(this,(e=g()(t)).call.apply(e,[this].concat(r))),w()(k()(n),"state",{summary:"",pageSize:10,page:1,cards:[],impacting:!0}),w()(k()(n),"toggleRulesWithHits",function(e){n.setState({impacting:e}),n.props.fetchRules(l()({},n.props.filters,{page_size:n.state.pageSize,impacting:e}))}),w()(k()(n),"setPage",function(e,t){t?n.setState(function(){return{page:e}},O()(function(){return n.setPage(e)},800)):(n.setState({page:e}),n.props.fetchRules(l()({},n.props.filters,{page:e,page_size:n.state.pageSize,impacting:n.state.impacting})))}),w()(k()(n),"setPerPage",function(e){n.setState({pageSize:e}),n.props.fetchRules(l()({},n.props.filters,{page:1,page_size:e,impacting:n.state.impacting}))}),n}return E()(t,e),m()(t,[{key:"componentDidMount",value:function(){var e=i()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,insights.chrome.auth.getUser();case 2:this.props.setBreadcrumbs([{title:"Rules",navigate:"/rules"}]),this.props.fetchRules({page:this.state.page,page_size:this.state.pageSize,impacting:this.state.impacting});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){if(this.props.rules!==e.rules){var t=this.props.rules.results.map(function(e,t){var n=e.resolution_set.find(function(e){return e.system_type===H.m.rhel});return S.a.createElement(G,{key:t,"widget-id":e,ruleID:e.rule_id,category:e.category.name,description:e.description,summary:e.summary,impact:e.impact.impact,likelihood:e.likelihood,totalRisk:e.total_risk,riskOfChange:n?n.resolution_risk.risk:0,ansible:e.has_playbook,hitCount:e.impacted_systems_count})});this.setState({cards:t})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.rulesFetchStatus,a=t.rules,r=this.state,s=r.pageSize,i=r.page,o=r.impacting;return S.a.createElement(F.Main,null,S.a.createElement(P.a,{gutter:"md"},S.a.createElement(R.a,{className:"advisor-l-actions__filters"},S.a.createElement(M.a,{fetchAction:function(t){return e.props.fetchRules(l()({},t,{pageSize:s,page:i,impacting:o}))},searchPlaceholder:"Find a Rule",resultsCount:a.count},S.a.createElement(A.a,{label:"Show Rules With Hits",isChecked:o,onChange:this.toggleRulesWithHits,"aria-label":"InsightsRulesHideHits",id:"InsightsRulesHideHits"}))),S.a.createElement(R.a,null,"fulfilled"===n&&S.a.createElement(S.a.Fragment,null,this.state.cards,S.a.createElement(F.TableToolbar,null,S.a.createElement(F.Pagination,{useNext:!0,numberOfItems:a.count,onPerPageSelect:this.setPerPage,onSetPage:this.setPage,page:i,itemsPerPage:s}))),"pending"===n&&S.a.createElement(D.a,null))))}}]),t}(x.Component);J.displayName="list-rules",J.propTypes={breadcrumbs:N.a.array,fetchRules:N.a.func,match:N.a.object,rulesFetchStatus:N.a.string,rules:N.a.object,setBreadcrumbs:N.a.func,filters:N.a.object};t.default=Object(F.routerParams)(Object(C.connect)(function(e,t){return l()({breadcrumbs:e.AdvisorStore.breadcrumbs,filters:e.AdvisorStore.filters,rules:e.AdvisorStore.rules,rulesFetchStatus:e.AdvisorStore.rulesFetchStatus},t)},function(e){return Object(j.a)({fetchRules:function(e){return z.b(e)},setBreadcrumbs:function(e){return z.e(e)}},e)})(J))}}]);
//# sourceMappingURL=../sourcemaps/ListRules.js.map