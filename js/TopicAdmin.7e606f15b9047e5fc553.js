(self.webpackChunkadvisor_frontend=self.webpackChunkadvisor_frontend||[]).push([[1694],{43622:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var n=a(94015),r=a.n(n),o=a(23645),i=a.n(o)()(r());i.push([e.id,".advisor .text-area-override{max-width:30em;min-height:8em;max-height:12em}.advisor .text-input-override{width:22em;display:inline}.advisor .radio-override{padding-left:5px}.advisor .checkbox-override{padding-left:5px}.advisor .split-override{width:100%}.advisor .modal-width-override{width:60%}\n","",{version:3,sources:["webpack://./src/PresentationalComponents/Modals/_AddEditTopic.scss"],names:[],mappings:"AAAA,6BACoB,cAAc,CAAC,cAAc,CAAC,eAAe,CADjE,8BACuF,UAAU,CAAC,cAAc,CADhH,yBACiI,gBAAgB,CADjJ,4BACqK,gBAAgB,CADrL,yBACsM,UAAU,CADhN,+BACuO,SAAS",sourcesContent:[".advisor{\n.text-area-override{max-width:30em;min-height:8em;max-height:12em}.text-input-override{width:22em;display:inline}.radio-override{padding-left:5px}.checkbox-override{padding-left:5px}.split-override{width:100%}.modal-width-override{width:60%}\n\n}"],sourceRoot:""}]);const l=i},2982:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var n=a(94015),r=a.n(n),o=a(23645),i=a.n(o)()(r());i.push([e.id,".advisor .toolbar-padding-override{padding-left:0px}.advisor .success{color:var(--pf-global--success-color--100)}.advisor .ban{color:var(--pf-global--Color--200)}\n","",{version:3,sources:["webpack://./src/PresentationalComponents/TopicsAdminTable/_TopicsAdminTable.scss"],names:[],mappings:"AAAA,mCAC0B,gBAAgB,CAD1C,kBACoD,0CAA0C,CAD9F,cACoG,kCAAkC",sourcesContent:[".advisor{\n.toolbar-padding-override{padding-left:0px}.success{color:var(--pf-global--success-color--100)}.ban{color:var(--pf-global--Color--200)}\n\n}"],sourceRoot:""}]);const l=i},87585:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>z});var n=a(96156),r=a(28481),o=(a(46978),a(64169)),i=a(93264),l=a.n(i),c=a(38532),s=a(92137),d=a(87757),u=a.n(d),f=(a(26964),a(92506)),m=a(37802),p=a(20999),g=a(6202),v=a(32752),b=a(4853),h=a(23811),A=a(78826),E=a(45697),C=a.n(E),Z=a(9568),x=a(85806),y=a(12282),M=a(30781),k=a(77121),S=a(74806),T=a(18623),w=function(e){var t=e.handleModalToggle,a=e.intl,n=e.isModalOpen,o=e.topic,c=e.addNotification,d=e.fetchTopicsAdmin,E=(0,i.useState)(o.name||""),C=(0,r.Z)(E,2),M=C[0],k=C[1],S=(0,i.useState)(o.description||""),w=(0,r.Z)(S,2),B=w[0],O=w[1],N=(0,i.useState)(o.tag||""),D=(0,r.Z)(N,2),I=D[0],P=D[1],j=(0,i.useState)(o.enabled||!1),F=(0,r.Z)(j,2),L=F[0],U=F[1],R=(0,i.useState)(o.featured||!1),_=(0,r.Z)(R,2),q=_[0],H=_[1],K=(0,i.useState)(o.slug||void 0),G=(0,r.Z)(K,2),Q=G[0],Y=G[1],z=function(){var e=(0,s.Z)(u().mark((function e(n){var i,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.type,e.prev=1,l={name:M,slug:Q,tag:I,description:B,enabled:L,featured:q},"DELETE"!==i){e.next=8;break}return e.next=6,m.Z.delete("".concat(p.BASE_URL,"/topic/").concat(Q));case 6:e.next=15;break;case 8:if(!o.slug){e.next=13;break}return e.next=11,m.Z.put("".concat(p.BASE_URL,"/topic/").concat(Q,"/"),l);case 11:e.next=15;break;case 13:return e.next=15,m.Z.post("".concat(p.BASE_URL,"/topic/"),{},l);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),c({variant:"danger",dismissable:!0,title:a.formatMessage(T.Z.error),description:Object.entries(e.t0.response.data).map((function(e){var t=(0,r.Z)(e,2),a=t[0],n=t[1];return"".concat(a.toUpperCase(),":").concat(n," ")}))});case 20:return e.prev=20,t(!1),d(),e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[1,17,20,24]])})));return function(t){return e.apply(this,arguments)}}(),J=function(e){o.slug?k(e):(k(e),Y(e.replace(/\s/g,"").toLowerCase()))},X=l().createElement(f.Split,{className:"split-override",hasGutter:!0},l().createElement(f.SplitItem,null,l().createElement(g.Button,{key:"confirm",variant:"primary",onClick:function(){return z({type:"POST/PUT"})},ouiaId:"confirm"},a.formatMessage(T.Z.save))),l().createElement(f.SplitItem,null,l().createElement(g.Button,{key:"cancel",variant:"secondary",onClick:function(){return t(!1)},ouiaId:"cancel"},a.formatMessage(T.Z.cancel))),l().createElement(f.SplitItem,{isFilled:!0}),l().createElement(f.SplitItem,null,l().createElement(g.Button,{key:"delete",ouiaId:"delete",variant:"danger",isDisabled:!o.slug,onClick:function(){return z({type:"DELETE"})}},a.formatMessage(T.Z.deleteTopic))));return l().createElement(A.u_,{title:a.formatMessage(T.Z.topicAdminTitle),isOpen:n,onClose:function(){return t(!1)},footer:X,className:"modal-width-override"},l().createElement(b.l,null,l().createElement(h.c,{label:a.formatMessage(T.Z.name),fieldId:"topic-form-name",className:"text-input-override"},l().createElement(y.oi,{value:M,isRequired:!0,type:"text",id:"topic-form-name",name:"topic-form-name",onChange:function(e){return J(e)}})),l().createElement(h.c,{label:a.formatMessage(T.Z.topicAddEditDescription),fieldId:"topic-form-description",helperText:a.formatMessage(T.Z.topicAddEditDescriptionHelperText),className:"text-area-override"},l().createElement(x.Kx,{value:B,isRequired:!0,name:"topic-form-description",id:"topic-form-description",onChange:function(e){return O(e)}})),l().createElement(h.c,{isInline:!0,fieldId:"topic-form-labels"},l().createElement(h.c,{label:a.formatMessage(T.Z.tag),fieldId:"topic-form-tag",helperText:a.formatMessage(T.Z.topicAddEditTagHelperText),className:"text-input-override"},l().createElement(y.oi,{value:I.replace(/\s/g,"").toLowerCase(),isRequired:!0,type:"text",id:"topic-form-tag",name:"topic-form-tag",onChange:function(e){return P(e.replace(/\s/g,"").toLowerCase())}})),l().createElement(h.c,{label:a.formatMessage(T.Z.topicSlug),fieldId:"topic-form-name-2",helperText:"",className:"text-input-override"},l().createElement(y.oi,{value:Q||M.replace(/\s/g,"").toLowerCase(),isDisabled:o.slug,type:"text",id:"topic-form-name-2",name:"topic-form-name-2",onChange:function(e){return J(e)}}))),l().createElement(h.c,{label:a.formatMessage(T.Z.status),fieldId:"topic-form-enabled"},l().createElement(Z.Y,{isChecked:!L,id:"disabled",label:a.formatMessage(T.Z.topicAddEditDisabled),onChange:function(){return U(!L)},className:"radio-override"}),l().createElement(Z.Y,{isChecked:L,id:"enabled",label:a.formatMessage(T.Z.topicAddEditEnabled),onChange:function(){return U(!L)},className:"radio-override"})),l().createElement(h.c,{label:a.formatMessage(T.Z.featured),fieldId:"topic-form-featured"},l().createElement(v.X,{isChecked:q,label:a.formatMessage(T.Z.topicAddEditFeatureBox),id:"checkbox-featured",name:"checkbox-featured","aria-label":"update-featured",onChange:function(){return H(!q)},className:"checkbox-override"}))))};w.propTypes={handleModalToggle:C().func,isModalOpen:C().bool,topic:C().object,intl:C().any,addNotification:C().func,fetchTopicsAdmin:C().func};const B=(0,S.ZP)((0,k.connect)(null,(function(e){return{addNotification:function(t){return e((0,M.addNotification)(t))},fetchTopicsAdmin:function(){return e((0,o.QK)())}}}))(w));var O=a(80516),N=a(35451),D=a(4145),I=a(59900),P=a(33042),j=a.n(P),F=a(82141),L=a(86350),U=a(75824),R=a(48716),_=a(57277),q=a(47668),H=a(32875),K=a(34348),G=a(36873);function Q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Y=function(e){var t=e.topicsFetchStatus,a=e.fetchTopicsAdmin,n=e.topics,o=e.intl,s=(0,i.useState)([{title:o.formatMessage(T.Z.title),transforms:[c.sortable]},{title:o.formatMessage(T.Z.tag),transforms:[c.sortable]},{title:o.formatMessage(T.Z.topicSlug),transforms:[c.sortable]},{title:o.formatMessage(T.Z.status),transforms:[c.sortable]},{title:o.formatMessage(T.Z.featured),transforms:[c.sortable]},"",""]),d=(0,r.Z)(s,1)[0],u=(0,i.useState)([]),f=(0,r.Z)(u,2),m=f[0],p=f[1],v=(0,i.useState)({}),b=(0,r.Z)(v,2),h=b[0],A=b[1],E=(0,i.useState)(!1),C=(0,r.Z)(E,2),Z=C[0],x=C[1],y=(0,i.useState)({}),M=(0,r.Z)(y,2),k=M[0],S=M[1],w=(0,i.useState)([]),P=(0,r.Z)(w,2),G=P[0],Q=P[1],Y=(0,i.useCallback)((function(e,t,a){var n={0:"name",1:"tag",2:"slug",3:"enabled",4:"featured"}[t];A({index:t,direction:a}),Q(j().from(G.asMutable().sort((function(e,t){return"asc"===a?"enabled"===n||"featured"===n?e[n]>t[n]?-1:1:e[n]>t[n]?1:-1:"enabled"===n||"featured"===n?e[n]>t[n]?1:-1:e[n]>t[n]?-1:1}))))}),[A,Q,G]),z=function(e){e?(S(e),x(!0)):x(!0)};return(0,i.useEffect)((function(){Q(n)}),[n]),(0,i.useEffect)((function(){a()}),[a]),(0,i.useEffect)((function(){if(0===G.length)p([{cells:[{title:l().createElement(U.Z,{icon:"none",title:"",text:""}),props:{colSpan:7}}]}]);else{var e=G.flatMap((function(e,t){return[{isOpen:!1,rule:e,cells:[{title:l().createElement("span",{key:t}," ",e.name)},{title:l().createElement("span",{key:t}," ",e.tag)},{title:l().createElement("span",{key:t}," ",e.slug)},{title:l().createElement("span",null,e.enabled?l().createElement("span",null,l().createElement(N.default,{className:"success"})," ",o.formatMessage(T.Z.enabled)):l().createElement("span",null,l().createElement(O.ZP,{className:"ban"})," ",o.formatMessage(T.Z.disabled)))},{title:l().createElement("span",null,e.featured?l().createElement("span",null,l().createElement(q.ZP,null)," ",o.formatMessage(T.Z.featured)):l().createElement("span",null))},"",{title:l().createElement(g.Button,{ouiaId:"hide",variant:"link",onClick:function(){return z(e)}},l().createElement(D.ZP,null)," ",o.formatMessage(T.Z.topicAdminEdit))}]}]}));p(e.asMutable())}}),[G,o]),l().createElement(l().Fragment,null,Z&&l().createElement(B,{isModalOpen:Z,handleModalToggle:x,topic:k}),l().createElement(R.Z,null,l().createElement(K.Dx,{headingLevel:"h3",size:"2xl",className:"titlePaddingOverride"},o.formatMessage(T.Z.topicAdminTitle))),l().createElement(L.Z,null,l().createElement(l().Fragment,null,l().createElement(_.Z,{className:"toolbar-padding-override"},l().createElement(g.Button,{variant:"primary",ouiaId:"adminCreate",onClick:function(e){return z(e)}},o.formatMessage(T.Z.topicAdminCreate))),"fulfilled"===t&&l().createElement(c.Table,{ouiaId:"adminTable","aria-label":"topics-admin-table",sortBy:h,onSort:Y,cells:d,rows:m},l().createElement(c.TableHeader,null),l().createElement(c.TableBody,null)),"pending"===t&&l().createElement(F.Z,null),"failed"===t&&l().createElement(I.Z,{message:o.formatMessage(T.Z.systemTableFetchError)}),l().createElement(H.Z,null))))};Y.propTypes={fetchTopicsAdmin:C().func,topicsFetchStatus:C().string,topics:C().array,addNotification:C().func,history:C().object,intl:C().any};const z=(0,S.ZP)((0,G.Z)((0,k.connect)((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Q(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({topics:e.AdvisorStore.topics,topicsFetchStatus:e.AdvisorStore.topicsFetchStatus},t)}),(function(e){return{fetchTopicsAdmin:function(){return e(o.QK())},addNotification:function(t){return e((0,M.addNotification)(t))}}}))(Y)))},26964:(e,t,a)=>{"use strict";var n=a(93379),r=a.n(n),o=a(43622),i=r()(o.default,{insert:"head",singleton:!1});if(!o.default.locals||e.hot.invalidate){var l=o.default.locals;e.hot.accept(43622,(t=>{o=a(43622),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(l,o.default.locals)?(l=o.default.locals,i(o.default)):e.hot.invalidate()}))}e.hot.dispose((function(){i()})),o.default.locals},46978:(e,t,a)=>{"use strict";var n=a(93379),r=a.n(n),o=a(2982),i=r()(o.default,{insert:"head",singleton:!1});if(!o.default.locals||e.hot.invalidate){var l=o.default.locals;e.hot.accept(2982,(t=>{o=a(2982),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(l,o.default.locals)?(l=o.default.locals,i(o.default)):e.hot.invalidate()}))}e.hot.dispose((function(){i()})),o.default.locals}}]);
//# sourceMappingURL=TopicAdmin.7e606f15b9047e5fc553.js.map