(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{1373:function(e,t,a){(t=a(5)(!1)).push([e.i,".toolbar-padding-override{padding-left:0px}.success{color:var(--pf-global--success-color--100)}.ban{color:var(--pf-global--Color--200)}\n",""]),e.exports=t},1374:function(e,t,a){(t=a(5)(!1)).push([e.i,".text-area-override{max-width:30em;min-height:8em;max-height:12em}.text-input-override{width:22em;display:inline}.radio-override{padding-left:5px}.checkbox-override{padding-left:5px}.split-override{width:100%}.modal-width-override{width:60%}\n",""]),e.exports=t},1930:function(e,t,a){var n=a(1373);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0},o=a(7)(n,r);n.locals&&(e.exports=n.locals),e.hot.accept(1373,(function(){var t=a(1373);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var a,n=0;for(a in e){if(!t||e[a]!==t[a])return!1;n++}for(a in t)n--;return 0===n}(n.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");o(t)})),e.hot.dispose((function(){o()}))},1931:function(e,t,a){var n=a(1374);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0},o=a(7)(n,r);n.locals&&(e.exports=n.locals),e.hot.accept(1374,(function(){var t=a(1374);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var a,n=0;for(a in e){if(!t||e[a]!==t[a])return!1;n++}for(a in t)n--;return 0===n}(n.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");o(t)})),e.hot.dispose((function(){o()}))},1938:function(e,t,a){"use strict";a.r(t);var n=a(258),r=a.n(n),o=a(335),i=a.n(o),c=(a(1930),a(260)),l=a(1),s=a.n(l),u=a(165),d=a(511),m=a(559),f=a(557),p=a(138),g=a.n(p),b=a(233),E=a.n(b),h=(a(1931),a(1099)),v=a(259),O=a(8),x=a(611),y=a(1097),M=a(1095),j=a(1096),S=a(1088),T=a(13),k=a.n(T),w=a(1132),C=a(1131),A=a(1098),N=a(173),F=a(110),I=a(55),P=a(22),D=function(e){var t=e.handleModalToggle,a=e.intl,n=e.isModalOpen,r=e.topic,o=e.addNotification,c=e.fetchTopicsAdmin,u=Object(l.useState)(r.name||""),d=i()(u,2),m=d[0],f=d[1],p=Object(l.useState)(r.description||""),b=i()(p,2),T=b[0],k=b[1],N=Object(l.useState)(r.tag||""),F=i()(N,2),I=F[0],D=F[1],B=Object(l.useState)(r.enabled||!1),L=i()(B,2),R=L[0],G=L[1],H=Object(l.useState)(r.featured||!1),U=i()(H,2),q=U[0],_=U[1],J=Object(l.useState)(r.slug||void 0),z=i()(J,2),K=z[0],Q=z[1],V=function(){var e=E()(g.a.mark((function e(n){var l,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=n.type,e.prev=1,s={name:m,slug:K,tag:I,description:T,enabled:R,featured:q},"DELETE"!==l){e.next=8;break}return e.next=6,v.a.delete("".concat(O.BASE_URL,"/topic/").concat(K));case 6:e.next=15;break;case 8:if(!r.slug){e.next=13;break}return e.next=11,v.a.put("".concat(O.BASE_URL,"/topic/").concat(K,"/"),s);case 11:e.next=15;break;case 13:return e.next=15,v.a.post("".concat(O.BASE_URL,"/topic/"),{},s);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),o({variant:"danger",dismissable:!0,title:a.formatMessage(P.a.error),description:Object.entries(e.t0.response.data).map((function(e){var t=i()(e,2),a=t[0],n=t[1];return"".concat(a.toUpperCase(),":").concat(n," ")}))});case 20:return e.prev=20,t(!1),c(),e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[1,17,20,24]])})));return function(t){return e.apply(this,arguments)}}(),W=function(e){r.slug?f(e):(f(e),Q(e.replace(/\s/g,"").toLowerCase()))},X=s.a.createElement(h.Split,{className:"split-override",hasGutter:!0},s.a.createElement(h.SplitItem,null,s.a.createElement(x.Button,{key:"confirm",variant:"primary",onClick:function(){return V({type:"POST/PUT"})}},a.formatMessage(P.a.save))),s.a.createElement(h.SplitItem,null,s.a.createElement(x.Button,{key:"cancel",variant:"secondary",onClick:function(){return t(!1)}},a.formatMessage(P.a.cancel))),s.a.createElement(h.SplitItem,{isFilled:!0}),s.a.createElement(h.SplitItem,null,s.a.createElement(x.Button,{key:"delete",variant:"danger",isDisabled:!r.slug,onClick:function(){return V({type:"DELETE"})}},a.formatMessage(P.a.deleteTopic))));return s.a.createElement(S.Modal,{title:a.formatMessage(P.a.topicAdminTitle),isOpen:n,onClose:function(){return t(!1)},footer:X,className:"modal-width-override"},s.a.createElement(M.Form,null,s.a.createElement(j.FormGroup,{label:a.formatMessage(P.a.name),fieldId:"topic-form-name",className:"text-input-override"},s.a.createElement(A.TextInput,{value:m,isRequired:!0,type:"text",id:"topic-form-name",name:"topic-form-name",onChange:function(e){return W(e)}})),s.a.createElement(j.FormGroup,{label:a.formatMessage(P.a.topicAddEditDescription),fieldId:"topic-form-description",helperText:a.formatMessage(P.a.topicAddEditDescriptionHelperText),className:"text-area-override"},s.a.createElement(C.TextArea,{value:T,isRequired:!0,name:"topic-form-description",id:"topic-form-description",onChange:function(e){return k(e)}})),s.a.createElement(j.FormGroup,{isInline:!0,fieldId:"topic-form-labels"},s.a.createElement(j.FormGroup,{label:a.formatMessage(P.a.tag),fieldId:"topic-form-tag",helperText:a.formatMessage(P.a.topicAddEditTagHelperText),className:"text-input-override"},s.a.createElement(A.TextInput,{value:I.replace(/\s/g,"").toLowerCase(),isRequired:!0,type:"text",id:"topic-form-tag",name:"topic-form-tag",onChange:function(e){return D(e.replace(/\s/g,"").toLowerCase())}})),s.a.createElement(j.FormGroup,{label:a.formatMessage(P.a.topicSlug),fieldId:"topic-form-name-2",helperText:"",className:"text-input-override"},s.a.createElement(A.TextInput,{value:K||m.replace(/\s/g,"").toLowerCase(),isDisabled:r.slug,type:"text",id:"topic-form-name-2",name:"topic-form-name-2",onChange:function(e){return W(e)}}))),s.a.createElement(j.FormGroup,{label:a.formatMessage(P.a.status),fieldId:"topic-form-enabled"},s.a.createElement(w.Radio,{isChecked:!R,id:"disabled",label:a.formatMessage(P.a.topicAddEditDisabled),onChange:function(){return G(!R)},className:"radio-override"}),s.a.createElement(w.Radio,{isChecked:R,id:"enabled",label:a.formatMessage(P.a.topicAddEditEnabled),onChange:function(){return G(!R)},className:"radio-override"})),s.a.createElement(j.FormGroup,{label:a.formatMessage(P.a.featured),fieldId:"topic-form-featured"},s.a.createElement(y.Checkbox,{isChecked:q,label:a.formatMessage(P.a.topicAddEditFeatureBox),id:"checkbox-featured",name:"checkbox-featured","aria-label":"update-featured",onChange:function(){return _(!q)},className:"checkbox-override"}))))};D.propTypes={handleModalToggle:k.a.func,isModalOpen:k.a.bool,topic:k.a.object,intl:k.a.any,addNotification:k.a.func,fetchTopicsAdmin:k.a.func};var B=Object(I.c)(Object(F.connect)(null,(function(e){return{addNotification:function(t){return e(Object(N.addNotification)(t))},fetchTopicsAdmin:function(){return e(Object(c.i)())}}}))(D)),L=a(1133),R=a.n(L),G=a(625),H=a.n(G),U=a(1134),q=a.n(U),_=a(1192),J=a(51),z=a.n(J),K=a(1156),Q=a(1086),V=a(470),W=a(1087),X=a(1102),Y=a(1118),Z=a.n(Y),$=a(1135),ee=a(475),te=a(465),ae=a.n(te);function ne(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var re=function(e){var t=e.topicsFetchStatus,a=e.fetchTopicsAdmin,n=e.topics,r=e.intl,o=Object(l.useState)([{title:r.formatMessage(P.a.title),transforms:[u.a]},{title:r.formatMessage(P.a.tag),transforms:[u.a]},{title:r.formatMessage(P.a.topicSlug),transforms:[u.a]},{title:r.formatMessage(P.a.status),transforms:[u.a]},{title:r.formatMessage(P.a.featured),transforms:[u.a]},"",""]),c=i()(o,1)[0],p=Object(l.useState)([]),g=i()(p,2),b=g[0],E=g[1],h=Object(l.useState)({}),v=i()(h,2),O=v[0],y=v[1],M=Object(l.useState)(!1),j=i()(M,2),S=j[0],T=j[1],k=Object(l.useState)({}),w=i()(k,2),C=w[0],A=w[1],N=Object(l.useState)([]),F=i()(N,2),I=F[0],D=F[1],L=Object(l.useCallback)((function(e,t,a){var n={0:"name",1:"tag",2:"slug",3:"enabled",4:"featured"}[t];y({index:t,direction:a}),D(z.a.from(I.asMutable().sort((function(e,t){return"asc"===a?"enabled"===n||"featured"===n?e[n]>t[n]?-1:1:e[n]>t[n]?1:-1:"enabled"===n||"featured"===n?e[n]>t[n]?1:-1:e[n]>t[n]?-1:1}))))}),[y,D,I]),G=function(e){e?(A(e),T(!0)):T(!0)};return Object(l.useEffect)((function(){D(n)}),[n]),Object(l.useEffect)((function(){a()}),[a]),Object(l.useEffect)((function(){if(0===I.length)E([{cells:[{title:s.a.createElement(V.a,{icon:"none",title:"",text:""}),props:{colSpan:7}}]}]);else{var e=I.flatMap((function(e,t){return[{isOpen:!1,rule:e,cells:[{title:s.a.createElement("span",{key:t}," ",e.name)},{title:s.a.createElement("span",{key:t}," ",e.tag)},{title:s.a.createElement("span",{key:t}," ",e.slug)},{title:s.a.createElement("span",null,e.enabled?s.a.createElement("span",null,s.a.createElement(H.a,{className:"success"})," ",r.formatMessage(P.a.enabled)):s.a.createElement("span",null,s.a.createElement(R.a,{className:"ban"})," ",r.formatMessage(P.a.disabled)))},{title:s.a.createElement("span",null,e.featured?s.a.createElement("span",null,s.a.createElement(Z.a,null)," ",r.formatMessage(P.a.featured)):s.a.createElement("span",null))},"",{title:s.a.createElement(x.Button,{variant:"link",onClick:function(){return G(e)}},s.a.createElement(q.a,null)," ",r.formatMessage(P.a.topicAdminEdit))}]}]}));E(e.asMutable())}}),[I,r]),s.a.createElement(s.a.Fragment,null,S&&s.a.createElement(B,{isModalOpen:S,handleModalToggle:T,topic:C}),s.a.createElement(W.PageHeader,null,s.a.createElement(ee.Title,{headingLevel:"h3",size:"2xl",className:"titlePaddingOverride"},r.formatMessage(P.a.topicAdminTitle))),s.a.createElement(Q.Main,null,s.a.createElement(s.a.Fragment,null,s.a.createElement(X.PrimaryToolbar,{className:"toolbar-padding-override"},s.a.createElement(x.Button,{variant:"primary",onClick:function(e){return G(e)}},r.formatMessage(P.a.topicAdminCreate))),"fulfilled"===t&&s.a.createElement(d.a,{"aria-label":"topics-admin-table",sortBy:O,onSort:L,cells:c,rows:b},s.a.createElement(m.a,null),s.a.createElement(f.a,null)),"pending"===t&&s.a.createElement(K.a,null),"failed"===t&&s.a.createElement(_.a,{message:r.formatMessage(P.a.systemTableFetchError)}),s.a.createElement($.TableToolbar,null))))};re.propTypes={fetchTopicsAdmin:k.a.func,topicsFetchStatus:k.a.string,topics:k.a.array,addNotification:k.a.func,history:k.a.object,intl:k.a.any};t.default=Object(I.c)(ae()(Object(F.connect)((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ne(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({topics:e.AdvisorStore.topics,topicsFetchStatus:e.AdvisorStore.topicsFetchStatus},t)}),(function(e){return{fetchTopicsAdmin:function(){return e(c.i())},addNotification:function(t){return e(Object(N.addNotification)(t))}}}))(re)))}}]);
//# sourceMappingURL=TopicAdmin.1a761c164f2de22ad2d3.js.map