(self.webpackChunkadvisor_frontend=self.webpackChunkadvisor_frontend||[]).push([[4683],{75331:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(70885),a=n(93264),o=n.n(a),c=n(64029),s=n(32835),i=n(75662),l=n(45697),u=n.n(l),f=n(30893),m=n(75546),d=n(86896),p=function(e){var t,n=e.current,l=(0,d.Z)(),u=null===(t=(0,i.useLocation)().pathname)||void 0===t?void 0:t.split("/"),p=(0,a.useState)([]),g=(0,r.Z)(p,2),b=g[0],v=g[1],y=!("recommendations"===u[1]&&4===u.length)||"pathways"===u[2],h=(0,m.m1)({ruleId:u[2]},{skip:y}),Z=h.data,E=h.isFetching;return(0,a.useEffect)((function(){var e;(e=[]).push({title:"".concat(l.formatMessage(f.Z.insightsHeader)," ").concat(u[1]),navigate:"/".concat(u[1])}),y||e.push({title:null==Z?void 0:Z.description,navigate:"/".concat(u[1],"/").concat(u[2])}),"pathways"===u[2]&&(e=[{title:"Advisor pathways",navigate:"/recommendations/pathways"}]),v(e)}),[Z]),o().createElement(o().Fragment,null,!E&&b.length>0?o().createElement(c.a,{ouiaId:"detail"},b.map((function(e,t){return o().createElement(s.g,{key:t},o().createElement(i.Link,{to:e.navigate},e.title))})),o().createElement(s.g,{isActive:!0},n)):l.formatMessage(f.Z.loading))};p.propTypes={current:u().string};const g=p},58921:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(4942),a=n(15861),o=n(87757),c=n.n(o),s=n(53446),i=n(35240),l=n(59303),u=n(71094),f=n(97109);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e){var t={date:(new Date).toISOString().replace(/[T:]/g,"-").split(".")[0]+"-utc"};return"Insights-Advisor_".concat(e,"--").concat(t.date)};const g=function(){var e=(0,a.Z)(c().mark((function e(t,n,r,a,o,m,g){var b,v,y;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b=(null==a?void 0:a.length)&&{tags:a},o&&(b=d(d({},b),(0,f.s0)(o,m))),g((0,s.addNotification)(l.LH.pending)),e.next=6,(0,u.dX)("".concat(l._n,"/export/").concat(t,".").concat("json"===n?"json":"csv"),{},d(d({},r),b)).then((function(e){return g((0,s.addNotification)(l.LH.success)),e})).catch((function(){return g((0,s.addNotification)(l.LH.error))}));case 6:v=e.sent.data,y="json"===n?JSON.stringify(v):v,(0,i.Sv)(y,p(t),n),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(0),"".concat(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n,r,a,o,c,s){return e.apply(this,arguments)}}()},52837:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(63732),a=n(15914),o=n(21947),c=n(99332),s=n(69507),i=n(45697),l=n.n(i),u=n(93264),f=n.n(u),m=n(30893),d=n(86896),p=n(69174),g=function(e){var t=e.icon,n=e.text;return f().createElement(p._,{icon:t,variant:"outline",color:"blue",isCompact:!0},n)};g.propTypes={icon:l().object,text:l().bool};const b=g;var v=function(e){var t,n=e.labelList,i=(0,d.Z)(),l=(t=n.map((function(e){return e.id})),Object.entries(t.reduce((function(e,t){return e[t]=(e[t]||0)+1,e}),{})).sort((function(e,t){return t[1]-e[1]})));return f().createElement(o.e,{numLabels:1,isCompact:!0},l.map((function(e){return function(e){return[f().createElement(b,{icon:f().createElement(r.ZP,null),text:i.formatMessage(m.Z.availability)}),f().createElement(b,{icon:f().createElement(c.ZP,null),text:i.formatMessage(m.Z.security)}),f().createElement(b,{icon:f().createElement(a.ZP,null),text:i.formatMessage(m.Z.stability)}),f().createElement(b,{icon:f().createElement(s.ZP,null),text:i.formatMessage(m.Z.performance)})][e]}(Number(e[0]-1))})))};v.propTypes={labelList:l().array,isCompact:l().bool},v.defaultProps={isCompact:!0};const y=v},87516:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(75824),a=n(69174),o=n(45697),c=n.n(o),s=n(93264),i=n.n(s),l=n(30893),u=n(86896),f=function(e){var t,n=e.rule,o=e.isCompact,c=e.noMargin,s=(0,u.Z)();return i().createElement(i().Fragment,null,-1!==(null==n||null===(t=n.tags)||void 0===t?void 0:t.search("incident"))&&i().createElement(r.u,{content:s.formatMessage(l.Z.incidentTooltip),position:r.D.right},i().createElement(a._,{color:"red",className:c?null:"adv-c-label-incident",isCompact:o},s.formatMessage(l.Z.incident))),"disabled"===(null==n?void 0:n.rule_status)&&i().createElement(r.u,{content:s.formatMessage(l.Z.ruleIsDisabledTooltip),position:r.D.right},i().createElement(a._,{color:"gray",isCompact:o},s.formatMessage(l.Z.disabled))),"rhdisabled"===(null==n?void 0:n.rule_status)&&i().createElement(r.u,{content:s.formatMessage(l.Z.ruleIsDisabledTooltip),position:r.D.right},i().createElement(a._,{color:"gray",isCompact:o},s.formatMessage(l.Z.redhatDisabled))))};f.propTypes={rule:c().object,isCompact:c().bool,noMargin:c().bool},f.defaultProps={isCompact:!0};const m=f},46891:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(32203),a=n(62394),o=n(24561),c=n(93264),s=n.n(c);const i=function(){return s().createElement(r.Z,null,s().createElement(a.e,null,s().createElement(o.aV,null)))}},44788:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var r=n(4942),a=n(15861),o=n(70885),c=n(87757),s=n.n(c),i=n(93264),l=n.n(i),u=n(59303),f=n(47173),m=n(93149),d=n(83115),p=n(59775),g=n(80236),b=n(71094),v=n(45697),y=n.n(v),h=n(92607),Z=n(71355),E=n(30893),O=n(28216),j=n(86896),M=n(77647);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=function(e){var t=e.handleModalToggle,n=e.isModalOpen,r=e.host,c=e.hosts,v=e.rule,y=e.afterFn,w=(0,j.Z)(),D=(0,O.useDispatch)(),k=function(e){return D((0,Z.addNotification)(e))},x=(0,i.useState)(""),S=(0,o.Z)(x,2),_=S[0],C=S[1],T=(0,i.useState)(void 0!==r||c.length>0),N=(0,o.Z)(T,2),I=N[0],F=N[1],L=(0,M.om)(),H=(0,o.Z)(L,1)[0],R=function(){var e=(0,a.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={systems:c,justification:_},e.prev=1,e.next=4,(0,b.SO)("".concat(u._n,"/rule/").concat(v.rule_id,"/ack_hosts/"),{},t);case 4:!I&&k({variant:"success",dismissable:!0,timeout:!0,title:w.formatMessage(E.Z.recSuccessfullyDisabled)}),y&&y(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),k({variant:"danger",dismissable:!0,title:w.formatMessage(E.Z.error),description:"".concat(e.t0)});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=(0,a.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("enabled"!==v.rule_status||c.length){e.next=15;break}return n=I?{type:"HOST",options:{rule:v.rule_id,system_uuid:r.id,justification:_}}:{type:"RULE",options:P({rule_id:v.rule_id},_&&{justification:_})},e.prev=2,e.next=5,H(n).unwrap();case 5:k({variant:"success",timeout:!0,dismissable:!0,title:w.formatMessage(E.Z.recSuccessfullyDisabled)}),C(""),y&&y(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),k({variant:"danger",dismissable:!0,title:w.formatMessage(E.Z.error),description:"".concat(e.t0)});case 13:e.next=16;break;case 15:R();case 16:t(!1);case 17:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();return l().createElement(g.u,{variant:"small",title:w.formatMessage(E.Z.disableRule),isOpen:n,onClose:function(){t(!1),C("")},actions:[l().createElement(f.zx,{key:"confirm",variant:"primary",onClick:function(){return z()},ouiaId:"confirm"},w.formatMessage(E.Z.save)),l().createElement(f.zx,{key:"cancel",variant:"link",onClick:function(){t(!1),C("")},ouiaId:"cancel"},w.formatMessage(E.Z.cancel))]},w.formatMessage(E.Z.disableRuleBody),l().createElement(d.l,null,l().createElement(p.c,{fieldId:"blank-form"}),(void 0!==r||c.length>0)&&l().createElement(p.c,{fieldId:"disable-rule-one-system"},l().createElement(m.X,{isChecked:I,onChange:function(){F(!I)},label:c.length?w.formatMessage(E.Z.disableRuleForSystems):w.formatMessage(E.Z.disableRuleSingleSystem),id:"disable-rule-one-system",name:"disable-rule-one-system"})),l().createElement(p.c,{label:w.formatMessage(E.Z.justificationNote),fieldId:"disable-rule-justification"},l().createElement(h.oi,{type:"text",id:"disable-rule-justification","aria-describedby":"disable-rule-justification",value:_,onChange:function(e){return C(e)},onKeyDown:function(e){return"Enter"===e.key&&(e.preventDefault(),z())}}))))};D.propTypes={isModalOpen:y().bool,host:y().object,handleModalToggle:y().func,rule:y().object,afterFn:y().func,hosts:y().array},D.defaultProps={isModalOpen:!1,handleModalToggle:function(){},system:void 0,rule:{},afterFn:function(){},host:void 0,hosts:[]};const k=D},11198:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>D});var r=n(4942),a=n(93264),o=n.n(a),c=n(68340),s=n(75331),i=n(69174),l=n(46891),u=n(34702),f=n(89376),m=n(82661),d=n(83668),p=n(68774),g=n(72781),b=n(38779),v=n(19535),y=n(30893),h=n(28672),Z=n(28216),E=n(77187),O=n(86896),j=n(75662),M=n(97109);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const D=function(){var e=(0,O.Z)(),t=(0,Z.useDispatch)(),n=(0,Z.useSelector)((function(e){return e.filters.selectedTags})),r=(0,Z.useSelector)((function(e){return e.filters.workloads})),w=(0,Z.useSelector)((function(e){return e.filters.SID})),D=(0,Z.useSelector)((function(e){return e.filters.recState})),k=(0,j.useParams)().id,x=(null==n?void 0:n.length)&&{tags:n};r&&(x=P(P({},x),(0,M.s0)(r,w)));var S=(0,E.Yi)(P(P({},x),{topicId:k})),_=S.data,C=void 0===_?{}:_,T=S.isLoading,N=S.isFetching,I=S.isError;return(0,a.useEffect)((function(){var e=P({},D);return t((0,h.hb)({impacting:!0,rule_status:"enabled",topic:k,sort:"-total_risk",limit:10,offset:0})),function(){return t((0,h.hb)(e))}}),[]),(0,a.useEffect)((function(){if(C&&C.name){var t="".concat(C.name," - ").concat(y.Z.topics.defaultMessage);document.title=e.formatMessage(y.Z.documentTitle,{subnav:t})}}),[C]),o().createElement(o().Fragment,null,o().createElement(f.Z,null,(null==C?void 0:C.name)&&o().createElement(s.Z,{current:null==C?void 0:C.name,ouiaId:"details"}),!N&&o().createElement(o().Fragment,null,o().createElement(b.D,{headingLevel:"h3",size:"2xl",className:"pf-u-mb-lg"},C.name,C.featured&&o().createElement(i._,{color:"blue",className:"adv-c-label pf-m-compact",icon:o().createElement(d.ZP,null)},e.formatMessage(y.Z.featured))),o().createElement(p.D,{className:"pf-u-mt-md"},o().createElement(c.x,{component:c.q.p},o().createElement(v.Z,{text:C.description,length:600,expandText:e.formatMessage(y.Z.readmore),collapseText:e.formatMessage(y.Z.readless),inline:!0})))),N||T&&o().createElement(l.Z,null)),o().createElement("section",{className:"pf-l-page__main-section pf-c-page__main-section"},o().createElement(o().Fragment,null,I?o().createElement(u.Z,{icon:g.ZP,title:e.formatMessage(y.Z.topicDetailslNodetailsTitle),text:e.formatMessage(y.Z.topicDetailslNodetailsBody)}):o().createElement(o().Fragment,null,o().createElement(b.D,{headingLevel:"h3",size:"2xl",className:"pf-u-mb-lg"},e.formatMessage(y.Z.recommendations)),o().createElement(m.default,null)))))}},45467:()=>{},70347:()=>{},11452:()=>{},58392:()=>{},34946:()=>{},80598:()=>{},32857:()=>{},10108:()=>{},90479:()=>{},78752:()=>{},21064:()=>{},82014:()=>{},25238:()=>{},67761:()=>{},49854:()=>{},11177:()=>{}}]);
//# sourceMappingURL=../sourcemaps/TopicDetails.b3163caefb1fcc925d8069797b2b9c2d.js.map