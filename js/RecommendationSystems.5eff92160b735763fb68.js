"use strict";(self.webpackChunkadvisor=self.webpackChunkadvisor||[]).push([[9102],{34589:(e,t,r)=>{r.r(t),r.d(t,{default:()=>p});var n=r(93264),o=r.n(n),s=r(45697),i=r.n(s),u=r(43707),a=r(92224),c=r(28216),l=r(59303),d=r(15112),f=function(e){var t=e.rule,r=e.afterDisableFn,n=e.handleModalToggle,s=(0,c.useSelector)((function(e){return e.filters.selectedTags})),i=(0,c.useSelector)((function(e){return e.filters.workloads})),f=(0,c.useSelector)((function(e){return e.filters.SID})),p=(0,u.TE)("advisor",l.Gd.export).hasAccess,v=(0,d.GG)(n);return o().createElement(a.Z,{tableProps:{canSelectAll:!1,actionResolver:v,isStickyHeader:!0},rule:t,afterDisableFn:r,selectedTags:s,workloads:i,SID:f,permsExport:p,exportTable:"systems",showTags:!0})};f.propTypes={rule:i().object,afterDisableFn:i().func,handleModalToggle:i().func};const p=f},15112:(e,t,r)=>{r.d(t,{GG:()=>w,U:()=>O,Vw:()=>k,gp:()=>D});var n=r(42982),o=r(15861),s=r(4942),i=r(87757),u=r.n(i),a=r(58016),c=r(64016),l=r(71094),d=r(59303),f=r(93264),p=r(46655),v=r(41131),g=r(28216),m=r(46818);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3?arguments[3]:void 0;return e.map((function(e){var o,s=r.find((function(t){return t.DeviceUUID===e.system_uuid})),i=t.find((function(t){return e.system_uuid===t.id}));return y(y(y(y({},i),e),s),{},{groups:n?(null===(o=s.DeviceGroups)||void 0===o?void 0:o.map((function(e){return{id:e.ID,name:e.Name}})))||[]:i.groups})}))},O=function(e,t,r){return function(){var n=(0,o.Z)(u().mark((function n(o,s,i,f){var p,v,g,m,b,O,w,D,k,S,_,T,j,P,x,I,E,F,C,G,N,Z,A;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return v=s.per_page,g=s.page,m=s.orderBy,b=s.orderDirection,O=s.advisorFilters,w=s.filters,D=s.workloads,k=s.SID,S=s.selectedTags,_=(0,a.Sn)(m,b),T=(0,a.JD)(O,g,v,_,t,w,S,D,k),e(T),j=y(y({},s),{},{pathway:t,rule:r,sort:_}),n.next=7,(0,c.kx)(j);case 7:return P=n.sent,x=null==P||null===(p=P.data)||void 0===p?void 0:p.map((function(e){return e.system_uuid})),n.next=11,f(x,{per_page:v,hasItems:!0,fields:{system_profile:["operating_system"]}},i);case 11:if(I=n.sent,E=[],F=!1,null==x||!x.length){n.next=21;break}return n.next=17,(0,l.SO)("".concat(d.pA,"/devices/devicesview"),{},{devices_uuid:x});case 17:N=n.sent,Z=N.data,E=(null==Z||null===(C=Z.data)||void 0===C?void 0:C.devices)||[],F=null==Z||null===(G=Z.data)||void 0===G?void 0:G.enforce_edge_groups;case 21:return A=h(P.data,I.results,E,F),n.abrupt("return",Promise.resolve({results:A,total:P.meta.count}));case 23:case"end":return n.stop()}}),n)})));return function(e,t,r,o){return n.apply(this,arguments)}}()},w=function(e){return(0,f.useCallback)((function(){return[{title:"Disable recommendation for system",onClick:function(t,r,n){return e(!0,n)}}]}),[])},D=function(e){var t=(0,g.useStore)();return(0,f.useCallback)((function(r){var n=r.mergeWithEntities,o=r.INVENTORY_ACTION_TYPES,s=r.mergeWithDetail;t.replaceReducer((0,v.U)(y(y({},n((0,p.V)([],o),{page:Number(e.offset/e.limit+1||1),perPage:Number(e.limit||20)})),s())))}),[e,t])},k=function(e,t){var r=e.find((function(e){return"updated"===e.key})),o={key:"impacted_date",title:"First Impacted",sortKey:"impacted_date",transforms:[m.WT],props:{width:15},renderFunc:r.renderFunc};return[].concat((0,n.Z)(e),(0,n.Z)(t?[o]:[]))}}}]);
//# sourceMappingURL=../sourcemaps/RecommendationSystems.84ced5ff8470402d3e3dbb40f9ec64e3.js.map