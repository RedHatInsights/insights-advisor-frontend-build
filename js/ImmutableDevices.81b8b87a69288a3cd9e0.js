(self.webpackChunkadvisor=self.webpackChunkadvisor||[]).push([[4634],{78632:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n}),r(67761);const n={button:"pf-c-button",modifiers:{hidden:"pf-m-hidden",hiddenOnSm:"pf-m-hidden-on-sm",visibleOnSm:"pf-m-visible-on-sm",hiddenOnMd:"pf-m-hidden-on-md",visibleOnMd:"pf-m-visible-on-md",hiddenOnLg:"pf-m-hidden-on-lg",visibleOnLg:"pf-m-visible-on-lg",hiddenOnXl:"pf-m-hidden-on-xl",visibleOnXl:"pf-m-visible-on-xl",hiddenOn_2xl:"pf-m-hidden-on-2xl",visibleOn_2xl:"pf-m-visible-on-2xl",fixed:"pf-m-fixed",stickyHeader:"pf-m-sticky-header",nestedColumnHeader:"pf-m-nested-column-header",borderRow:"pf-m-border-row",striped:"pf-m-striped",expandable:"pf-m-expandable",stripedEven:"pf-m-striped-even",ghostRow:"pf-m-ghost-row",center:"pf-m-center",help:"pf-m-help",favorite:"pf-m-favorite",borderRight:"pf-m-border-right",borderLeft:"pf-m-border-left",truncate:"pf-m-truncate",wrap:"pf-m-wrap",nowrap:"pf-m-nowrap",fitContent:"pf-m-fit-content",breakWord:"pf-m-break-word",noBorderRows:"pf-m-no-border-rows",expanded:"pf-m-expanded",hoverable:"pf-m-hoverable",selected:"pf-m-selected",firstCellOffsetReset:"pf-m-first-cell-offset-reset",dragOver:"pf-m-drag-over",favorited:"pf-m-favorited",noPadding:"pf-m-no-padding",compact:"pf-m-compact",width_10:"pf-m-width-10",width_15:"pf-m-width-15",width_20:"pf-m-width-20",width_25:"pf-m-width-25",width_30:"pf-m-width-30",width_35:"pf-m-width-35",width_40:"pf-m-width-40",width_45:"pf-m-width-45",width_50:"pf-m-width-50",width_60:"pf-m-width-60",width_70:"pf-m-width-70",width_80:"pf-m-width-80",width_90:"pf-m-width-90",width_100:"pf-m-width-100"},table:"pf-c-table",tableAction:"pf-c-table__action",tableButton:"pf-c-table__button",tableButtonContent:"pf-c-table__button-content",tableCheck:"pf-c-table__check",tableColumnHelp:"pf-c-table__column-help",tableColumnHelpAction:"pf-c-table__column-help-action",tableCompoundExpansionToggle:"pf-c-table__compound-expansion-toggle",tableControlRow:"pf-c-table__control-row",tableDraggable:"pf-c-table__draggable",tableExpandableRow:"pf-c-table__expandable-row",tableExpandableRowContent:"pf-c-table__expandable-row-content",tableFavorite:"pf-c-table__favorite",tableIcon:"pf-c-table__icon",tableIconInline:"pf-c-table__icon-inline",tableInlineEditAction:"pf-c-table__inline-edit-action",tableSort:"pf-c-table__sort",tableSortIndicator:"pf-c-table__sort-indicator",tableSubhead:"pf-c-table__subhead",tableText:"pf-c-table__text",tableToggle:"pf-c-table__toggle",tableToggleIcon:"pf-c-table__toggle-icon",themeDark:"pf-theme-dark"}},46818:(e,t,r)=>{"use strict";r.d(t,{$G:()=>s,E0:()=>a,P8:()=>i,WT:()=>l,kZ:()=>o});var n=r(78632);const o=()=>({className:n.Z.modifiers.breakWord}),a=()=>({className:n.Z.modifiers.fitContent}),i=()=>({className:n.Z.modifiers.nowrap}),s=()=>({className:n.Z.modifiers.truncate}),l=()=>({className:n.Z.modifiers.wrap})},64016:(e,t,r)=>{"use strict";r.d(t,{kx:()=>m,uc:()=>b,vk:()=>h});var n=r(42982),o=r(4942),a=r(15861),i=r(87757),s=r.n(i),l=r(71094),c=r(97109),u=r(59303),p=r(58016);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=function(){var e=(0,a.Z)(s().mark((function e(t){var r,n,o,a,i,c,d,m,b,v,h,g,w;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.per_page,a=t.page,i=t.advisorFilters,c=t.filters,d=t.workloads,m=t.SID,b=t.pathway,v=t.rule,h=t.selectedTags,g=t.sort,w=(0,p.JD)(i,a,o,g,b,c,h,d,m),!b){e.next=17;break}return e.next=5,(0,l.dX)("".concat(u.Vo),{},f(f({},w),{},{pathway:b.slug}));case 5:if(e.t2=r=e.sent,e.t1=null===e.t2,e.t1){e.next=9;break}e.t1=void 0===r;case 9:if(!e.t1){e.next=13;break}e.t3=void 0,e.next=14;break;case 13:e.t3=r.data;case 14:e.t0=e.t3,e.next=29;break;case 17:return e.next=19,(0,l.dX)("".concat(u.cJ).concat(encodeURI(v.rule_id),"/systems_detail/"),{},w);case 19:if(e.t5=n=e.sent,e.t4=null===e.t5,e.t4){e.next=23;break}e.t4=void 0===n;case 23:if(!e.t4){e.next=27;break}e.t6=void 0,e.next=28;break;case 27:e.t6=n.data;case 28:e.t0=e.t6;case 29:return e.abrupt("return",e.t0);case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(e,t,r,n,o,i,l,u){return function(){var l=(0,a.Z)(s().mark((function a(l,d,b,v){var h,g,w,y,_,O,x,j,k,P,D,S,I,Z;return s().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return h=d.per_page,g=d.page,w=d.orderBy,y=d.orderDirection,_=d.advisorFilters,O=d.filters,x=d.workloads,j=d.SID,k=d.selectedTags,P=(0,p.Sn)(w,y),D=(0,p.JD)(_,g,h,P,t,O,k,x,j),e(D),S=f(f({},d),{},{pathway:t,handleRefresh:e,rule:u,sort:P}),i(S),a.next=8,m(S);case 8:return I=a.sent,a.next=11,v(I.data.map((function(e){return e.system_uuid})),{per_page:h,hasItems:!0,fields:{system_profile:["operating_system"]}},b);case 11:return Z=a.sent,r(I.data.map((function(e){return e.system_uuid}))),n(I.meta.count),a.abrupt("return",Promise.resolve({results:(0,c.E9)(I.data,Z.results).map((function(e){return f(f({},e),{},{selected:null==o?void 0:o.includes(e.id)})})),total:I.meta.count}));case 15:case"end":return a.stop()}}),a)})));return function(e,t,r,n){return l.apply(this,arguments)}}()},v=function(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,a=arguments.length>4?arguments[4]:void 0,i=Math.ceil(t/o)||1;return Promise.all((0,n.Z)(new Array(i)).map((function(t,n){return e(f(f({},r),{},{page:n+1,per_page:o,rule:a}))})))},h=function(e,t,r,n){return(0,a.Z)(s().mark((function o(){var a,i;return s().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n(!0),o.next=3,v(m,t,e,100,r);case 3:return o.next=5,o.sent.map((function(e){return e.data}));case 5:return a=o.sent,i=[].concat.apply([],a).map((function(e){return e.system_uuid})),n(!1),o.abrupt("return",i);case 9:case"end":return o.stop()}}),o)})))}},58016:(e,t,r)=>{"use strict";r.d(t,{JD:()=>c,Sn:()=>p,WW:()=>u});var n=r(4942),o=r(75472),a=r.n(o),i=r(97109);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=function(e,t,r,n,o,a,s,c,u,p){var d,f,m;return l(l(l(l(l(l(l(l(l({},e),{},{limit:r,offset:t*r-r,sort:n},(null==a?void 0:a.hostnameOrId)&&!o&&!p&&{name:null==a?void 0:a.hostnameOrId}),(null==a?void 0:a.hostnameOrId)&&!o&&p&&{display_name:null==a?void 0:a.hostnameOrId}),a.hostnameOrId&&o&&{display_name:null==a?void 0:a.hostnameOrId}),(null===(d=a.osFilter)||void 0===d?void 0:d.length)>0&&{rhel_version:a.osFilter.map((function(e){return e.value})).join(",")}),(null==a||null===(f=a.hostGroupFilter)||void 0===f?void 0:f.length)&&{groups:a.hostGroupFilter.join(",")}),(null===(m=a.tagFilters)||void 0===m?void 0:m.length)&&(0,i.gh)(a.tagFilters)),c?(0,i.s0)(c,u):{}),(null==s?void 0:s.length)>0?{tags:s.join(",")}:{})},u=function(e,t,r){var n;return n=0===t?"name":2===t?"featured":"impacted_systems_count",a()(e,[function(e){return e[n]}],r)},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ASC";return"".concat("ASC"===t.toUpperCase()?"":"-").concat(("updated"===e?"last_seen":"operating_system"===e&&"rhel_version")||"groups"===e&&"group_name"||e)}},23278:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>_});var n=r(87462),o=r(4942),a=r(70885),i=r(93264),s=r.n(i),l=r(59303),c=r(97109),u=r(28216),p=r(15112),d=r(45697),f=r.n(d),m=r(30893),b=r(86896),v=r(22663),h=r(62012);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=function(e){var t,r=e.rule,d=e.pathway,f=e.selectedTags,g=e.handleModalToggle,y=e.isRecommendationDetail,_=(0,u.useStore)(),O=(0,b.Z)(),x=(0,h.useNavigate)(),j=(0,i.useState)({limit:20,offset:0,sort:"-last_seen",name:""}),k=(0,a.Z)(j,2),P=k[0],D=k[1],S=(0,p.U)((function(e){var t=e.name,r=e.display_name,n=w(w(w({},e),t&&{name:t}),r&&{display_name:r});!d&&(0,c.Y4)(n,f)}),d,r),I={deleteTitle:O.formatMessage(m.Z.resetFilters),filters:(t=w({},P),delete t.sort,delete t.offset,delete t.limit,(0,c.yK)(t,l.Ut)),onDelete:function(e,t,r){r?D({sort:P.sort,limit:P.limit,offset:P.offset}):t.map((function(e){var t,r,n=(0,o.Z)({},e.urlParam,Array.isArray(P[e.urlParam])?P[e.urlParam].filter((function(t){return String(t)!==String(e.chips[0].value)})):"");n[e.urlParam].length>0?D(w(w({},P),n)):(t=e.urlParam,delete(r=w(w({},P),{},{offset:0}))[t],D(r))}))}},Z=(0,p.GG)(g),C=(0,p.gp)(P);return s().createElement(v.Z,(0,n.Z)({appName:"inventory",module:"./ImmutableDevices",fallback:s().createElement("div",null),store:_,onLoad:C,key:"inventory",customFilters:{advisorFilters:w(w({},P),{},{"filter[system_profile][host_type]":"edge"})},getEntities:S,showActions:!1,hideFilters:{all:!0,name:!1,operatingSystem:!1,tags:!1},mergeAppColumns:function(e){return(0,p.Vw)(e,y)},activeFiltersConfig:I,onRowClick:function(e,t){x("/insights/inventory/".concat(t,"?appName=advisor"))}},y?{tableActions:Z}:{}))};y.propTypes={tableProps:f().any,rule:f().object,afterDisableFn:f().func,pathway:f().object,selectedTags:f().any,workloads:f().any,SID:f().any,permsExport:f().bool,exportTable:f().string,showTags:f().bool,handleModalToggle:f().func,isRecommendationDetail:f().bool};const _=y},15112:(e,t,r)=>{"use strict";r.d(t,{GG:()=>_,U:()=>y,Vw:()=>x,gp:()=>O});var n=r(42982),o=r(15861),a=r(4942),i=r(87757),s=r.n(i),l=r(58016),c=r(64016),u=r(71094),p=r(59303),d=r(93264),f=r(46655),m=r(41131),b=r(28216),v=r(46818);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3?arguments[3]:void 0;return e.map((function(e){var o,a=r.find((function(t){return t.DeviceUUID===e.system_uuid})),i=t.find((function(t){return e.system_uuid===t.id}));return g(g(g(g({},i),e),a),{},{groups:n?(null===(o=a.DeviceGroups)||void 0===o?void 0:o.map((function(e){return{id:e.ID,name:e.Name}})))||[]:i.groups})}))},y=function(e,t,r){return function(){var n=(0,o.Z)(s().mark((function n(o,a,i,d){var f,m,b,v,h,y,_,O,x,j,k,P,D,S,I,Z,C,E,T,F,R,A,N;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return m=a.per_page,b=a.page,v=a.orderBy,h=a.orderDirection,y=a.advisorFilters,_=a.filters,O=a.workloads,x=a.SID,j=a.selectedTags,k=(0,l.Sn)(v,h),P=(0,l.JD)(y,b,m,k,t,_,j,O,x),e(P),D=g(g({},a),{},{pathway:t,rule:r,sort:k}),n.next=7,(0,c.kx)(D);case 7:return S=n.sent,I=null==S||null===(f=S.data)||void 0===f?void 0:f.map((function(e){return e.system_uuid})),n.next=11,d(I,{per_page:m,hasItems:!0,fields:{system_profile:["operating_system"]}},i);case 11:if(Z=n.sent,C=[],E=!1,null==I||!I.length){n.next=21;break}return n.next=17,(0,u.SO)("".concat(p.pA,"/devices/devicesview"),{},{devices_uuid:I});case 17:R=n.sent,A=R.data,C=(null==A||null===(T=A.data)||void 0===T?void 0:T.devices)||[],E=null==A||null===(F=A.data)||void 0===F?void 0:F.enforce_edge_groups;case 21:return N=w(S.data,Z.results,C,E),n.abrupt("return",Promise.resolve({results:N,total:S.meta.count}));case 23:case"end":return n.stop()}}),n)})));return function(e,t,r,o){return n.apply(this,arguments)}}()},_=function(e){return(0,d.useCallback)((function(){return[{title:"Disable recommendation for system",onClick:function(t,r,n){return e(!0,n)}}]}),[])},O=function(e){var t=(0,b.useStore)();return(0,d.useCallback)((function(r){var n=r.mergeWithEntities,o=r.INVENTORY_ACTION_TYPES,a=r.mergeWithDetail;t.replaceReducer((0,m.U)(g(g({},n((0,f.V)([],o),{page:Number(e.offset/e.limit+1||1),perPage:Number(e.limit||20)})),a())))}),[e,t])},x=function(e,t){var r=e.find((function(e){return"updated"===e.key})),o={key:"impacted_date",title:"First Impacted",sortKey:"impacted_date",transforms:[v.WT],props:{width:15},renderFunc:r.renderFunc},a=e.find((function(e){return"groups"===e.key}));return a.props=g(g({},a.props),{},{isStatic:!0}),[].concat((0,n.Z)(e),(0,n.Z)(t?[o]:[]))}},89881:(e,t,r)=>{var n=r(47816),o=r(99291)(n);e.exports=o},69199:(e,t,r)=>{var n=r(89881),o=r(98612);e.exports=function(e,t){var r=-1,a=o(e)?Array(e.length):[];return n(e,(function(e,n,o){a[++r]=t(e,n,o)})),a}},82689:(e,t,r)=>{var n=r(29932),o=r(97786),a=r(67206),i=r(69199),s=r(71131),l=r(7518),c=r(85022),u=r(6557),p=r(1469);e.exports=function(e,t,r){t=t.length?n(t,(function(e){return p(e)?function(t){return o(t,1===e.length?e[0]:e)}:e})):[u];var d=-1;t=n(t,l(a));var f=i(e,(function(e,r,o){return{criteria:n(t,(function(t){return t(e)})),index:++d,value:e}}));return s(f,(function(e,t){return c(e,t,r)}))}},71131:e=>{e.exports=function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}},26393:(e,t,r)=>{var n=r(33448);e.exports=function(e,t){if(e!==t){var r=void 0!==e,o=null===e,a=e==e,i=n(e),s=void 0!==t,l=null===t,c=t==t,u=n(t);if(!l&&!u&&!i&&e>t||i&&s&&c&&!l&&!u||o&&s&&c||!r&&c||!a)return 1;if(!o&&!i&&!u&&e<t||u&&r&&a&&!o&&!i||l&&r&&a||!s&&a||!c)return-1}return 0}},85022:(e,t,r)=>{var n=r(26393);e.exports=function(e,t,r){for(var o=-1,a=e.criteria,i=t.criteria,s=a.length,l=r.length;++o<s;){var c=n(a[o],i[o]);if(c)return o>=l?c:c*("desc"==r[o]?-1:1)}return e.index-t.index}},99291:(e,t,r)=>{var n=r(98612);e.exports=function(e,t){return function(r,o){if(null==r)return r;if(!n(r))return e(r,o);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&!1!==o(s[i],i,s););return r}}},75472:(e,t,r)=>{var n=r(82689),o=r(1469);e.exports=function(e,t,r,a){return null==e?[]:(o(t)||(t=null==t?[]:[t]),o(r=a?void 0:r)||(r=null==r?[]:[r]),n(e,t,r))}},67761:()=>{}}]);
//# sourceMappingURL=../sourcemaps/ImmutableDevices.edb7135b51cbf3eb5028a02987f6f15e.js.map