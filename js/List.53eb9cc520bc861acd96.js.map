{"version":3,"sources":["webpack://advisor-frontend/./src/PresentationalComponents/ExecutiveReport/_Download.scss","webpack://advisor-frontend/./src/SmartComponents/Recs/List.scss","webpack://advisor-frontend/./src/PresentationalComponents/ExecutiveReport/Build.js","webpack://advisor-frontend/./src/PresentationalComponents/ExecutiveReport/Download.js","webpack://advisor-frontend/./src/SmartComponents/Recs/List.js","webpack://advisor-frontend/./src/SmartComponents/Systems/List.js","webpack://advisor-frontend/./src/PresentationalComponents/ExecutiveReport/_Download.scss?c15f","webpack://advisor-frontend/./src/SmartComponents/Recs/List.scss?fe05"],"names":["___CSS_LOADER_EXPORT___","push","module","id","BuildExecReport","statsSystems","statsReports","topActiveRec","intl","calcPercent","value","total","Math","round","Number","severityPie","x","formatMessage","messages","y","total_risk","severityRows","Object","entries","map","key","TOTAL_RISK_LABEL","props","children","count","reverse","categoryPie","category","Availability","Performance","Security","Stability","categoryRows","rulesDesc","rule","style","fontWeight","description","summary","length","systems","risks","title","withHeader","rows","chartType","subTitle","data","colorSchema","withColumn","impacted_systems_count","variant","propTypes","PropTypes","isDisabled","useIntl","useState","loading","setLoading","dataFetch","Promise","API","STATS_SYSTEMS_FETCH_URL","STATS_REPORTS_FETCH_URL","RULES_FETCH_URL","limit","sort","impacting","all","report","buildExecReport","useMemo","groupName","label","asyncFunction","buttonProps","icon","className","component","isAriaDisabled","type","fileName","Date","toUTCString","replace","RulesTable","lazy","List","permsExport","usePermissions","PERMS","AdvisorRedHatDisabledRuleAlert","JSON","parse","localStorage","getItem","redhatDisabledRuleAlert","setRedHatDisabledRuleAlert","redHatDisabledRuleCount","setRedHatDisabledRuleCount","document","subnav","useEffect","response","meta","PageHeader","PageHeaderTitle","toLowerCase","isLoading","Tooltip","trigger","hasAccess","content","Download","Alert","isInline","actionClose","AlertActionCloseButton","onClose","setItem","Main","Suspense","fallback","Loading","displayName","SystemsTable","update","hot","invalidate","oldLocals","accept","a","b","isNamedExport","p","isEqualLocals","dispose"],"mappings":"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","file":"js/List.53eb9cc520bc861acd96.js","sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".advisor .iconOverride{color:var(\\\"--pf-global--link--Color\\\");margin-right:5px}.advisor .downloadButtonOverride{float:right}@media only screen and (max-width: 585px){.advisor .downloadButtonOverride{float:none;padding-left:0px}}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/PresentationalComponents/ExecutiveReport/_Download.scss\"],\"names\":[],\"mappings\":\"AAAA,uBACc,qCAAqC,CAAC,gBAAgB,CADpE,iCAC6F,WAAW,CAAC,0CADzG,iCAC2K,UAAU,CAAC,gBAAgB,CAAE\",\"sourcesContent\":[\".advisor{\\n.iconOverride{color:var(\\\"--pf-global--link--Color\\\");margin-right:5px}.downloadButtonOverride{float:right}@media only screen and (max-width: 585px){.downloadButtonOverride{float:none;padding-left:0px}}\\n\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".advisor .ins-c-recommendations-header{width:auto}.advisor .ins-c-recommendations-header .pf-c-title{display:inline-block}.advisor .ins-c-recommendations-header .pf-c-button{line-height:var(--pf-global--LineHeight--sm)}.advisor .ins-c-recommendations-header .alertOverride{font-size:var(--pf-global--FontSize--md);margin-top:var(--pf-global--spacer--lg)}@media only screen and (max-width: 585px){.advisor .ins-c-recommendations-header .pf-c-title{display:block}.advisor .ins-c-recommendations-header .alertOverride{margin-top:var(--pf-global--spacer--sm)}}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/SmartComponents/Recs/List.scss\"],\"names\":[],\"mappings\":\"AAAA,uCAC8B,UAAU,CADxC,mDACmF,oBAAoB,CADvG,oDACmJ,4CAA4C,CAD/L,sDAC6O,wCAAwC,CAAC,uCAAuC,CAAC,0CAD9T,mDACkZ,aAAa,CAD/Z,sDAC6c,uCAAuC,CAAE\",\"sourcesContent\":[\".advisor{\\n.ins-c-recommendations-header{width:auto}.ins-c-recommendations-header .pf-c-title{display:inline-block}.ins-c-recommendations-header .pf-c-button{line-height:var(--pf-global--LineHeight--sm)}.ins-c-recommendations-header .alertOverride{font-size:var(--pf-global--FontSize--md);margin-top:var(--pf-global--spacer--lg)}@media only screen and (max-width: 585px){.ins-c-recommendations-header .pf-c-title{display:block}.ins-c-recommendations-header .alertOverride{margin-top:var(--pf-global--spacer--sm)}}\\n\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import { Chart, Column, InsightsLabel, Panel, PanelItem, Paragraph, Section, Table } from '@redhat-cloud-services/frontend-components-pdf-generator';\n\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { TOTAL_RISK_LABEL } from '../../AppConstants';\nimport { Text } from '@react-pdf/renderer';\nimport messages from '../../Messages';\nimport { truncate } from 'lodash';\n\nconst BuildExecReport = ({ statsSystems, statsReports, topActiveRec, intl }) => {\n    const calcPercent = (value, total) => Math.round(Number(value / total * 100));\n    const severityPie = [\n        { x: intl.formatMessage(messages.critical), y: statsReports.total_risk[4] },\n        { x: intl.formatMessage(messages.important), y: statsReports.total_risk[3] },\n        { x: intl.formatMessage(messages.moderate), y: statsReports.total_risk[2] },\n        { x: intl.formatMessage(messages.low), y: statsReports.total_risk[1] }];\n    const severityRows = [[intl.formatMessage(messages.severity), intl.formatMessage(messages.poundOfRecs)],\n        ...Object.entries(statsReports.total_risk).map(([key, value]) =>\n            [TOTAL_RISK_LABEL[key].props.children, intl.formatMessage(messages.recNumAndPercentage, {\n                count: value,\n                total: calcPercent(value, statsReports.total)\n            })]).reverse()\n    ];\n\n    const categoryPie = [\n        { x: intl.formatMessage(messages.availability), y: statsReports.category.Availability },\n        { x: intl.formatMessage(messages.performance), y: statsReports.category.Performance },\n        { x: intl.formatMessage(messages.security), y: statsReports.category.Security },\n        { x: intl.formatMessage(messages.stability), y: statsReports.category.Stability }\n    ];\n    const categoryRows = [[intl.formatMessage(messages.category), intl.formatMessage(messages.poundOfRecs)],\n        ...Object.entries(statsReports.category).map(([key, value]) =>\n            [key, intl.formatMessage(messages.recNumAndPercentage, {\n                count: value,\n                total: calcPercent(value, statsReports.total)\n            })])];\n\n    const rulesDesc = (rule) => <Text>\n        <Text style={{ fontWeight: 700 }}> {rule.description}</Text>&nbsp;{truncate(rule.summary, { length: 280 })}\n    </Text>;\n\n    return <React.Fragment key={intl.formatMessage(messages.insightsHeader)}>\n        <Paragraph>\n            {intl.formatMessage(messages.execReportHeader, {\n                systems: <Text style={{ fontWeight: 700 }}>\n                    {intl.formatMessage(messages.execReportHeaderSystems, { systems: statsSystems.total })}\n                </Text>,\n                risks: <Text style={{ fontWeight: 700 }}> {intl.formatMessage(messages.execReportHeaderRisks, { risks: statsReports.total })}</Text>\n            })}\n        </Paragraph>\n        <Section title={intl.formatMessage(messages.severityHeader)}>\n            <Column><Table withHeader rows={severityRows} /></Column>\n            <Column>\n                <Chart\n                    chartType='pie'\n                    subTitle={intl.formatMessage(messages.severityHeader)}\n                    title='100'\n                    data={severityPie}\n                    colorSchema={'multi'}\n                />\n            </Column>\n        </Section>\n        <Section title={intl.formatMessage(messages.categoryHeader)}>\n            <Column><Table withHeader rows={categoryRows} /></Column>\n            <Column>\n                <Chart\n                    chartType='pie'\n                    subTitle={intl.formatMessage(messages.categoryHeader)}\n                    title='100'\n                    data={categoryPie} />\n            </Column>\n        </Section>\n        <Section title={intl.formatMessage(messages.top3RulesHeader)} withColumn={false}>\n            {topActiveRec.data.map((rule, key) =>\n                <Panel key={key} description={rulesDesc(rule)}>\n                    <PanelItem title={intl.formatMessage(messages.systemsExposed)}>{`${rule.impacted_systems_count}`}</PanelItem>\n                    <PanelItem title={intl.formatMessage(messages.totalRisk)}>\n                        <InsightsLabel variant={rule.total_risk}/>\n                    </PanelItem>\n                </Panel>)}\n        </Section>\n    </React.Fragment>;\n};\n\nBuildExecReport.propTypes = {\n    statsSystems: PropTypes.object,\n    statsReports: PropTypes.object,\n    topActiveRec: PropTypes.object,\n    intl: PropTypes.any\n};\n\nexport default BuildExecReport;\n","import './_Download.scss';\n\nimport { RULES_FETCH_URL, STATS_REPORTS_FETCH_URL, STATS_SYSTEMS_FETCH_URL } from '../../AppConstants';\nimport React, { useMemo, useState } from 'react';\n\nimport API from '../../Utilities/Api';\nimport { DownloadButton } from '@redhat-cloud-services/frontend-components-pdf-generator';\nimport ExportIcon from '@patternfly/react-icons/dist/js/icons/export-icon';\nimport buildExecReport from './Build';\nimport messages from '../../Messages';\nimport { useIntl } from 'react-intl';\n\nconst DownloadExecReport = ({ isDisabled }) => {\n    const intl = useIntl();\n    const [loading, setLoading] = useState(false);\n\n    const dataFetch = async () => {\n        setLoading(true);\n        const [statsSystems, statsReports, topActiveRec] = await Promise.all([\n            (await API.get(STATS_SYSTEMS_FETCH_URL)).data,\n            (await API.get(STATS_REPORTS_FETCH_URL)).data,\n            (await API.get(RULES_FETCH_URL, {}, { limit: 3, sort: '-total_risk,-impacted_count', impacting: true })).data\n        ]);\n        const report = buildExecReport({ statsReports, statsSystems, topActiveRec, intl });\n        setLoading(false);\n\n        return [report];\n    };\n\n    return useMemo(() => {\n        return <DownloadButton\n            groupName={intl.formatMessage(messages.redHatInsights)}\n            label={loading ? intl.formatMessage(messages.loading) : intl.formatMessage(messages.downloadExecutiveLabel)}\n            asyncFunction={dataFetch}\n            buttonProps={{\n                variant: 'link', icon: <ExportIcon className='iconOverride' />, component: 'a', className: 'downloadButtonOverride',\n                isAriaDisabled: isDisabled,\n                ...(loading ? { isDisabled: true } : null)\n            }}\n            type={intl.formatMessage(messages.insightsHeader)}\n            fileName={`Advisor-Executive-Report--${(new Date()).toUTCString().replace(/ /g, '-')}.pdf`} />;\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [loading]);\n};\n\nexport default DownloadExecReport;\n","import './List.scss';\n\nimport { PERMS, RULES_FETCH_URL } from '../../AppConstants';\nimport { PageHeader, PageHeaderTitle } from '@redhat-cloud-services/frontend-components/PageHeader';\nimport React, { Suspense, lazy, useEffect, useState } from 'react';\n\nimport API from '../../Utilities/Api';\nimport { Alert } from '@patternfly/react-core/dist/esm/components/Alert/Alert';\nimport { AlertActionCloseButton } from '@patternfly/react-core/dist/esm/components/Alert/AlertActionCloseButton';\nimport DownloadExecReport from '../../PresentationalComponents/ExecutiveReport/Download';\nimport Loading from '../../PresentationalComponents/Loading/Loading';\nimport { Main } from '@redhat-cloud-services/frontend-components/Main';\nimport { Tooltip } from '@patternfly/react-core/dist/esm/components/Tooltip/Tooltip';\nimport messages from '../../Messages';\nimport { useIntl } from 'react-intl';\nimport { usePermissions } from '@redhat-cloud-services/frontend-components-utilities/RBACHook';\n\nconst RulesTable = lazy(() => import(/* webpackChunkName: \"RulesTable\" */ '../../PresentationalComponents/RulesTable/RulesTable'));\n\nconst List = () => {\n    const intl = useIntl();\n    const permsExport = usePermissions('advisor', PERMS.export);\n    const AdvisorRedHatDisabledRuleAlert = JSON.parse(localStorage.getItem('AdvisorRedHatDisabledRuleAlert') || 'true');\n    const [redhatDisabledRuleAlert, setRedHatDisabledRuleAlert] = useState(AdvisorRedHatDisabledRuleAlert);\n    const [redHatDisabledRuleCount, setRedHatDisabledRuleCount] = useState(0);\n\n    document.title = intl.formatMessage(messages.documentTitle, { subnav: messages.recommendations.defaultMessage });\n\n    useEffect(() => {\n        AdvisorRedHatDisabledRuleAlert && (async () => {\n            try {\n                const response = (await API.get(`${RULES_FETCH_URL}?rule_status=rhdisabled`)).data;\n                setRedHatDisabledRuleCount(response.meta.count);\n            } catch (error) {\n                setRedHatDisabledRuleCount(0);\n            }\n        })();\n    }, [AdvisorRedHatDisabledRuleAlert]);\n\n    return <React.Fragment>\n        <PageHeader className='ins-c-recommendations-header'>\n            <PageHeaderTitle title={`${intl.formatMessage(messages.insightsHeader)} ${intl.formatMessage(messages.recommendations).toLowerCase()}`} />\n            {!permsExport.isLoading &&\n                <Tooltip trigger={!permsExport.hasAccess ? 'mouseenter' : ''} content={intl.formatMessage(messages.permsAction)}>\n                    <DownloadExecReport isDisabled={!permsExport.hasAccess} />\n                </Tooltip>\n            }\n            {redhatDisabledRuleAlert && redHatDisabledRuleCount > 0 &&\n                <Alert\n                    className='alertOverride'\n                    variant=\"warning\"\n                    isInline\n                    title={intl.formatMessage(messages.redhatDisabledRuleAlertTitle)}\n                    actionClose={<AlertActionCloseButton onClose={() => {\n                        setRedHatDisabledRuleAlert(false);\n                        localStorage.setItem('AdvisorRedHatDisabledRuleAlert', 'false');\n                    }} />}\n                >\n                    {intl.formatMessage(messages.redhatDisabledRuleAlert)}\n                </Alert>\n            }\n        </PageHeader>\n        <Main><Suspense fallback={<Loading />}><RulesTable /></Suspense></Main>\n    </React.Fragment>;\n\n};\n\nList.displayName = 'recommendations-list';\n\nexport default List;\n","import { PageHeader, PageHeaderTitle } from '@redhat-cloud-services/frontend-components/PageHeader';\nimport React, { Suspense, lazy } from 'react';\n\nimport Loading from '../../PresentationalComponents/Loading/Loading';\nimport { Main } from '@redhat-cloud-services/frontend-components/Main';\nimport messages from '../../Messages';\nimport { useIntl } from 'react-intl';\n\nconst SystemsTable = lazy(() => import(/* webpackChunkName: \"SystemsTable\" */ '../../PresentationalComponents/SystemsTable/SystemsTable'));\n\nconst List = () => {\n    const intl = useIntl();\n\n    document.title = intl.formatMessage(messages.documentTitle, { subnav: messages.systems.defaultMessage });\n\n    return <React.Fragment>\n        <PageHeader>\n            <PageHeaderTitle title={`${intl.formatMessage(messages.insightsHeader)} ${intl.formatMessage(messages.systems).toLowerCase()}`} />\n        </PageHeader>\n        <Main><Suspense fallback={<Loading />}><SystemsTable /></Suspense></Main>\n    </React.Fragment>;\n\n};\n\nList.displayName = 'systems-list';\n\nexport default List;\n","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!../../../node_modules/sass-loader/dist/cjs.js!./_Download.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n  if (!a && b || a && !b) {\n    return false;\n  }\n\n  var p;\n\n  for (p in a) {\n    if (isNamedExport && p === 'default') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (a[p] !== b[p]) {\n      return false;\n    }\n  }\n\n  for (p in b) {\n    if (isNamedExport && p === 'default') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (!a[p]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!../../../node_modules/sass-loader/dist/cjs.js!./_Download.scss\",\n      function () {\n        if (!isEqualLocals(oldLocals, content.locals, undefined)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nexport default content.locals || {};","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!../../../node_modules/sass-loader/dist/cjs.js!./List.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n  if (!a && b || a && !b) {\n    return false;\n  }\n\n  var p;\n\n  for (p in a) {\n    if (isNamedExport && p === 'default') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (a[p] !== b[p]) {\n      return false;\n    }\n  }\n\n  for (p in b) {\n    if (isNamedExport && p === 'default') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (!a[p]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!../../../node_modules/sass-loader/dist/cjs.js!./List.scss\",\n      function () {\n        if (!isEqualLocals(oldLocals, content.locals, undefined)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nexport default content.locals || {};"],"sourceRoot":""}