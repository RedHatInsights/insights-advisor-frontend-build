"use strict";(self.webpackChunkadvisor=self.webpackChunkadvisor||[]).push([[9573],{80810:(e,t,r)=>{r.d(t,{W1:()=>n,ZP:()=>i,xQ:()=>o});var a=r(40400);const o={name:"SearchIcon",height:512,width:512,svgPath:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z",yOffset:0,xOffset:0},n=(0,a.IU)(o),i=n},44280:(e,t,r)=>{r.d(t,{Z:()=>f});var a=r(69174),o=r(45697),n=r.n(o),i=r(93264),l=r.n(i),c=r(30893),s=r(86896),u=function(e){var t=e.recLvl,r=(e.isCompact,(0,s.Z)()),o=function(e,t,r){return l().createElement(a._,{color:r,isCompact:!0},"".concat(e," - ").concat(t,"%"))};return t>=80?o(r.formatMessage(c.Z.high),t,"red"):t<80&&t>=50?o(r.formatMessage(c.Z.medium),t,"orange"):o(r.formatMessage(c.Z.low),t,"blue")};u.propTypes={props:n().array},u.defaultProps={isCompact:!0};const f=u},79930:(e,t,r)=>{r.r(t),r.d(t,{default:()=>N});var a=r(70885),o=r(4942),n=r(59303),i=r(62012),l=r(92397),c=r(44733),s=r(93264),u=r.n(s),f=r(3351),m=r(22860),d=r(6934),g=r(75863),p=r(1082),v=r(46818),y=r(86379),b=r(7732),h=r(97109),P=r(28216),Z=r(52837),_=r(46891),E=r(34702),S=r(7887),O=r(2443),k=r(44280),C=r(87516),M=r(80810),w=r(40609),x=r(30893),q=r(28672),j=r(8377),X=r(86896),W=r(45697);function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var D=function(e){var t,r,W=e.isTabActive,L=(0,X.Z)(),D=(0,P.useDispatch)(),N=(0,i.useLocation)().search,T=(0,P.useSelector)((function(e){return e.filters.selectedTags})),F=(0,P.useSelector)((function(e){return e.filters.workloads})),I=(0,P.useSelector)((function(e){return e.filters.SID})),V=(0,P.useSelector)((function(e){return e.filters.pathState})),B=function(e){return D((0,q.lW)(e))},R={};(null==T?void 0:T.length)&&(R=A(A({},R),{tags:T.join(",")})),F&&(R=A(A({},R),(0,h.s0)(F,I)));var z,H=(0,j.Lv)(A(A({},(0,h.qW)(V)),R)),G=H.data,K=void 0===G?[]:G,Q=H.isFetching,U=H.isLoading,Y=H.isError,$=[{title:L.formatMessage(x.Z.pathwaysName),transforms:[b.p,(0,p.d)(45)]},{title:L.formatMessage(x.Z.category)},{title:L.formatMessage(x.Z.systems),transforms:[b.p,(0,p.d)(10)]},{title:L.formatMessage(x.Z.reboot)},{title:L.formatMessage(x.Z.reclvl),transforms:[b.p,(0,p.d)(20),v.E0,(0,y.u)({tooltip:L.formatMessage(x.Z.reclvldetails),tooltipProps:{isContentLeftAligned:!0}})]}],J={0:"name",2:"impacted_systems_count",4:"recommendation_level"},ee=(0,s.useState)({}),te=(0,a.Z)(ee,2),re=te[0],ae=te[1],oe=(0,s.useState)(!0),ne=(0,a.Z)(oe,2),ie=ne[0],le=ne[1],ce=(0,s.useState)((null==V?void 0:V.text)||""),se=(0,a.Z)(ce,2),ue=se[0],fe=se[1],me=(0,w.Z)(ue,n.$x),de=function(e){var t=e*V.limit-V.limit;B(A(A({},V),{},{offset:t}))},ge=function(e){var t=A(A({},V),{},{offset:0});"text"===e&&fe(""),delete t[e],B(t)},pe=function(e,t){t.length>0?B(A(A({},V),{},{offset:0},(0,o.Z)({},e,t))):ge(e)},ve=[{label:L.formatMessage(x.Z.name).toLowerCase(),filterValues:{key:"text-filter",onChange:function(e,t){return fe(t)},value:ue,placeholder:L.formatMessage(x.Z.filterBy)}},{label:n.W2.category.title,type:n.W2.category.type,id:n.W2.category.urlParam,value:"checkbox-".concat(n.W2.category.urlParam),filterValues:{key:"".concat(n.W2.category.urlParam,"-filter"),onChange:function(e,t){return pe(n.W2.category.urlParam,t)},value:V.category,items:n.W2.category.values}},{label:n.dX.has_incident.title,type:n.dX.has_incident.type,id:n.dX.has_incident.urlParam,value:"checkbox-".concat(n.dX.has_incident.urlParam),filterValues:{key:"".concat(n.dX.has_incident.urlParam,"-filter"),onChange:function(e,t){return pe(n.dX.has_incident.urlParam,t)},value:V.has_incident,items:n.dX.has_incident.values}},{label:n.dX.reboot_required.title,type:n.dX.reboot_required.type,id:n.dX.reboot_required.urlParam,value:"checkbox-".concat(n.dX.reboot_required.urlParam),filterValues:{key:"".concat(n.dX.reboot_required.urlParam,"-filter"),onChange:function(e,t){return pe(n.dX.reboot_required.urlParam,t)},value:V.reboot_required,items:n.dX.reboot_required.values}}],ye={deleteTitle:L.formatMessage(x.Z.resetFilters),filters:(z=A({},V),delete z.sort,delete z.offset,delete z.limit,(0,h.yK)(z,A(A({},n.W2),n.dX))),onDelete:function(e,t,r){r?(fe(""),B({limit:V.limit,offset:V.offset})):t.map((function(e){var t=(0,o.Z)({},e.urlParam,Array.isArray(V[e.urlParam])?V[e.urlParam].filter((function(t){return String(t)!==String(e.chips[0].value)})):"");t[e.urlParam].length>0?B(A(A({},V),t)):ge(e.urlParam)}))}};return(0,s.useEffect)((function(){ie||null===T||(0,h.Y4)(V,T)}),[V,T,F,I]),(0,s.useEffect)((function(){if(W&&N&&ie){var e=(0,h.yG)();delete e.tags,void 0===e.text?fe(""):fe(e.text),e.sort=void 0!==e.sort&&Object.values(J).includes(null==e?void 0:e.sort[0])?e.sort[0]:"-impacted_systems_count",void 0===e.offset?e.offset=0:e.offset=Number(e.offset[0]),void 0===e.limit?e.limit=20:e.limit=Number(e.limit[0]),void 0!==e.reboot_required&&!Array.isArray(e.reboot_required)&&(e.reboot_required=["".concat(e.reboot_required)]),B(A(A({},V),e))}le(!1)}),[]),(0,s.useEffect)((function(){if(void 0!==V.sort&&J){var e=V.sort,t=Number(Object.entries(J).find((function(t){return t[1]===e||"-".concat(t[1])===e}))[0]),r="-"===V.sort[0]?"desc":"asc";ae({index:t,direction:r})}}),[V.sort]),(0,s.useEffect)((function(){if(!ie&&!U){var e=A({},V),t=ue.length?{text:ue}:{};delete e.text,B(A(A(A({},e),t),{},{offset:0}))}}),[me]),u().createElement(u().Fragment,null,u().createElement(S.Z,{pagination:{itemCount:(null==K||null===(t=K.meta)||void 0===t?void 0:t.count)||0,page:V.offset/V.limit+1,perPage:Number(V.limit),onSetPage:function(e,t){de(t)},onPerPageSelect:function(e,t){B(A(A({},V),{},{limit:t,offset:0}))},isCompact:!0},filterConfig:{items:ve},activeFiltersConfig:ye}),Q?u().createElement(_.Z,null):Y?u().createElement(f.i,null,u().createElement(O.Z,null)):u().createElement(f.i,{"aria-label":"pathways-table",variant:g.B.compact,sortBy:re,onSort:function(e,t,r){var a="".concat("asc"===r?"":"-").concat(J[t]);ae({index:t,direction:r}),B(A(A({},V),{},{sort:a,offset:0}))},cells:$,rows:function(e){return 0===e.length?[{cells:[{title:u().createElement(E.Z,{icon:M.ZP,title:L.formatMessage(x.Z.noResults),text:L.formatMessage(x.Z.adjustFilters)}),props:{colSpan:6}}]}]:e.flatMap((function(e,t){return[{cells:[{title:u().createElement("span",{key:t},u().createElement(l.Z,{key:t,to:"/recommendations/pathways/".concat(e.slug)}," ",e.name," "),e.has_incident&&u().createElement(C.Z,{rule:{tags:"incident"},isCompact:!0}))},{title:u().createElement(Z.Z,{key:t,labelList:e.categories,isCompact:!0})},{title:u().createElement("div",{key:t},"".concat(e.impacted_systems_count.toLocaleString()))},{title:u().createElement("span",{key:t},L.formatMessage(e.reboot_required?x.Z.required:x.Z.notRequired))},{title:u().createElement(k.Z,{key:t,recLvl:e.recommendation_level})}]}]}))}(null==K?void 0:K.data),isStickyHeader:!0},u().createElement(d.x,null),u().createElement(m.R,null)),u().createElement(c.t,{ouiaId:"page",itemCount:(null==K||null===(r=K.meta)||void 0===r?void 0:r.count)||0,page:V.offset/V.limit+1,perPage:Number(V.limit),onSetPage:function(e,t){de(t)},onPerPageSelect:function(e,t){B(A(A({},V),{},{limit:t,offset:0}))},widgetId:"pagination-options-menu-bottom",variant:c.a.bottom}))};D.propTypes={isTabActive:r.n(W)().bool};const N=D}}]);