(self.webpackChunkadvisor_frontend=self.webpackChunkadvisor_frontend||[]).push([[6842],{32203:(e,t,r)=>{"use strict";r.d(t,{H:()=>l,Z:()=>c});var n=r(70655),a=r(93264),s=r(54918),o=r(38296),i=r(62472);const l=a.createContext({cardId:"",registerTitleId:()=>{},isExpanded:!1}),c=e=>{var{children:t=null,id:r="",className:u="",component:d="article",isHoverable:m=!1,isCompact:p=!1,isSelectable:f=!1,isSelectableRaised:g=!1,isSelected:b=!1,isDisabledRaised:v=!1,isFlat:y=!1,isExpanded:h=!1,isRounded:O=!1,isLarge:Z=!1,isFullHeight:E=!1,isPlain:_=!1,ouiaId:j,ouiaSafe:x=!0,hasSelectableInput:w=!1,selectableInputAriaLabel:P,onSelectableInputChange:S=(()=>{})}=e,k=(0,n._T)(e,["children","id","className","component","isHoverable","isCompact","isSelectable","isSelectableRaised","isSelected","isDisabledRaised","isFlat","isExpanded","isRounded","isLarge","isFullHeight","isPlain","ouiaId","ouiaSafe","hasSelectableInput","selectableInputAriaLabel","onSelectableInputChange"]);const C=d,T=(0,i.S$)(c.displayName,j,x),[N,D]=a.useState(""),[I,M]=a.useState();p&&Z&&(console.warn("Card: Cannot use isCompact with isLarge. Defaulting to isCompact"),Z=!1);const L=a.useRef(!1);return a.useEffect((()=>{P?M({"aria-label":P}):N?M({"aria-labelledby":N}):w&&!L.current&&(M({}),console.warn("If no CardTitle component is passed as a child of Card the selectableInputAriaLabel prop must be passed"))}),[w,P,N]),a.createElement(l.Provider,{value:{cardId:r,registerTitleId:e=>{D(e),L.current=!!e},isExpanded:h}},w&&a.createElement("input",Object.assign({className:"pf-screen-reader",id:`${r}-input`},I,{type:"checkbox",checked:b,onChange:e=>S(r,e),disabled:v,tabIndex:-1})),a.createElement(C,Object.assign({id:r,className:(0,o.i)(s.Z.card,p&&s.Z.modifiers.compact,h&&s.Z.modifiers.expanded,y&&s.Z.modifiers.flat,O&&s.Z.modifiers.rounded,Z&&s.Z.modifiers.displayLg,E&&s.Z.modifiers.fullHeight,_&&s.Z.modifiers.plain,v?(0,o.i)(s.Z.modifiers.nonSelectableRaised):g?(0,o.i)(s.Z.modifiers.selectableRaised,b&&s.Z.modifiers.selectedRaised):f||m?(0,o.i)(s.Z.modifiers.selectable,b&&s.Z.modifiers.selected):"",u),tabIndex:f||g?"0":void 0},k,T),t))};c.displayName="Card"},62394:(e,t,r)=>{"use strict";r.d(t,{e:()=>i});var n=r(70655),a=r(93264),s=r(54918),o=r(38296);const i=e=>{var{children:t=null,className:r="",component:i="div",isFilled:l=!0}=e,c=(0,n._T)(e,["children","className","component","isFilled"]);const u=i;return a.createElement(u,Object.assign({className:(0,o.i)(s.Z.cardBody,!l&&s.Z.modifiers.noFill,r)},c),t)};i.displayName="CardBody"},69174:(e,t,r)=>{"use strict";r.d(t,{_:()=>p});var n=r(70655),a=r(93264),s=r(83063),o=r(72002),i=r(47173),l=r(75824),c=r(38296),u=r(24307),d=r(6551);const m={blue:s.Z.modifiers.blue,cyan:s.Z.modifiers.cyan,green:s.Z.modifiers.green,orange:s.Z.modifiers.orange,purple:s.Z.modifiers.purple,red:s.Z.modifiers.red,gold:s.Z.modifiers.gold,grey:""},p=e=>{var{children:t,className:r="",color:p="grey",variant:f="filled",isCompact:g=!1,isEditable:b=!1,editableProps:v,isTruncated:y=!1,tooltipPosition:h,icon:O,onClose:Z,onEditCancel:E,onEditComplete:_,closeBtn:j,closeBtnAriaLabel:x,closeBtnProps:w,href:P,isOverflowLabel:S,render:k}=e,C=(0,n._T)(e,["children","className","color","variant","isCompact","isEditable","editableProps","isTruncated","tooltipPosition","icon","onClose","onEditCancel","onEditComplete","closeBtn","closeBtnAriaLabel","closeBtnProps","href","isOverflowLabel","render"]);const[T,N]=(0,a.useState)(!1),[D,I]=(0,a.useState)(t),M=a.useRef(),L=a.useRef();a.useEffect((()=>(document.addEventListener("mousedown",R),document.addEventListener("keydown",F),()=>{document.removeEventListener("mousedown",R),document.removeEventListener("keydown",F)})));const R=e=>{T&&L&&L.current&&!L.current.contains(e.target)&&(L.current.value&&_&&_(e,L.current.value),N(!1))},F=e=>{var r,n;const a=e.key;if((T||M&&M.current&&M.current.contains(e.target))&&(!T||L&&L.current&&L.current.contains(e.target))&&(!T||"Enter"!==a&&"Tab"!==a||(e.preventDefault(),e.stopImmediatePropagation(),L.current.value&&_&&_(e,L.current.value),N(!1),null===(r=null==M?void 0:M.current)||void 0===r||r.focus()),T&&"Escape"===a&&(e.preventDefault(),e.stopImmediatePropagation(),L.current.value&&(L.current.value=t,E&&E(e,t)),N(!1),null===(n=null==M?void 0:M.current)||void 0===n||n.focus()),!T&&"Enter"===a)){e.preventDefault(),e.stopImmediatePropagation(),N(!0);const t=e.target,r=document.createRange(),n=window.getSelection();r.selectNodeContents(t),r.collapse(!1),n.removeAllRanges(),n.addRange(r)}},A=S?"button":"span",U=j||a.createElement(i.zx,Object.assign({type:"button",variant:"plain",onClick:Z,"aria-label":x||`Close ${t}`},w),a.createElement(u.ZP,null)),H=a.createRef(),W=a.useRef(),[B,V]=a.useState(!1);(0,d.L)((()=>{const e=b?M:H;T||V(e.current&&e.current.offsetWidth<e.current.scrollWidth)}),[T]);const G=a.createElement(a.Fragment,null,O&&a.createElement("span",{className:(0,c.i)(s.Z.labelIcon)},O),y&&a.createElement("span",{ref:H,className:(0,c.i)(s.Z.labelText)},t),!y&&t);a.useEffect((()=>{T&&L&&L.current&&L.current.focus()}),[L,T]);let q=a.createElement("span",{className:(0,c.i)(s.Z.labelContent)},G);return P?q=a.createElement("a",{className:(0,c.i)(s.Z.labelContent),href:P},G):b&&(q=a.createElement("button",Object.assign({ref:M,className:(0,c.i)(s.Z.labelContent),onClick:e=>{N(!0),e.stopPropagation()}},v),G)),k?q=a.createElement(a.Fragment,null,B&&a.createElement(l.u,{reference:W,content:t,position:h}),k({className:s.Z.labelContent,content:G,componentRef:W})):B&&(q=a.createElement(l.u,{content:t,position:h},q)),a.createElement(A,Object.assign({},C,{className:(0,c.i)(s.Z.label,m[p],"outline"===f&&s.Z.modifiers.outline,S&&s.Z.modifiers.overflow,g&&s.Z.modifiers.compact,b&&o.Z.modifiers.editable,T&&s.Z.modifiers.editableActive,r)}),!T&&q,!T&&Z&&U,T&&a.createElement("input",Object.assign({className:(0,c.i)(s.Z.labelContent),type:"text",id:"editable-input",ref:L,value:D,onChange:()=>{I(L.current.value)}},v)))};p.displayName="Label"},68340:(e,t,r)=>{"use strict";r.d(t,{q:()=>n,x:()=>c});var n,a=r(70655),s=r(93264),o=r(38296),i=r(62873),l=r(62472);!function(e){e.h1="h1",e.h2="h2",e.h3="h3",e.h4="h4",e.h5="h5",e.h6="h6",e.p="p",e.a="a",e.small="small",e.blockquote="blockquote",e.pre="pre"}(n||(n={}));const c=e=>{var{children:t=null,className:r="",component:u=n.p,isVisitedLink:d=!1,ouiaId:m,ouiaSafe:p=!0}=e,f=(0,a._T)(e,["children","className","component","isVisitedLink","ouiaId","ouiaSafe"]);const g=u,b=(0,l.S$)(c.displayName,m,p);return s.createElement(g,Object.assign({},b,f,{"data-pf-content":!0,className:(0,o.i)(d&&u===n.a&&i.Z.modifiers.visited,r)}),t)};c.displayName="Text"},68774:(e,t,r)=>{"use strict";r.d(t,{D:()=>i});var n=r(70655),a=r(93264),s=r(62873),o=r(38296);const i=e=>{var{children:t,className:r="",isVisited:i=!1}=e,l=(0,n._T)(e,["children","className","isVisited"]);return a.createElement("div",Object.assign({},l,{className:(0,o.i)(s.Z.content,i&&s.Z.modifiers.visited,r)}),t)};i.displayName="TextContent"},54918:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n}),r(80598);const n={card:"pf-c-card",cardActions:"pf-c-card__actions",cardBody:"pf-c-card__body",cardExpandableContent:"pf-c-card__expandable-content",cardFooter:"pf-c-card__footer",cardHeader:"pf-c-card__header",cardHeaderToggle:"pf-c-card__header-toggle",cardHeaderToggleIcon:"pf-c-card__header-toggle-icon",cardSrInput:"pf-c-card__sr-input",cardTitle:"pf-c-card__title",divider:"pf-c-divider",modifiers:{hoverable:"pf-m-hoverable",selectable:"pf-m-selectable",selected:"pf-m-selected",hoverableRaised:"pf-m-hoverable-raised",selectableRaised:"pf-m-selectable-raised",nonSelectableRaised:"pf-m-non-selectable-raised",selectedRaised:"pf-m-selected-raised",compact:"pf-m-compact",displayLg:"pf-m-display-lg",flat:"pf-m-flat",plain:"pf-m-plain",rounded:"pf-m-rounded",expanded:"pf-m-expanded",fullHeight:"pf-m-full-height",toggleRight:"pf-m-toggle-right",noOffset:"pf-m-no-offset",noFill:"pf-m-no-fill",overpassFont:"pf-m-overpass-font"},themeDark:"pf-theme-dark"}},62873:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n}),r(10108);const n={content:"pf-c-content",modifiers:{visited:"pf-m-visited",plain:"pf-m-plain",overpassFont:"pf-m-overpass-font"}}},83063:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n}),r(82014);const n={button:"pf-c-button",label:"pf-c-label",labelContent:"pf-c-label__content",labelIcon:"pf-c-label__icon",labelText:"pf-c-label__text",modifiers:{compact:"pf-m-compact",blue:"pf-m-blue",green:"pf-m-green",orange:"pf-m-orange",red:"pf-m-red",purple:"pf-m-purple",cyan:"pf-m-cyan",gold:"pf-m-gold",outline:"pf-m-outline",overflow:"pf-m-overflow",add:"pf-m-add",editable:"pf-m-editable",editableActive:"pf-m-editable-active"},themeDark:"pf-theme-dark"}},72002:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n}),r(21064);const n={button:"pf-c-button",labelGroup:"pf-c-label-group",labelGroupClose:"pf-c-label-group__close",labelGroupLabel:"pf-c-label-group__label",labelGroupList:"pf-c-label-group__list",labelGroupListItem:"pf-c-label-group__list-item",labelGroupMain:"pf-c-label-group__main",labelGroupTextarea:"pf-c-label-group__textarea",modifiers:{category:"pf-m-category",vertical:"pf-m-vertical",editable:"pf-m-editable",textarea:"pf-m-textarea"}}},67265:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(85893),a=r(93264);const s=function(e){var t=e.component,r=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["component"]);return(0,a.useEffect)((function(){console.error("Unable to load inventory component. Failed to load ".concat(t,"."),r)}),[]),(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{children:"Unable to load inventory component"}),(0,n.jsxs)("h2",{children:["Failed to load ",t]}),(0,n.jsx)("code",{children:"More info can be found in browser console output."})]})}},33739:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var n=r(85893),a=r(93264),s=r.n(a),o=r(45697),i=r.n(o),l=r(59823),c=r(75662),u=r(28216),d=r(35356),m=r(67265),p=r(94184),f=r.n(p),g=function(){return g=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},g.apply(this,arguments)},b=function(e){var t=(0,c.useHistory)(),r=(0,u.useStore)(),s=e.component;return(0,n.jsx)(s,g({className:f()(e.className,"inventory")},{children:(0,n.jsx)(a.Suspense,g({fallback:e.fallback},{children:(0,n.jsx)(l.ScalprumComponent,g({history:t,store:r,appName:"inventory",module:"./InventoryTable",scope:"inventory",ErrorComponent:(0,n.jsx)(m.Z,g({component:"InventoryDetailHead",history:t,store:r},e)),ref:e.innerRef},e))}))}))};b.propTypes={fallback:i().node,innerRef:i().object,component:i().string,className:i().string};var v=s().forwardRef((function(e,t){return(0,n.jsx)(b,g({innerRef:t},e))}));v.propTypes={fallback:i().node,component:i().string,className:i().string},v.defaultProps={fallback:(0,n.jsx)(d.Bullseye,g({className:"pf-u-p-lg"},{children:(0,n.jsx)(d.Spinner,{size:"xl"})})),component:"section"};const y=v},58921:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var n=r(4942),a=r(15861),s=r(87757),o=r.n(s),i=r(53446),l=r(35240),c=r(59303),u=r(71094),d=r(97109);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=function(e){var t={date:(new Date).toISOString().replace(/[T:]/g,"-").split(".")[0]+"-utc"};return"Insights-Advisor_".concat(e,"--").concat(t.date)};const g=function(){var e=(0,a.Z)(o().mark((function e(t,r,n,a,s,m,g){var b,v,y;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b=(null==a?void 0:a.length)&&{tags:a},s&&(b=p(p({},b),(0,d.s0)(s,m))),g((0,i.addNotification)(c.LH.pending)),e.next=6,(0,u.dX)("".concat(c._n,"/export/").concat(t,".").concat("json"===r?"json":"csv"),{},p(p({},n),b)).then((function(e){return g((0,i.addNotification)(c.LH.success)),e})).catch((function(){return g((0,i.addNotification)(c.LH.error))}));case 6:v=e.sent.data,y="json"===r?JSON.stringify(v):v,(0,l.Sv)(y,f(t),r),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(0),"".concat(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r,n,a,s,o,i){return e.apply(this,arguments)}}()},87516:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(75824),a=r(69174),s=r(45697),o=r.n(s),i=r(93264),l=r.n(i),c=r(30893),u=r(86896),d=function(e){var t,r=e.rule,s=e.isCompact,o=e.noMargin,i=(0,u.Z)();return l().createElement(l().Fragment,null,-1!==(null==r||null===(t=r.tags)||void 0===t?void 0:t.search("incident"))&&l().createElement(n.u,{content:i.formatMessage(c.Z.incidentTooltip),position:n.D.right},l().createElement(a._,{color:"red",className:o?null:"adv-c-label-incident",isCompact:s},i.formatMessage(c.Z.incident))),"disabled"===(null==r?void 0:r.rule_status)&&l().createElement(n.u,{content:i.formatMessage(c.Z.ruleIsDisabledTooltip),position:n.D.right},l().createElement(a._,{color:"gray",isCompact:s},i.formatMessage(c.Z.disabled))),"rhdisabled"===(null==r?void 0:r.rule_status)&&l().createElement(n.u,{content:i.formatMessage(c.Z.ruleIsDisabledTooltip),position:n.D.right},l().createElement(a._,{color:"gray",isCompact:s},i.formatMessage(c.Z.redhatDisabled))))};d.propTypes={rule:o().object,isCompact:o().bool,noMargin:o().bool},d.defaultProps={isCompact:!0};const m=d},46891:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(32203),a=r(62394),s=r(24561),o=r(93264),i=r.n(o);const l=function(){return i().createElement(n.Z,null,i().createElement(a.e,null,i().createElement(s.aV,null)))}},58016:(e,t,r)=>{"use strict";r.d(t,{J:()=>c,W:()=>u});var n=r(4942),a=r(75472),s=r.n(a),o=r(97109);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=function(e,t,r,n,a,s,i,c,u,d){var m,p;return l(l(l(l(l(l(l(l({},e),{},{limit:r,offset:t*r-r,sort:n},(null==s?void 0:s.hostnameOrId)&&!a&&!d&&{name:null==s?void 0:s.hostnameOrId}),(null==s?void 0:s.hostnameOrId)&&!a&&d&&{display_name:null==s?void 0:s.hostnameOrId}),s.hostnameOrId&&a&&{display_name:null==s?void 0:s.hostnameOrId}),e.rhel_version&&{rhel_version:null===(m=e.rhel_version)||void 0===m?void 0:m.join(",")}),(null===(p=s.tagFilters)||void 0===p?void 0:p.length)&&(0,o.gh)(s.tagFilters)),c?(0,o.s0)(c,u):{}),(null==i?void 0:i.length)>0?{tags:i.join(",")}:{})},u=function(e,t,r){var n;return n=0===t?"name":2===t?"featured":"impacted_systems_count",s()(e,[function(e){return e[n]}],r)}},15334:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ne});var n=r(89376),a=r(39173),s=r(93264),o=r.n(s),i=r(15861),l=r(42982),c=r(4942),u=r(70885),d=r(87757),m=r.n(d),p=r(59303),f=r(75863),g=r(97109),b=r(28216),v=r(71094),y=r(33739),h=r(46891),O=r(23320),Z=r(74093),E=r(45697),_=r.n(E);var j=r(30893);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var P=Z.mM.create({bold:{fontWeight:"600"},link:{color:"#06c"},text:{marginTop:"1rem"},nameColumn:{width:"220px"},header:{fontSize:9,color:"#4f5255",paddingLeft:"0.5rem",paddingBottom:"0.5rem",paddingTop:"0.5rem"}}),S=function(e){var t=e.page,r=e.systems,n=e.intl,a=[{value:n.formatMessage(j.Z.name),style:P.nameColumn},{value:n.formatMessage(j.Z.recommendations),style:{width:"100px",textAlign:"center"}},{value:n.formatMessage(j.Z.critical),style:{width:"70px",textAlign:"center"}},{value:n.formatMessage(j.Z.important),style:{width:"70px",textAlign:"center"}},{value:n.formatMessage(j.Z.moderate),style:{width:"60px",textAlign:"center"}},{value:n.formatMessage(j.Z.low),style:{width:"90px",textAlign:"center"}},{value:n.formatMessage(j.Z.lastSeen),style:{marginLeft:"20px"}}],s=["hits","critical_hits","important_hits","moderate_hits","low_hits"],i=(0,l.Z)(r.map((function(e){var t=new Date(e.last_seen).toUTCString().split(" "),r=(0,u.Z)(t,5),n=r[1],a=r[2],i=r[3],c=r[4],d="".concat(n," ").concat(a," ").concat(i,", ").concat(c.split(":").slice(0,2).join(":")," UTC");return[o().createElement(Z.xv,{key:e.system_uuid,style:P.nameColumn},o().createElement(Z.rU,{style:P.link,src:"".concat(p.eR,"/insights/advisor/systems/").concat(e.system_uuid,"/")},e.display_name))].concat((0,l.Z)(s.map((function(t){return n=(r={style:{width:"10px"},value:e[t]}).value,a=r.style,o().createElement(Z.xv,{style:a},n);var r,n,a}))),[o().createElement(Z.xv,{key:e.last_seen,style:{width:"100px"}},"".concat(d))])})));return o().createElement(o().Fragment,{key:t},o().createElement(O.sg,null,o().createElement(O.iA,{withHeader:!0,rows:[a.map((function(e){return r=(t=e).value,n=t.style,o().createElement(Z.xv,{style:w(w(w({},n),P.header),P.bold)},r);var t,r,n}))].concat((0,l.Z)(i))})))};S.propTypes={systems:_().object,page:_().number,intl:_().any};var k=function(e){var t=e.systemsTotal,r=e.systems,n=e.filters,a=e.tags,s=e.intl;return delete n.offset,delete n.limit,o().createElement(o().Fragment,{key:"".concat(s.formatMessage(j.Z.insightsHeader),": ").concat(s.formatMessage(j.Z.systems))},o().createElement(Z.xv,{key:"sys-count",style:P.text},s.formatMessage(j.Z.sysTableCount,{systems:o().createElement(Z.xv,{key:"sys-count-count",style:P.bold},s.formatMessage(j.Z.execReportHeaderSystems,{systems:t}),t>1e3&&s.formatMessage(j.Z.dueTo))})),o().createElement(Z.xv,{key:"sys-filters",style:P.text},s.formatMessage(j.Z.filtersApplied)),o().createElement(Z.xv,{key:"sys-filters-values",style:P.bold},Object.entries(n).map((function(e){return o().createElement(Z.xv,{key:e},"".concat(e[0],": ").concat(e[1],"     "))}))),o().createElement(Z.xv,{key:"sys-tags",style:P.text},s.formatMessage(j.Z.tagsApplied)),o().createElement(Z.xv,{key:"sys-tags-values",style:P.bold},a?decodeURIComponent(a):s.formatMessage(j.Z.noTags)),o().createElement(O.$0,{key:"systems",title:"Systems"},o().createElement(S,{systems:r,intl:s})))};k.propTypes={systems:_().object,systemsTotal:_().number,filters:_().object,tags:_().array,intl:_().any};var C=r(86896);function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var D=function(e){var t=e.filters,r=(0,C.Z)(),n=(0,s.useState)(!1),a=(0,u.Z)(n,2),c=a[0],d=a[1],f=(0,b.useSelector)((function(e){var t=e.AdvisorStore;return null==t?void 0:t.selectedTags})),y=(0,b.useSelector)((function(e){var t=e.AdvisorStore;return null==t?void 0:t.workloads})),h=(0,b.useSelector)((function(e){var t=e.AdvisorStore;return null==t?void 0:t.SID})),Z=function(){var e=(0,i.Z)(m().mark((function e(){var n,a,s,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),n=(null==f?void 0:f.length)&&{tags:f},y&&(n=N(N({},n),(0,g.s0)(y,h))),e.next=5,(0,v.dX)("".concat(p._n,"/export/systems/"),{},N(N({},t),n));case 5:return a=e.sent.data,s=k({systemsTotal:null==a?void 0:a.length,systems:a.slice(0,18),filters:t,tags:f,intl:r}),i=a.slice(18,982).reduce((function(e,t,r){var n=Math.floor(r/31);return!e[n]&&(e[n]=[]),e[n].push(t),e}),[]),d(!1),e.abrupt("return",[s].concat((0,l.Z)(i.map((function(e,t){return o().createElement(S,{key:t,page:t,systems:e,intl:r})})))));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o().createElement(O.o6,{groupName:r.formatMessage(j.Z.redHatInsights),allPagesHaveTitle:!1,label:c?r.formatMessage(j.Z.loading):r.formatMessage(j.Z.exportPdf),asyncFunction:Z,buttonProps:N({variant:"",component:"button",className:"pf-c-dropdown__menu-item adv-c-dropdown-systems-pdf__menu-item"},c?{isDisabled:!0}:null),reportName:"".concat(r.formatMessage(j.Z.insightsHeader),":"),type:r.formatMessage(j.Z.systems),fileName:"Advisor_systems--".concat((new Date).toUTCString().replace(/ /g,"-"),".pdf"),size:[841.89,595.28]})};D.propTypes={filters:_().object,systemsCount:_().number};const I=D;var M=r(58921),L=r(46655),R=r(41131),F=r(28672),A=r(75662),U=r(43707),H=r(75106),W=r(9947),B=r(68340),V=r(68774),G=r(38779),q=r(52643);const z=function(){return o().createElement(q.b,null,o().createElement(W.u,{variant:W.I.full},o().createElement(G.D,{headingLevel:"h2",size:"lg"},"No matching systems found"),o().createElement(H.B,null,o().createElement(V.D,null,o().createElement(B.x,{component:B.q.p},"To continue, edit your filter settings and search again.")))))};var $=r(54025),Y=r(7732),J=r(46818),X=r(87516),K=r(58016);function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const te=function(){var e,t=(0,C.Z)(),r=(0,b.useDispatch)(),n=(0,b.useStore)(),a=(0,$.useLoadModule)({appName:"inventory",scope:"inventory",module:"./OsFilterHelpers"}),d=(0,u.Z)(a,1)[0],O=(d=void 0===d?{}:d).toGroupSelectionValue,Z=d.buildOSFilterConfig,E=(0,A.useLocation)().search,_=(0,b.useSelector)((function(e){return e.filters.selectedTags})),x=(0,b.useSelector)((function(e){return e.filters.workloads})),w=(0,b.useSelector)((function(e){return e.filters.SID})),P=(0,b.useSelector)((function(e){return e.filters.sysState})),S=(0,b.useSelector)((function(e){var t=e.entities;return(null==t?void 0:t.operatingSystems)||[]})),k=function(e){return r((0,F.pu)(e))},T=(0,U.TE)("advisor",p.Gd.export).hasAccess,N=(0,s.useState)(!0),D=(0,u.Z)(N,2),H=D[0],W=D[1],B=function(e){var t=ee(ee({},P),{},{offset:0});delete t[e],"hits"===e&&void 0===t.hits&&(t.hits=["yes"]),k(t)},V=function(e,t){"hits"===e&&t.length>1&&t.includes("yes")&&t.shift();var r=e===p.Ut.rhel_version.urlParam?Object.values(t||{}).flatMap((function(e){return Object.keys(e)})):t;r.length>0?k(ee(ee({},P),{},{offset:0},(0,c.Z)({},e,r))):B(e)},G=[{label:p.Ut.hits.title.toLowerCase(),type:p.Ut.hits.type,id:p.Ut.hits.urlParam,value:"checkbox-".concat(p.Ut.hits.urlParam),filterValues:{key:"".concat(p.Ut.hits.urlParam,"-filter"),onChange:function(e,t){return V(p.Ut.hits.urlParam,t)},value:P.hits,items:p.Ut.hits.values}},{label:p.Ut.incident.title.toLowerCase(),type:p.Ut.incident.type,id:p.Ut.incident.urlParam,value:"checkbox-".concat(p.Ut.incident.urlParam),filterValues:{key:"".concat(p.Ut.incident.urlParam,"-filter"),onChange:function(e,t){V(p.Ut.incident.urlParam,t)},value:P.incident,items:p.Ut.incident.values}}].concat((0,l.Z)(Z?[Z({label:p.Ut.rhel_version.title.toLowerCase(),type:p.Ut.rhel_version.type,id:p.Ut.rhel_version.urlParam,value:O(P.rhel_version||[]),onChange:function(e,t){return V(p.Ut.rhel_version.urlParam,t)}},S)]:[])),q={deleteTitle:t.formatMessage(j.Z.resetFilters),filters:(e=ee({},P),e.hits&&e.hits.includes("yes")&&delete e.hits,delete e.sort,delete e.offset,delete e.limit,(0,g.yK)(e,p.Ut)),onDelete:function(e,t,r){r?k({sort:P.sort,limit:P.limit,offset:P.offset,hits:["all"],tags:_}):t.map((function(e){var t=(0,c.Z)({},e.urlParam,Array.isArray(P[e.urlParam])?P[e.urlParam].filter((function(t){return String(t)!==String(e.chips[0].value)})):"");t[e.urlParam].length>0?k(ee(ee({},P),t)):B(e.urlParam)}))}},Q=function(e){var t=e.display_name,r=e.hits,n=ee(ee(ee({},e),t&&{display_name:t}),r&&{hits:r});(0,g.Y4)(n,_)},te=function(e){return[{title:e.formatMessage(j.Z.name),key:"display_name",transforms:[Y.p,J.WT],props:{isStatic:!0},renderFunc:function(e,t,r){return o().createElement(o().Fragment,null,o().createElement(A.Link,{key:t,to:"/systems/".concat(r.system_uuid)},"".concat(r.display_name," ")),r.incident_hits>0&&o().createElement(X.Z,{rule:{tags:"incident"}}))}},{key:"tags"},{key:"system_profile",transforms:[Y.p,J.WT]},{title:e.formatMessage(j.Z.numberRuleHits),transforms:[Y.p,J.WT],key:"hits"},{title:e.formatMessage(j.Z.critical),transforms:[Y.p,J.WT],key:"critical_hits"},{title:e.formatMessage(j.Z.important),transforms:[Y.p,J.WT],key:"important_hits"},{title:e.formatMessage(j.Z.moderate),transforms:[Y.p,J.WT],key:"moderate_hits"},{title:e.formatMessage(j.Z.low),transforms:[Y.p,J.WT],key:"low_hits"},{key:"updated",transforms:[Y.p,J.WT],props:{width:20}}]}(t);return(0,s.useEffect)((function(){var e;if(E){var t=(0,g.yG)();t.tags=_,void 0!==t.sort&&(t.sort=t.sort[0]),void 0!==t.display_name&&(t.display_name=t.display_name[0]),void 0===t.hits&&(t.hits=["all"]),void 0===t.offset||isNaN(t.offset)?t.offset=0:t.offset=Number(t.offset[0]),void 0===t.limit||isNaN(t.limit)?t.limit=20:t.limit=Number(t.limit[0]),e=ee(ee({},P),t),void 0!==t.incident&&!Array.isArray(t.incident)&&(t.incident=["".concat(t.incident)]),k(e)}else void 0!==P.limit&&void 0!==P.offset&&void 0!==P.hits||(e=ee(ee({},P),{},{offset:0,limit:20,hits:["all"],tags:_}),k(e));W(!1),(0,g.Y4)(e,_)}),[_]),!H&&o().createElement(y.Z,{hideFilters:{all:!0,name:!1,tags:!1},initialLoading:!0,autoRefresh:!0,showTags:!0,disableDefaultColumns:!0,customFilters:{advisorFilters:P,workloads:x,SID:w,selectedTags:_},columns:function(e){return function(e){return te.map((function(t){var r=e.find((function(e){return e.key===t.key}));return ee(ee({},t),r)}))}(e)},onLoad:function(e){var t=e.mergeWithEntities,r=e.INVENTORY_ACTION_TYPES,a=e.mergeWithDetail;n.replaceReducer((0,R.U)(ee(ee({},t((0,L.V)([],r),{page:Number(P.offset/P.limit+1||1),perPage:Number(P.limit||20)})),a())))},getEntities:function(){var e=(0,i.Z)(m().mark((function e(t,r,n,a){var s,o,i,l,c,u,d,f,b,y,h,O,Z;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.per_page,i=r.page,l=r.orderBy,c=r.orderDirection,u=r.advisorFilters,d=r.filters,f=r.workloads,b=r.SID,y="".concat("ASC"===c?"":"-").concat(("updated"===l?"last_seen":"operating_system"===l&&"rhel_version")||l),h=(0,K.J)(u,i,o,y,null,d,_,f,b,!0),e.next=5,(0,v.dX)(p.Vo,{},h);case 5:if(e.t1=s=e.sent,e.t0=null===e.t1,e.t0){e.next=9;break}e.t0=void 0===s;case 9:if(!e.t0){e.next=13;break}e.t2=void 0,e.next=14;break;case 13:e.t2=s.data;case 14:return O=e.t2,Q(h),e.next=18,a(O.data.map((function(e){return e.system_uuid})),{per_page:o,hasItems:!0,fields:{system_profile:["operating_system"]}},n);case 18:return Z=e.sent,e.abrupt("return",Promise.resolve({results:(0,g.E9)(O.data,Z.results),total:O.meta.count}));case 20:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),tableProps:{isStickyHeader:!0,variant:f.B.compact},isFullView:!0,hasCheckbox:!1,filterConfig:{items:G},activeFiltersConfig:q,noSystemsTable:z,exportConfig:{onSelect:function(e,t){return(0,M.Z)("systems",t,P,_,x,w,r)},extraItems:[o().createElement("li",{key:"download-pd",role:"menuitem"},o().createElement(I,{filters:ee({},(0,g.qW)(P))}))],isDisabled:!T,tooltipText:T?t.formatMessage(j.Z.exportData):t.formatMessage(j.Z.permsAction)},fallback:h.Z})};var re=function(){var e=(0,C.Z)();return document.title=e.formatMessage(j.Z.documentTitle,{subnav:j.Z.systems.defaultMessage}),o().createElement(o().Fragment,null,o().createElement(n.Z,null,o().createElement(a.Z,{title:"".concat(e.formatMessage(j.Z.insightsHeader)," ").concat(e.formatMessage(j.Z.systems).toLowerCase())})),o().createElement("section",{className:"pf-l-page__main-section pf-c-page__main-section"},o().createElement(te,null)))};re.displayName="systems-list";const ne=re},45467:()=>{},11452:()=>{},34946:()=>{},80598:()=>{},10108:()=>{},21064:()=>{},82014:()=>{},67761:()=>{},49854:()=>{},42480:()=>{},19527:()=>{},69331:()=>{},52361:()=>{},94616:()=>{}}]);
//# sourceMappingURL=../sourcemaps/List.4b93dc63ebd4f5ded4f8e73e7d19cbbc.js.map