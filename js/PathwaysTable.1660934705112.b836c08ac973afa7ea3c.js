"use strict";(self.webpackChunkadvisor_frontend=self.webpackChunkadvisor_frontend||[]).push([[9573],{95511:(e,t,r)=>{t.__esModule=!0,t.AngleRightIconConfig={name:"AngleRightIcon",height:512,width:256,svgPath:"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z",yOffset:0,xOffset:0},t.AngleRightIcon=r(35183).createIcon(t.AngleRightIconConfig),t.default=t.AngleRightIcon},71070:(e,t,r)=>{t.xQ={name:"SearchIcon",height:512,width:512,svgPath:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z",yOffset:0,xOffset:0},t.W1=r(35183).createIcon(t.xQ),t.ZP=t.W1},52837:(e,t,r)=>{r.d(t,{Z:()=>y});var n=r(63732),a=r(15914),o=r(26407),i=r(99332),l=r(69507),c=r(45697),s=r.n(c),u=r(93264),f=r.n(u),m=r(30893),d=r(86896),g=r(42293),p=function(e){var t=e.icon,r=e.text;return f().createElement(g.Label,{icon:t,variant:"outline",color:"blue",isCompact:!0},r)};p.propTypes={icon:s().object,text:s().bool};const b=p;var v=function(e){var t,r=e.labelList,c=(0,d.Z)(),s=(t=r.map((function(e){return e.id})),Object.entries(t.reduce((function(e,t){return e[t]=(e[t]||0)+1,e}),{})).sort((function(e,t){return t[1]-e[1]})));return f().createElement(o.e,{numLabels:1,isCompact:!0},s.map((function(e){return function(e){return[f().createElement(b,{icon:f().createElement(n.ZP,null),text:c.formatMessage(m.Z.availability)}),f().createElement(b,{icon:f().createElement(i.ZP,null),text:c.formatMessage(m.Z.security)}),f().createElement(b,{icon:f().createElement(a.ZP,null),text:c.formatMessage(m.Z.stability)}),f().createElement(b,{icon:f().createElement(l.ZP,null),text:c.formatMessage(m.Z.performance)})][e]}(Number(e[0]-1))})))};v.propTypes={labelList:s().array,isCompact:s().bool},v.defaultProps={isCompact:!0};const y=v},24130:(e,t,r)=>{r.d(t,{Z:()=>f});var n=r(42293),a=r(45697),o=r.n(a),i=r(93264),l=r.n(i),c=r(30893),s=r(86896),u=function(e){var t=e.recLvl,r=(e.isCompact,(0,s.Z)()),a=function(e,t,r){return l().createElement(n.Label,{color:r,isCompact:!0},"".concat(e," - ").concat(t,"%"))};return t>=80?a(r.formatMessage(c.Z.high),t,"red"):t<80&&t>=50?a(r.formatMessage(c.Z.medium),t,"orange"):a(r.formatMessage(c.Z.low),t,"blue")};u.propTypes={props:o().array},u.defaultProps={isCompact:!0};const f=u},76341:(e,t,r)=>{r.d(t,{Z:()=>f});var n=r(2095),a=r(85962),o=r(21015),i=r(62965),l=r(93264),c=r.n(l),s=r(45697),u=function(e){var t=e.message;return c().createElement(n.Card,{className:"adv-c-card-empty-rule"},c().createElement(o.CardHeader,null,c().createElement(i.ZP,{size:"lg"})),c().createElement(a.CardBody,null,t))};const f=u;u.propTypes={message:r.n(s)().string}},79930:(e,t,r)=>{r.r(t),r.d(t,{default:()=>O});var n=r(70885),a=r(4942),o=r(59303),i=r(75662),l=r(13877),c=r(93264),s=r.n(c),u=r(17855),f=r(97109),m=r(28216),d=r(52837),g=r(76341),p=r(46891),b=r(34702),v=r(7887),y=r(24130),h=r(87516),Z=r(71070),P=r(40609),E=r(30893),_=r(28672),C=r(8377),M=r(86896);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const O=function(){var e,t,r=(0,M.Z)(),x=(0,m.useDispatch)(),O=(0,i.useLocation)().search,k=(0,m.useSelector)((function(e){return e.filters.selectedTags})),w=(0,m.useSelector)((function(e){return e.filters.workloads})),L=(0,m.useSelector)((function(e){return e.filters.SID})),j=(0,m.useSelector)((function(e){return e.filters.pathState})),q=function(e){return x((0,_.lW)(e))},W={};(null==k?void 0:k.length)&&(W=S(S({},W),{tags:k.join(",")})),w&&(W=S(S({},W),(0,f.s0)(w,L)));var X,T=(0,C.Lv)(S(S({},(0,f.qW)(j)),W)),I=T.data,A=void 0===I?[]:I,N=T.isFetching,R=T.isLoading,D=T.isError,F=[{title:r.formatMessage(E.Z.pathwaysName),transforms:[u.sortable,(0,u.cellWidth)(45)]},{title:r.formatMessage(E.Z.category)},{title:r.formatMessage(E.Z.systems),transforms:[u.sortable,(0,u.cellWidth)(10)]},{title:r.formatMessage(E.Z.reboot)},{title:r.formatMessage(E.Z.reclvl),transforms:[u.sortable,(0,u.cellWidth)(20),u.fitContent,(0,u.info)({tooltip:r.formatMessage(E.Z.reclvldetails),tooltipProps:{isContentLeftAligned:!0}})]}],V={0:"name",2:"impacted_systems_count",4:"recommendation_level"},z=(0,c.useState)({}),B=(0,n.Z)(z,2),H=B[0],Q=B[1],G=(0,c.useState)(!0),K=(0,n.Z)(G,2),Y=K[0],$=K[1],J=(0,c.useState)((null==j?void 0:j.text)||""),U=(0,n.Z)(J,2),ee=U[0],te=U[1],re=(0,P.Z)(ee,o.$x),ne=function(e){var t=e*j.limit-j.limit;q(S(S({},j),{},{offset:t}))},ae=function(e){var t=S(S({},j),{},{offset:0});"text"===e&&te(""),delete t[e],q(t)},oe=function(e,t){t.length>0?q(S(S({},j),{},{offset:0},(0,a.Z)({},e,t))):ae(e)},ie=[{label:r.formatMessage(E.Z.name).toLowerCase(),filterValues:{key:"text-filter",onChange:function(e,t){return te(t)},value:ee,placeholder:r.formatMessage(E.Z.filterBy)}},{label:o.W2.category.title,type:o.W2.category.type,id:o.W2.category.urlParam,value:"checkbox-".concat(o.W2.category.urlParam),filterValues:{key:"".concat(o.W2.category.urlParam,"-filter"),onChange:function(e,t){return oe(o.W2.category.urlParam,t)},value:j.category,items:o.W2.category.values}},{label:o.dX.has_incident.title,type:o.dX.has_incident.type,id:o.dX.has_incident.urlParam,value:"checkbox-".concat(o.dX.has_incident.urlParam),filterValues:{key:"".concat(o.dX.has_incident.urlParam,"-filter"),onChange:function(e,t){return oe(o.dX.has_incident.urlParam,t)},value:j.has_incident,items:o.dX.has_incident.values}},{label:o.dX.reboot_required.title,type:o.dX.reboot_required.type,id:o.dX.reboot_required.urlParam,value:"checkbox-".concat(o.dX.reboot_required.urlParam),filterValues:{key:"".concat(o.dX.reboot_required.urlParam,"-filter"),onChange:function(e,t){return oe(o.dX.reboot_required.urlParam,t)},value:j.reboot_required,items:o.dX.reboot_required.values}}],le={deleteTitle:r.formatMessage(E.Z.resetFilters),filters:(X=S({},j),delete X.sort,delete X.offset,delete X.limit,(0,f.yK)(X,S(S({},o.W2),o.dX))),onDelete:function(e,t,r){r?(te(""),q({limit:j.limit,offset:j.offset})):t.map((function(e){var t=(0,a.Z)({},e.urlParam,Array.isArray(j[e.urlParam])?j[e.urlParam].filter((function(t){return String(t)!==String(e.chips[0].value)})):"");t[e.urlParam].length>0?q(S(S({},j),t)):ae(e.urlParam)}))}};return(0,c.useEffect)((function(){Y||null===k||(0,f.Y4)(j,k)}),[j,k,w,L]),(0,c.useEffect)((function(){if(O&&Y){var e=(0,f.yG)();delete e.tags,void 0===e.text?te(""):te(e.text),e.sort=void 0===e.sort?"-impacted_systems_count":e.sort[0],void 0===e.offset?e.offset=0:e.offset=Number(e.offset[0]),void 0===e.limit?e.limit=20:e.limit=Number(e.limit[0]),void 0!==e.reboot_required&&!Array.isArray(e.reboot_required)&&(e.reboot_required=["".concat(e.reboot_required)]),q(S(S({},j),e))}$(!1)}),[]),(0,c.useEffect)((function(){if(void 0!==j.sort&&V){var e=j.sort,t=Number(Object.entries(V).find((function(t){return t[1]===e||"-".concat(t[1])===e}))[0]),r="-"===j.sort[0]?"desc":"asc";Q({index:t,direction:r})}}),[j.sort]),(0,c.useEffect)((function(){if(!Y&&!R){var e=S({},j),t=ee.length?{text:ee}:{};delete e.text,q(S(S(S({},e),t),{},{offset:0}))}}),[re]),s().createElement(s().Fragment,null,s().createElement(v.Z,{pagination:{itemCount:(null==A||null===(e=A.meta)||void 0===e?void 0:e.count)||0,page:j.offset/j.limit+1,perPage:Number(j.limit),onSetPage:function(e,t){ne(t)},onPerPageSelect:function(e,t){q(S(S({},j),{},{limit:t,offset:0}))},isCompact:!0},filterConfig:{items:ie},activeFiltersConfig:le}),N?s().createElement(p.Z,null):D?s().createElement(g.Z,{message:r.formatMessage(E.Z.rulesTableFetchRulesError)}):s().createElement(u.Table,{"aria-label":"pathways-table",variant:u.TableVariant.compact,sortBy:H,onSort:function(e,t,r){var n="".concat("asc"===r?"":"-").concat(V[t]);Q({index:t,direction:r}),q(S(S({},j),{},{sort:n,offset:0}))},cells:F,rows:function(e){return 0===e.length?[{cells:[{title:s().createElement(b.Z,{icon:Z.ZP,title:r.formatMessage(E.Z.noResults),text:r.formatMessage(E.Z.adjustFilters)}),props:{colSpan:6}}]}]:e.flatMap((function(e,t){return[{cells:[{title:s().createElement("span",{key:t},s().createElement(i.Link,{key:t,to:"/recommendations/pathways/".concat(e.slug)}," ",e.name," "),e.has_incident&&s().createElement(h.Z,{rule:{tags:"incident"},isCompact:!0}))},{title:s().createElement(d.Z,{key:t,labelList:e.categories,isCompact:!0})},{title:s().createElement("div",{key:t},"".concat(e.impacted_systems_count.toLocaleString()))},{title:s().createElement("span",{key:t},r.formatMessage(e.reboot_required?E.Z.required:E.Z.notRequired))},{title:s().createElement(y.Z,{key:t,recLvl:e.recommendation_level})}]}]}))}(null==A?void 0:A.data),isStickyHeader:!0},s().createElement(u.TableHeader,null),s().createElement(u.TableBody,null)),s().createElement(l.tl,{ouiaId:"page",itemCount:(null==A||null===(t=A.meta)||void 0===t?void 0:t.count)||0,page:j.offset/j.limit+1,perPage:Number(j.limit),onSetPage:function(e,t){ne(t)},onPerPageSelect:function(e,t){q(S(S({},j),{},{limit:t,offset:0}))},widgetId:"pagination-options-menu-bottom",variant:l.aM.bottom}))}},40609:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(70885),a=r(93264);const o=function(e,t){var r=(0,a.useState)(e),o=(0,n.Z)(r,2),i=o[0],l=o[1];return(0,a.useEffect)((function(){var r=setTimeout((function(){l(e)}),t);return function(){clearTimeout(r)}}),[t,e]),i}}}]);
//# sourceMappingURL=../sourcemaps/PathwaysTable.1fd9a58ffc020ad4c0ac527ae2b6da11.js.map