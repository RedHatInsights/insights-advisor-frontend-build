(self.webpackChunkadvisor=self.webpackChunkadvisor||[]).push([[4683,384],{64029:(e,t,a)=>{"use strict";a.d(t,{a:()=>o});var n=a(70655),r=a(93264),i=a(44303),s=a(38296),l=a(62472);const o=e=>{var{children:t=null,className:a="","aria-label":c="Breadcrumb",ouiaId:u,ouiaSafe:d=!0}=e,m=(0,n._T)(e,["children","className","aria-label","ouiaId","ouiaSafe"]);const p=(0,l.S$)(o.displayName,u,d);return r.createElement("nav",Object.assign({},m,{"aria-label":c,className:(0,s.i)(i.Z.breadcrumb,a)},p),r.createElement("ol",{className:i.Z.breadcrumbList},r.Children.map(t,((e,t)=>{const a=t>0;return r.isValidElement(e)?r.cloneElement(e,{showDivider:a}):e}))))};o.displayName="Breadcrumb"},32835:(e,t,a)=>{"use strict";a.d(t,{g:()=>o});var n=a(70655),r=a(93264),i=a(93174),s=a(44303),l=a(38296);const o=e=>{var{children:t=null,className:a="",to:o,isActive:c=!1,isDropdown:u=!1,showDivider:d,target:m,component:p="a",render:f}=e,b=(0,n._T)(e,["children","className","to","isActive","isDropdown","showDivider","target","component","render"]);const g=p,v=c?"page":void 0,h=(0,l.i)(s.Z.breadcrumbLink,c&&s.Z.modifiers.current);return r.createElement("li",Object.assign({},b,{className:(0,l.i)(s.Z.breadcrumbItem,a)}),d&&r.createElement("span",{className:s.Z.breadcrumbItemDivider},r.createElement(i.ZP,null)),"button"===p&&r.createElement("button",{className:h,"aria-current":v,type:"button"},t),u&&r.createElement("span",{className:(0,l.i)(s.Z.breadcrumbDropdown)},t),f&&f({className:h,ariaCurrent:v}),o&&!f&&r.createElement(g,{href:o,target:m,className:h,"aria-current":v},t),!o&&"button"!==p&&!u&&t)};o.displayName="BreadcrumbItem"},69174:(e,t,a)=>{"use strict";a.d(t,{_:()=>p});var n=a(70655),r=a(93264),i=a(83063),s=a(72002),l=a(47173),o=a(75824),c=a(38296),u=a(24307),d=a(6551);const m={blue:i.Z.modifiers.blue,cyan:i.Z.modifiers.cyan,green:i.Z.modifiers.green,orange:i.Z.modifiers.orange,purple:i.Z.modifiers.purple,red:i.Z.modifiers.red,gold:i.Z.modifiers.gold,grey:""},p=e=>{var{children:t,className:a="",color:p="grey",variant:f="filled",isCompact:b=!1,isEditable:g=!1,editableProps:v,isTruncated:h=!1,tooltipPosition:E,icon:Z,onClose:y,onEditCancel:O,onEditComplete:x,closeBtn:N,closeBtnAriaLabel:_,closeBtnProps:j,href:w,isOverflowLabel:C,render:L}=e,k=(0,n._T)(e,["children","className","color","variant","isCompact","isEditable","editableProps","isTruncated","tooltipPosition","icon","onClose","onEditCancel","onEditComplete","closeBtn","closeBtnAriaLabel","closeBtnProps","href","isOverflowLabel","render"]);const[P,T]=(0,r.useState)(!1),[I,D]=(0,r.useState)(t),M=r.useRef(),S=r.useRef();r.useEffect((()=>(document.addEventListener("mousedown",R),document.addEventListener("keydown",B),()=>{document.removeEventListener("mousedown",R),document.removeEventListener("keydown",B)})));const R=e=>{P&&S&&S.current&&!S.current.contains(e.target)&&(S.current.value&&x&&x(e,S.current.value),T(!1))},B=e=>{var a,n;const r=e.key;if((P||M&&M.current&&M.current.contains(e.target))&&(!P||S&&S.current&&S.current.contains(e.target))&&(!P||"Enter"!==r&&"Tab"!==r||(e.preventDefault(),e.stopImmediatePropagation(),S.current.value&&x&&x(e,S.current.value),T(!1),null===(a=null==M?void 0:M.current)||void 0===a||a.focus()),P&&"Escape"===r&&(e.preventDefault(),e.stopImmediatePropagation(),S.current.value&&(S.current.value=t,O&&O(e,t)),T(!1),null===(n=null==M?void 0:M.current)||void 0===n||n.focus()),!P&&"Enter"===r)){e.preventDefault(),e.stopImmediatePropagation(),T(!0);const t=e.target,a=document.createRange(),n=window.getSelection();a.selectNodeContents(t),a.collapse(!1),n.removeAllRanges(),n.addRange(a)}},A=C?"button":"span",G=N||r.createElement(l.zx,Object.assign({type:"button",variant:"plain",onClick:y,"aria-label":_||`Close ${t}`},j),r.createElement(u.ZP,null)),F=r.createRef(),V=r.useRef(),[z,H]=r.useState(!1);(0,d.L)((()=>{const e=g?M:F;P||H(e.current&&e.current.offsetWidth<e.current.scrollWidth)}),[P]);const $=r.createElement(r.Fragment,null,Z&&r.createElement("span",{className:(0,c.i)(i.Z.labelIcon)},Z),h&&r.createElement("span",{ref:F,className:(0,c.i)(i.Z.labelText)},t),!h&&t);r.useEffect((()=>{P&&S&&S.current&&S.current.focus()}),[S,P]);let W=r.createElement("span",{className:(0,c.i)(i.Z.labelContent)},$);return w?W=r.createElement("a",{className:(0,c.i)(i.Z.labelContent),href:w},$):g&&(W=r.createElement("button",Object.assign({ref:M,className:(0,c.i)(i.Z.labelContent),onClick:e=>{T(!0),e.stopPropagation()}},v),$)),L?W=r.createElement(r.Fragment,null,z&&r.createElement(o.u,{reference:V,content:t,position:E}),L({className:i.Z.labelContent,content:$,componentRef:V})):z&&(W=r.createElement(o.u,{content:t,position:E},W)),r.createElement(A,Object.assign({},k,{className:(0,c.i)(i.Z.label,m[p],"outline"===f&&i.Z.modifiers.outline,C&&i.Z.modifiers.overflow,b&&i.Z.modifiers.compact,g&&s.Z.modifiers.editable,P&&i.Z.modifiers.editableActive,a)}),!P&&W,!P&&y&&G,P&&r.createElement("input",Object.assign({className:(0,c.i)(i.Z.labelContent),type:"text",id:"editable-input",ref:S,value:I,onChange:()=>{D(S.current.value)}},v)))};p.displayName="Label"},21947:(e,t,a)=>{"use strict";a.d(t,{e:()=>f});var n=a(70655),r=a(93264),i=a(72002),s=a(83063),l=a(38296),o=a(47173),c=a(69174),u=a(75824),d=a(72781),m=a(80164),p=a(41724);class f extends r.Component{constructor(e){super(e),this.headingRef=r.createRef(),this.toggleCollapse=()=>{this.setState((e=>({isOpen:!e.isOpen,isTooltipVisible:Boolean(this.headingRef.current&&this.headingRef.current.offsetWidth<this.headingRef.current.scrollWidth)})))},this.state={isOpen:this.props.defaultIsOpen,isTooltipVisible:!1}}componentDidMount(){this.setState({isTooltipVisible:Boolean(this.headingRef.current&&this.headingRef.current.offsetWidth<this.headingRef.current.scrollWidth)})}renderLabel(e){const{categoryName:t,tooltipPosition:a}=this.props,{isTooltipVisible:n}=this.state;return n?r.createElement(u.u,{position:a,content:t},r.createElement("span",{tabIndex:0,ref:this.headingRef,className:(0,l.i)(i.Z.labelGroupLabel)},r.createElement("span",{"aria-hidden":"true",id:e},t))):r.createElement("span",{ref:this.headingRef,className:(0,l.i)(i.Z.labelGroupLabel),"aria-hidden":"true",id:e},t)}render(){const e=this.props,{categoryName:t,children:a,className:u,isClosable:f,isCompact:b,closeBtnAriaLabel:g,"aria-label":v,onClick:h,numLabels:E,expandedText:Z,collapsedText:y,defaultIsOpen:O,tooltipPosition:x,isVertical:N,isEditable:_,hasEditableTextArea:j,editableTextAreaProps:w,addLabelControl:C}=e,L=(0,n._T)(e,["categoryName","children","className","isClosable","isCompact","closeBtnAriaLabel","aria-label","onClick","numLabels","expandedText","collapsedText","defaultIsOpen","tooltipPosition","isVertical","isEditable","hasEditableTextArea","editableTextAreaProps","addLabelControl"]),{isOpen:k}=this.state,P=r.Children.toArray(a),T=P.length,I=(0,m.tJ)(y,{remaining:T-E}),D=e=>{const a=k?P:P.slice(0,E),n=r.createElement(r.Fragment,null,t&&this.renderLabel(e),r.createElement("ul",Object.assign({className:(0,l.i)(i.Z.labelGroupList)},t&&{"aria-labelledby":e},!t&&{"aria-label":v},{role:"list"},L),a.map(((e,t)=>r.createElement("li",{className:(0,l.i)(i.Z.labelGroupListItem),key:t},e))),T>E&&r.createElement("li",{className:(0,l.i)(i.Z.labelGroupListItem)},r.createElement(c._,{isOverflowLabel:!0,onClick:this.toggleCollapse,className:(0,l.i)(b&&s.Z.modifiers.compact)},k?Z:I)),C&&r.createElement("li",{className:(0,l.i)(i.Z.labelGroupListItem)},C),_&&j&&r.createElement("li",{className:(0,l.i)(i.Z.labelGroupListItem,i.Z.modifiers.textarea)},r.createElement("textarea",Object.assign({className:(0,l.i)(i.Z.labelGroupTextarea),rows:1,tabIndex:0},w))))),m=r.createElement("div",{className:(0,l.i)(i.Z.labelGroupClose)},r.createElement(o.zx,{variant:"plain","aria-label":g,onClick:h,id:`remove_group_${e}`,"aria-labelledby":`remove_group_${e} ${e}`},r.createElement(d.ZP,{"aria-hidden":"true"})));return r.createElement("div",{className:(0,l.i)(i.Z.labelGroup,u,t&&i.Z.modifiers.category,N&&i.Z.modifiers.vertical,_&&i.Z.modifiers.editable)},r.createElement("div",{className:(0,l.i)(i.Z.labelGroupMain)},n),f&&m)};return 0===T&&void 0===C?null:r.createElement(p.w,null,(e=>D(this.props.id||e)))}}f.displayName="LabelGroup",f.defaultProps={expandedText:"Show Less",collapsedText:"${remaining} more",categoryName:"",defaultIsOpen:!1,numLabels:3,isClosable:!1,isCompact:!1,onClick:e=>{},closeBtnAriaLabel:"Close label group",tooltipPosition:"top","aria-label":"Label group category",isVertical:!1,isEditable:!1,hasEditableTextArea:!1}},68340:(e,t,a)=>{"use strict";a.d(t,{q:()=>n,x:()=>c});var n,r=a(70655),i=a(93264),s=a(38296),l=a(62873),o=a(62472);!function(e){e.h1="h1",e.h2="h2",e.h3="h3",e.h4="h4",e.h5="h5",e.h6="h6",e.p="p",e.a="a",e.small="small",e.blockquote="blockquote",e.pre="pre"}(n||(n={}));const c=e=>{var{children:t=null,className:a="",component:u=n.p,isVisitedLink:d=!1,ouiaId:m,ouiaSafe:p=!0}=e,f=(0,r._T)(e,["children","className","component","isVisitedLink","ouiaId","ouiaSafe"]);const b=u,g=(0,o.S$)(c.displayName,m,p);return i.createElement(b,Object.assign({},g,f,{"data-pf-content":!0,className:(0,s.i)(d&&u===n.a&&l.Z.modifiers.visited,a)}),t)};c.displayName="Text"},68774:(e,t,a)=>{"use strict";a.d(t,{D:()=>l});var n=a(70655),r=a(93264),i=a(62873),s=a(38296);const l=e=>{var{children:t,className:a="",isVisited:l=!1}=e,o=(0,n._T)(e,["children","className","isVisited"]);return r.createElement("div",Object.assign({},o,{className:(0,s.i)(i.Z.content,l&&i.Z.modifiers.visited,a)}),t)};l.displayName="TextContent"},71973:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>s,fP:()=>i,gk:()=>r});var n=a(40400);const r={name:"AngleLeftIcon",height:512,width:256,svgPath:"M31.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L127.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L201.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34z",yOffset:0,xOffset:0},i=(0,n.IU)(r),s=i},72781:(e,t,a)=>{"use strict";a.d(t,{B9:()=>r,ZP:()=>s,xD:()=>i});var n=a(40400);const r={name:"TimesCircleIcon",height:512,width:512,svgPath:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z",yOffset:0,xOffset:0},i=(0,n.IU)(r),s=i},44303:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n}),a(58392);const n={breadcrumb:"pf-c-breadcrumb",breadcrumbDropdown:"pf-c-breadcrumb__dropdown",breadcrumbHeading:"pf-c-breadcrumb__heading",breadcrumbItem:"pf-c-breadcrumb__item",breadcrumbItemDivider:"pf-c-breadcrumb__item-divider",breadcrumbLink:"pf-c-breadcrumb__link",breadcrumbList:"pf-c-breadcrumb__list",dropdownToggle:"pf-c-dropdown__toggle",modifiers:{current:"pf-m-current",overpassFont:"pf-m-overpass-font"},themeDark:"pf-theme-dark"}},62873:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n}),a(10108);const n={content:"pf-c-content",modifiers:{visited:"pf-m-visited",plain:"pf-m-plain",overpassFont:"pf-m-overpass-font"}}},83063:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n}),a(82014);const n={button:"pf-c-button",label:"pf-c-label",labelContent:"pf-c-label__content",labelIcon:"pf-c-label__icon",labelText:"pf-c-label__text",modifiers:{compact:"pf-m-compact",blue:"pf-m-blue",green:"pf-m-green",orange:"pf-m-orange",red:"pf-m-red",purple:"pf-m-purple",cyan:"pf-m-cyan",gold:"pf-m-gold",outline:"pf-m-outline",overflow:"pf-m-overflow",add:"pf-m-add",editable:"pf-m-editable",editableActive:"pf-m-editable-active"},themeDark:"pf-theme-dark"}},72002:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n}),a(21064);const n={button:"pf-c-button",labelGroup:"pf-c-label-group",labelGroupClose:"pf-c-label-group__close",labelGroupLabel:"pf-c-label-group__label",labelGroupList:"pf-c-label-group__list",labelGroupListItem:"pf-c-label-group__list-item",labelGroupMain:"pf-c-label-group__main",labelGroupTextarea:"pf-c-label-group__textarea",modifiers:{category:"pf-m-category",vertical:"pf-m-vertical",editable:"pf-m-editable",textarea:"pf-m-textarea"}}},75331:(e,t,a)=>{"use strict";a.d(t,{Z:()=>b});var n=a(70885),r=a(93264),i=a.n(r),s=a(64029),l=a(32835),o=a(75662),c=a(45697),u=a.n(c),d=a(30893),m=a(75546),p=a(86896),f=function(e){var t,a=e.current,c=(0,p.Z)(),u=null===(t=(0,o.useLocation)().pathname)||void 0===t?void 0:t.split("/"),f=(0,r.useState)([]),b=(0,n.Z)(f,2),g=b[0],v=b[1],h=!("recommendations"===u[1]&&4===u.length)||"pathways"===u[2],E=(0,m.m1)({ruleId:u[2]},{skip:h}),Z=E.data,y=E.isFetching;return(0,r.useEffect)((function(){var e;(e=[]).push({title:"".concat(c.formatMessage(d.Z.insightsHeader)," ").concat(u[1]),navigate:"/".concat(u[1])}),h||e.push({title:null==Z?void 0:Z.description,navigate:"/".concat(u[1],"/").concat(u[2])}),"pathways"===u[2]&&(e=[{title:"Advisor pathways",navigate:"/recommendations/pathways"}]),v(e)}),[Z]),i().createElement(i().Fragment,null,!y&&g.length>0?i().createElement(s.a,{ouiaId:"detail"},g.map((function(e,t){return i().createElement(l.g,{key:t},i().createElement(o.Link,{to:e.navigate},e.title))})),i().createElement(l.g,{isActive:!0},a)):c.formatMessage(d.Z.loading))};f.propTypes={current:u().string};const b=f},58921:(e,t,a)=>{"use strict";a.d(t,{Z:()=>b});var n=a(4942),r=a(15861),i=a(87757),s=a.n(i),l=a(53446),o=a(35240),c=a(59303),u=a(71094),d=a(97109);function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f=function(e){var t={date:(new Date).toISOString().replace(/[T:]/g,"-").split(".")[0]+"-utc"};return"Insights-Advisor_".concat(e,"--").concat(t.date)};const b=function(){var e=(0,r.Z)(s().mark((function e(t,a,n,r,i,m,b){var g,v,h;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g=(null==r?void 0:r.length)&&{tags:r},i&&(g=p(p({},g),(0,d.s0)(i,m))),b((0,l.addNotification)(c.LH.pending)),e.next=6,(0,u.dX)("".concat(c._n,"/export/").concat(t,".").concat("json"===a?"json":"csv"),{},p(p({},n),g)).then((function(e){return b((0,l.addNotification)(c.LH.success)),e})).catch((function(){return b((0,l.addNotification)(c.LH.error))}));case 6:v=e.sent.data,h="json"===a?JSON.stringify(v):v,(0,o.Sv)(h,f(t),a),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(0),"".concat(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a,n,r,i,s,l){return e.apply(this,arguments)}}()},52837:(e,t,a)=>{"use strict";a.d(t,{Z:()=>h});var n=a(63732),r=a(15914),i=a(21947),s=a(99332),l=a(69507),o=a(45697),c=a.n(o),u=a(93264),d=a.n(u),m=a(30893),p=a(86896),f=a(69174),b=function(e){var t=e.icon,a=e.text;return d().createElement(f._,{icon:t,variant:"outline",color:"blue",isCompact:!0},a)};b.propTypes={icon:c().object,text:c().bool};const g=b;var v=function(e){var t,a=e.labelList,o=(0,p.Z)(),c=(t=a.map((function(e){return e.id})),Object.entries(t.reduce((function(e,t){return e[t]=(e[t]||0)+1,e}),{})).sort((function(e,t){return t[1]-e[1]})));return d().createElement(i.e,{numLabels:1,isCompact:!0},c.map((function(e){return function(e){return[d().createElement(g,{icon:d().createElement(n.ZP,null),text:o.formatMessage(m.Z.availability)}),d().createElement(g,{icon:d().createElement(s.ZP,null),text:o.formatMessage(m.Z.security)}),d().createElement(g,{icon:d().createElement(r.ZP,null),text:o.formatMessage(m.Z.stability)}),d().createElement(g,{icon:d().createElement(l.ZP,null),text:o.formatMessage(m.Z.performance)})][e]}(Number(e[0]-1))})))};v.propTypes={labelList:c().array,isCompact:c().bool},v.defaultProps={isCompact:!0};const h=v},87516:(e,t,a)=>{"use strict";a.d(t,{Z:()=>m});var n=a(75824),r=a(69174),i=a(45697),s=a.n(i),l=a(93264),o=a.n(l),c=a(30893),u=a(86896),d=function(e){var t,a=e.rule,i=e.isCompact,s=e.noMargin,l=(0,u.Z)();return o().createElement(o().Fragment,null,-1!==(null==a||null===(t=a.tags)||void 0===t?void 0:t.search("incident"))&&o().createElement(n.u,{content:l.formatMessage(c.Z.incidentTooltip),position:n.D.right},o().createElement(r._,{color:"red",className:s?null:"adv-c-label-incident",isCompact:i},l.formatMessage(c.Z.incident))),"disabled"===(null==a?void 0:a.rule_status)&&o().createElement(n.u,{content:l.formatMessage(c.Z.ruleIsDisabledTooltip),position:n.D.right},o().createElement(r._,{color:"gray",isCompact:i},l.formatMessage(c.Z.disabled))),"rhdisabled"===(null==a?void 0:a.rule_status)&&o().createElement(n.u,{content:l.formatMessage(c.Z.ruleIsDisabledTooltip),position:n.D.right},o().createElement(r._,{color:"gray",isCompact:i},l.formatMessage(c.Z.redhatDisabled))))};d.propTypes={rule:s().object,isCompact:s().bool,noMargin:s().bool},d.defaultProps={isCompact:!0};const m=d},46891:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var n=a(32203),r=a(62394),i=a(24561),s=a(93264),l=a.n(s);const o=function(){return l().createElement(n.Z,null,l().createElement(r.e,null,l().createElement(i.aV,null)))}},44788:(e,t,a)=>{"use strict";a.d(t,{Z:()=>C});var n=a(4942),r=a(15861),i=a(70885),s=a(87757),l=a.n(s),o=a(93264),c=a.n(o),u=a(59303),d=a(47173),m=a(93149),p=a(83115),f=a(59775),b=a(80236),g=a(71094),v=a(45697),h=a.n(v),E=a(92607),Z=a(71355),y=a(30893),O=a(28216),x=a(86896),N=a(77647);function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var w=function(e){var t=e.handleModalToggle,a=e.isModalOpen,n=e.host,s=e.hosts,v=e.rule,h=e.afterFn,_=(0,x.Z)(),w=(0,O.useDispatch)(),C=function(e){return w((0,Z.addNotification)(e))},L=(0,o.useState)(""),k=(0,i.Z)(L,2),P=k[0],T=k[1],I=(0,o.useState)(void 0!==n||s.length>0),D=(0,i.Z)(I,2),M=D[0],S=D[1],R=(0,N.om)(),B=(0,i.Z)(R,1)[0],A=function(){var e=(0,r.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={systems:s,justification:P},e.prev=1,e.next=4,(0,g.SO)("".concat(u._n,"/rule/").concat(v.rule_id,"/ack_hosts/"),{},t);case 4:!M&&C({variant:"success",dismissable:!0,timeout:!0,title:_.formatMessage(y.Z.recSuccessfullyDisabled)}),h&&h(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),C({variant:"danger",dismissable:!0,title:_.formatMessage(y.Z.error),description:"".concat(e.t0)});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=(0,r.Z)(l().mark((function e(){var a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("enabled"!==v.rule_status||s.length){e.next=15;break}return a=M?{type:"HOST",options:{rule:v.rule_id,system_uuid:n.id,justification:P}}:{type:"RULE",options:j({rule_id:v.rule_id},P&&{justification:P})},e.prev=2,e.next=5,B(a).unwrap();case 5:C({variant:"success",timeout:!0,dismissable:!0,title:_.formatMessage(y.Z.recSuccessfullyDisabled)}),T(""),h&&h(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),C({variant:"danger",dismissable:!0,title:_.formatMessage(y.Z.error),description:"".concat(e.t0)});case 13:e.next=16;break;case 15:A();case 16:t(!1);case 17:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();return c().createElement(b.u,{variant:"small",title:_.formatMessage(y.Z.disableRule),isOpen:a,onClose:function(){t(!1),T("")},actions:[c().createElement(d.zx,{key:"confirm",variant:"primary",onClick:function(){return G()},ouiaId:"confirm"},_.formatMessage(y.Z.save)),c().createElement(d.zx,{key:"cancel",variant:"link",onClick:function(){t(!1),T("")},ouiaId:"cancel"},_.formatMessage(y.Z.cancel))]},_.formatMessage(y.Z.disableRuleBody),c().createElement(p.l,null,c().createElement(f.c,{fieldId:"blank-form"}),(void 0!==n||s.length>0)&&c().createElement(f.c,{fieldId:"disable-rule-one-system"},c().createElement(m.X,{isChecked:M,onChange:function(){S(!M)},label:s.length?_.formatMessage(y.Z.disableRuleForSystems):_.formatMessage(y.Z.disableRuleSingleSystem),id:"disable-rule-one-system",name:"disable-rule-one-system"})),c().createElement(f.c,{label:_.formatMessage(y.Z.justificationNote),fieldId:"disable-rule-justification"},c().createElement(E.oi,{type:"text",id:"disable-rule-justification","aria-describedby":"disable-rule-justification",value:P,onChange:function(e){return T(e)},onKeyDown:function(e){return"Enter"===e.key&&(e.preventDefault(),G())}}))))};w.propTypes={isModalOpen:h().bool,host:h().object,handleModalToggle:h().func,rule:h().object,afterFn:h().func,hosts:h().array},w.defaultProps={isModalOpen:!1,handleModalToggle:function(){},system:void 0,rule:{},afterFn:function(){},host:void 0,hosts:[]};const C=w},19158:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>D});var n=a(4942),r=a(93264),i=a.n(r),s=a(68340),l=a(75331),o=a(69174),c=a(46891),u=a(34702),d=a(89376),m=a(82661),p=a(83668),f=a(68774),b=a(72781),g=a(38779),v=a(85893),h=a(94184),E=a.n(h),Z=a(35356),y=a(91036),O=a.n(y),x=function(){return x=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},x.apply(this,arguments)};const N=function(e){var t,a,n=e.text,s=void 0===n?"":n,l=e.length,o=void 0===l?150:l,c=e.expandText,u=void 0===c?"Read more":c,d=e.hideExpandText,m=void 0!==d&&d,p=e.expandOnMouseOver,f=void 0!==p&&p,b=e.collapseText,g=void 0===b?"Collapse":b,h=e.className,y=e.inline,N=e.spaceBetween,_=E()("ins-c-truncate",h,((t={})["is-inline"]=y,t),((a={})["is-block"]=!y,a)),j=s.substring(0,o),w=s.length>o,C=(0,r.useState)(!1),L=C[0],k=C[1],P=function(e){e&&e.preventDefault(),k(!L)},T=(0,v.jsx)(Z.Button,x({className:"ins-c-expand-button",variant:"link",onClick:P},{children:u})),I=(0,v.jsx)(Z.Button,x({className:"ins-c-collapse-button",variant:"link",onClick:P},{children:g})),D=function(e){return{__html:O()(e)}}(!1===L?"".concat(j).concat(w?"...":""):s),M=f&&{onMouseEnter:function(){return k(!0)},onMouseLeave:function(){return k(!1)}};return y?(0,v.jsxs)(i().Fragment,{children:[(0,v.jsx)("span",x({className:_,"widget-type":"InsightsTruncateInline",dangerouslySetInnerHTML:D},M)),!m&&w&&(!1===L?T:I)]}):(0,v.jsxs)(Z.Stack,x({className:_},{children:[(0,v.jsx)(Z.StackItem,x({},M,{children:(0,v.jsx)("span",{"widget-type":"InsightsTruncateBlock",dangerouslySetInnerHTML:D})})),!m&&w&&(0,v.jsx)(Z.StackItem,x({className:E()({"pf-u-mt-sm":N})},{children:!1===L?T:I}))]}))};var _=a(30893),j=a(28672),w=a(28216),C=a(77187),L=a(86896),k=a(75662),P=a(97109);function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const D=function(){var e=(0,L.Z)(),t=(0,w.useDispatch)(),a=(0,w.useSelector)((function(e){return e.filters.selectedTags})),n=(0,w.useSelector)((function(e){return e.filters.workloads})),v=(0,w.useSelector)((function(e){return e.filters.SID})),h=(0,w.useSelector)((function(e){return e.filters.recState})),E=(0,k.useParams)().id,Z=(null==a?void 0:a.length)&&{tags:a};n&&(Z=I(I({},Z),(0,P.s0)(n,v)));var y=(0,C.Yi)(I(I({},Z),{topicId:E})),O=y.data,x=void 0===O?{}:O,T=y.isLoading,D=y.isFetching,M=y.isError;return(0,r.useEffect)((function(){var e=I({},h);return t((0,j.hb)({impacting:!0,rule_status:"enabled",topic:E,sort:"-total_risk",limit:10,offset:0})),function(){return t((0,j.hb)(e))}}),[]),(0,r.useEffect)((function(){if(x&&x.name){var t="".concat(x.name," - ").concat(_.Z.topics.defaultMessage);document.title=e.formatMessage(_.Z.documentTitle,{subnav:t})}}),[x]),i().createElement(i().Fragment,null,i().createElement(d.Z,null,(null==x?void 0:x.name)&&i().createElement(l.Z,{current:null==x?void 0:x.name,ouiaId:"details"}),!D&&i().createElement(i().Fragment,null,i().createElement(g.D,{headingLevel:"h3",size:"2xl",className:"pf-u-mb-lg"},x.name,x.featured&&i().createElement(o._,{color:"blue",className:"adv-c-label pf-m-compact",icon:i().createElement(p.ZP,null)},e.formatMessage(_.Z.featured))),i().createElement(f.D,{className:"pf-u-mt-md"},i().createElement(s.x,{component:s.q.p},i().createElement(N,{text:x.description,length:600,expandText:e.formatMessage(_.Z.readmore),collapseText:e.formatMessage(_.Z.readless),inline:!0})))),D||T&&i().createElement(c.Z,null)),i().createElement("section",{className:"pf-l-page__main-section pf-c-page__main-section"},i().createElement(i().Fragment,null,M?i().createElement(u.Z,{icon:b.ZP,title:e.formatMessage(_.Z.topicDetailslNodetailsTitle),text:e.formatMessage(_.Z.topicDetailslNodetailsBody)}):i().createElement(i().Fragment,null,i().createElement(g.D,{headingLevel:"h3",size:"2xl",className:"pf-u-mb-lg"},e.formatMessage(_.Z.recommendations)),i().createElement(m.default,null)))))}},45467:()=>{},70347:()=>{},11452:()=>{},58392:()=>{},34946:()=>{},80598:()=>{},32857:()=>{},10108:()=>{},90479:()=>{},78752:()=>{},21064:()=>{},82014:()=>{},25238:()=>{},67761:()=>{},49854:()=>{},11177:()=>{}}]);
//# sourceMappingURL=../sourcemaps/TopicDetails.86419eda32edb04572aea3b5a78c5c52.js.map