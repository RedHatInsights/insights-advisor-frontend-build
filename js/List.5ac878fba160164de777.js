(self.webpackChunkadvisor=self.webpackChunkadvisor||[]).push([[6842],{69174:(e,t,r)=>{"use strict";r.d(t,{_:()=>f});var n=r(70655),a=r(93264),s=r(83063),o=r(72002),i=r(47173),l=r(75824),c=r(38296),u=r(24307),m=r(6551);const p={blue:s.Z.modifiers.blue,cyan:s.Z.modifiers.cyan,green:s.Z.modifiers.green,orange:s.Z.modifiers.orange,purple:s.Z.modifiers.purple,red:s.Z.modifiers.red,gold:s.Z.modifiers.gold,grey:""},f=e=>{var{children:t,className:r="",color:f="grey",variant:d="filled",isCompact:y=!1,isEditable:v=!1,editableProps:g,isTruncated:b=!1,tooltipPosition:h,icon:O,onClose:j,onEditCancel:Z,onEditComplete:E,closeBtn:w,closeBtnAriaLabel:P,closeBtnProps:_,href:x,isOverflowLabel:k,render:S}=e,C=(0,n._T)(e,["children","className","color","variant","isCompact","isEditable","editableProps","isTruncated","tooltipPosition","icon","onClose","onEditCancel","onEditComplete","closeBtn","closeBtnAriaLabel","closeBtnProps","href","isOverflowLabel","render"]);const[D,T]=(0,a.useState)(!1),[N,M]=(0,a.useState)(t),I=a.useRef(),L=a.useRef();a.useEffect((()=>(document.addEventListener("mousedown",U),document.addEventListener("keydown",A),()=>{document.removeEventListener("mousedown",U),document.removeEventListener("keydown",A)})));const U=e=>{D&&L&&L.current&&!L.current.contains(e.target)&&(L.current.value&&E&&E(e,L.current.value),T(!1))},A=e=>{var r,n;const a=e.key;if((D||I&&I.current&&I.current.contains(e.target))&&(!D||L&&L.current&&L.current.contains(e.target))&&(!D||"Enter"!==a&&"Tab"!==a||(e.preventDefault(),e.stopImmediatePropagation(),L.current.value&&E&&E(e,L.current.value),T(!1),null===(r=null==I?void 0:I.current)||void 0===r||r.focus()),D&&"Escape"===a&&(e.preventDefault(),e.stopImmediatePropagation(),L.current.value&&(L.current.value=t,Z&&Z(e,t)),T(!1),null===(n=null==I?void 0:I.current)||void 0===n||n.focus()),!D&&"Enter"===a)){e.preventDefault(),e.stopImmediatePropagation(),T(!0);const t=e.target,r=document.createRange(),n=window.getSelection();r.selectNodeContents(t),r.collapse(!1),n.removeAllRanges(),n.addRange(r)}},F=k?"button":"span",R=w||a.createElement(i.zx,Object.assign({type:"button",variant:"plain",onClick:j,"aria-label":P||`Close ${t}`},_),a.createElement(u.ZP,null)),H=a.createRef(),W=a.useRef(),[B,V]=a.useState(!1);(0,m.L)((()=>{const e=v?I:H;D||V(e.current&&e.current.offsetWidth<e.current.scrollWidth)}),[D]);const G=a.createElement(a.Fragment,null,O&&a.createElement("span",{className:(0,c.i)(s.Z.labelIcon)},O),b&&a.createElement("span",{ref:H,className:(0,c.i)(s.Z.labelText)},t),!b&&t);a.useEffect((()=>{D&&L&&L.current&&L.current.focus()}),[L,D]);let q=a.createElement("span",{className:(0,c.i)(s.Z.labelContent)},G);return x?q=a.createElement("a",{className:(0,c.i)(s.Z.labelContent),href:x},G):v&&(q=a.createElement("button",Object.assign({ref:I,className:(0,c.i)(s.Z.labelContent),onClick:e=>{T(!0),e.stopPropagation()}},g),G)),S?q=a.createElement(a.Fragment,null,B&&a.createElement(l.u,{reference:W,content:t,position:h}),S({className:s.Z.labelContent,content:G,componentRef:W})):B&&(q=a.createElement(l.u,{content:t,position:h},q)),a.createElement(F,Object.assign({},C,{className:(0,c.i)(s.Z.label,p[f],"outline"===d&&s.Z.modifiers.outline,k&&s.Z.modifiers.overflow,y&&s.Z.modifiers.compact,v&&o.Z.modifiers.editable,D&&s.Z.modifiers.editableActive,r)}),!D&&q,!D&&j&&R,D&&a.createElement("input",Object.assign({className:(0,c.i)(s.Z.labelContent),type:"text",id:"editable-input",ref:L,value:N,onChange:()=>{M(L.current.value)}},g)))};f.displayName="Label"},68340:(e,t,r)=>{"use strict";r.d(t,{q:()=>n,x:()=>c});var n,a=r(70655),s=r(93264),o=r(38296),i=r(62873),l=r(62472);!function(e){e.h1="h1",e.h2="h2",e.h3="h3",e.h4="h4",e.h5="h5",e.h6="h6",e.p="p",e.a="a",e.small="small",e.blockquote="blockquote",e.pre="pre"}(n||(n={}));const c=e=>{var{children:t=null,className:r="",component:u=n.p,isVisitedLink:m=!1,ouiaId:p,ouiaSafe:f=!0}=e,d=(0,a._T)(e,["children","className","component","isVisitedLink","ouiaId","ouiaSafe"]);const y=u,v=(0,l.S$)(c.displayName,p,f);return s.createElement(y,Object.assign({},v,d,{"data-pf-content":!0,className:(0,o.i)(m&&u===n.a&&i.Z.modifiers.visited,r)}),t)};c.displayName="Text"},68774:(e,t,r)=>{"use strict";r.d(t,{D:()=>i});var n=r(70655),a=r(93264),s=r(62873),o=r(38296);const i=e=>{var{children:t,className:r="",isVisited:i=!1}=e,l=(0,n._T)(e,["children","className","isVisited"]);return a.createElement("div",Object.assign({},l,{className:(0,o.i)(s.Z.content,i&&s.Z.modifiers.visited,r)}),t)};i.displayName="TextContent"},62873:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n}),r(10108);const n={content:"pf-c-content",modifiers:{visited:"pf-m-visited",plain:"pf-m-plain",overpassFont:"pf-m-overpass-font"}}},83063:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n}),r(82014);const n={button:"pf-c-button",label:"pf-c-label",labelContent:"pf-c-label__content",labelIcon:"pf-c-label__icon",labelText:"pf-c-label__text",modifiers:{compact:"pf-m-compact",blue:"pf-m-blue",green:"pf-m-green",orange:"pf-m-orange",red:"pf-m-red",purple:"pf-m-purple",cyan:"pf-m-cyan",gold:"pf-m-gold",outline:"pf-m-outline",overflow:"pf-m-overflow",add:"pf-m-add",editable:"pf-m-editable",editableActive:"pf-m-editable-active"},themeDark:"pf-theme-dark"}},72002:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n}),r(21064);const n={button:"pf-c-button",labelGroup:"pf-c-label-group",labelGroupClose:"pf-c-label-group__close",labelGroupLabel:"pf-c-label-group__label",labelGroupList:"pf-c-label-group__list",labelGroupListItem:"pf-c-label-group__list-item",labelGroupMain:"pf-c-label-group__main",labelGroupTextarea:"pf-c-label-group__textarea",modifiers:{category:"pf-m-category",vertical:"pf-m-vertical",editable:"pf-m-editable",textarea:"pf-m-textarea"}}},67265:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(85893),a=r(93264);const s=function(e){var t=e.component,r=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["component"]);return(0,a.useEffect)((function(){console.error("Unable to load inventory component. Failed to load ".concat(t,"."),r)}),[]),(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{children:"Unable to load inventory component"}),(0,n.jsxs)("h2",{children:["Failed to load ",t]}),(0,n.jsx)("code",{children:"More info can be found in browser console output."})]})}},33739:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b});var n=r(85893),a=r(93264),s=r.n(a),o=r(45697),i=r.n(o),l=r(59823),c=r(75662),u=r(28216),m=r(35356),p=r(67265),f=r(94184),d=r.n(f),y=function(){return y=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},y.apply(this,arguments)},v=function(e){var t=(0,c.useHistory)(),r=(0,u.useStore)(),s=e.component;return(0,n.jsx)(s,y({className:d()(e.className,"inventory")},{children:(0,n.jsx)(a.Suspense,y({fallback:e.fallback},{children:(0,n.jsx)(l.ScalprumComponent,y({history:t,store:r,appName:"inventory",module:"./InventoryTable",scope:"inventory",ErrorComponent:(0,n.jsx)(p.Z,y({component:"InventoryDetailHead",history:t,store:r},e)),ref:e.innerRef},e))}))}))};v.propTypes={fallback:i().node,innerRef:i().object,component:i().string,className:i().string};var g=s().forwardRef((function(e,t){return(0,n.jsx)(v,y({innerRef:t},e))}));g.propTypes={fallback:i().node,component:i().string,className:i().string},g.defaultProps={fallback:(0,n.jsx)(m.Bullseye,y({className:"pf-u-p-lg"},{children:(0,n.jsx)(m.Spinner,{size:"xl"})})),component:"section"};const b=g},58921:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var n=r(4942),a=r(15861),s=r(87757),o=r.n(s),i=r(53446),l=r(35240),c=r(59303),u=r(71094),m=r(97109);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=function(e){var t={date:(new Date).toISOString().replace(/[T:]/g,"-").split(".")[0]+"-utc"};return"Insights-Advisor_".concat(e,"--").concat(t.date)};const y=function(){var e=(0,a.Z)(o().mark((function e(t,r,n,a,s,p,y){var v,g,b;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v=(null==a?void 0:a.length)&&{tags:a},s&&(v=f(f({},v),(0,m.s0)(s,p))),y((0,i.addNotification)(c.LH.pending)),e.next=6,(0,u.dX)("".concat(c._n,"/export/").concat(t,".").concat("json"===r?"json":"csv"),{},f(f({},n),v)).then((function(e){return y((0,i.addNotification)(c.LH.success)),e})).catch((function(){return y((0,i.addNotification)(c.LH.error))}));case 6:g=e.sent.data,b="json"===r?JSON.stringify(g):g,(0,l.Sv)(b,d(t),r),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(0),"".concat(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r,n,a,s,o,i){return e.apply(this,arguments)}}()},87516:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(75824),a=r(69174),s=r(45697),o=r.n(s),i=r(93264),l=r.n(i),c=r(30893),u=r(86896),m=function(e){var t,r=e.rule,s=e.isCompact,o=e.noMargin,i=(0,u.Z)();return l().createElement(l().Fragment,null,-1!==(null==r||null===(t=r.tags)||void 0===t?void 0:t.search("incident"))&&l().createElement(n.u,{content:i.formatMessage(c.Z.incidentTooltip),position:n.D.right},l().createElement(a._,{color:"red",className:o?null:"adv-c-label-incident",isCompact:s},i.formatMessage(c.Z.incident))),"disabled"===(null==r?void 0:r.rule_status)&&l().createElement(n.u,{content:i.formatMessage(c.Z.ruleIsDisabledTooltip),position:n.D.right},l().createElement(a._,{color:"gray",isCompact:s},i.formatMessage(c.Z.disabled))),"rhdisabled"===(null==r?void 0:r.rule_status)&&l().createElement(n.u,{content:i.formatMessage(c.Z.ruleIsDisabledTooltip),position:n.D.right},l().createElement(a._,{color:"gray",isCompact:s},i.formatMessage(c.Z.redhatDisabled))))};m.propTypes={rule:o().object,isCompact:o().bool,noMargin:o().bool},m.defaultProps={isCompact:!0};const p=m},46891:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(32203),a=r(62394),s=r(24561),o=r(93264),i=r.n(o);const l=function(){return i().createElement(n.Z,null,i().createElement(a.e,null,i().createElement(s.aV,null)))}},58016:(e,t,r)=>{"use strict";r.d(t,{J:()=>c,W:()=>u});var n=r(4942),a=r(75472),s=r.n(a),o=r(97109);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=function(e,t,r,n,a,s,i,c,u,m){var p,f;return l(l(l(l(l(l(l(l({},e),{},{limit:r,offset:t*r-r,sort:n},(null==s?void 0:s.hostnameOrId)&&!a&&!m&&{name:null==s?void 0:s.hostnameOrId}),(null==s?void 0:s.hostnameOrId)&&!a&&m&&{display_name:null==s?void 0:s.hostnameOrId}),s.hostnameOrId&&a&&{display_name:null==s?void 0:s.hostnameOrId}),e.rhel_version&&{rhel_version:null===(p=e.rhel_version)||void 0===p?void 0:p.join(",")}),(null===(f=s.tagFilters)||void 0===f?void 0:f.length)&&(0,o.gh)(s.tagFilters)),c?(0,o.s0)(c,u):{}),(null==i?void 0:i.length)>0?{tags:i.join(",")}:{})},u=function(e,t,r){var n;return n=0===t?"name":2===t?"featured":"impacted_systems_count",s()(e,[function(e){return e[n]}],r)}},45532:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>se});var n=r(89376),a=r(39173),s=r(93264),o=r.n(s),i=r(15861),l=r(42982),c=r(4942),u=r(70885),m=r(87757),p=r.n(m),f=r(59303),d=r(75863),y=r(97109),v=r(28216),g=r(71094),b=r(33739),h=r(46891),O=r(23320),j=r(74093),Z=r(45697),E=r.n(Z);var w=r(30893);function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=j.mM.create({bold:{fontWeight:"600"},link:{color:"#06c"},text:{marginTop:"1rem"},nameColumn:{width:"220px"},header:{fontSize:9,color:"#4f5255",paddingLeft:"0.5rem",paddingBottom:"0.5rem",paddingTop:"0.5rem"}}),k=function(e){var t=e.page,r=e.systems,n=e.intl,a=[{value:n.formatMessage(w.Z.name),style:x.nameColumn},{value:n.formatMessage(w.Z.recommendations),style:{width:"100px",textAlign:"center"}},{value:n.formatMessage(w.Z.critical),style:{width:"70px",textAlign:"center"}},{value:n.formatMessage(w.Z.important),style:{width:"70px",textAlign:"center"}},{value:n.formatMessage(w.Z.moderate),style:{width:"60px",textAlign:"center"}},{value:n.formatMessage(w.Z.low),style:{width:"90px",textAlign:"center"}},{value:n.formatMessage(w.Z.lastSeen),style:{marginLeft:"20px"}}],s=["hits","critical_hits","important_hits","moderate_hits","low_hits"],i=(0,l.Z)(r.map((function(e){var t=new Date(e.last_seen).toUTCString().split(" "),r=(0,u.Z)(t,5),n=r[1],a=r[2],i=r[3],c=r[4],m="".concat(n," ").concat(a," ").concat(i,", ").concat(c.split(":").slice(0,2).join(":")," UTC");return[o().createElement(j.xv,{key:e.system_uuid,style:x.nameColumn},o().createElement(j.rU,{style:x.link,src:"".concat(f.eR,"/insights/advisor/systems/").concat(e.system_uuid,"/")},e.display_name))].concat((0,l.Z)(s.map((function(t){return n=(r={style:{width:"10px"},value:e[t]}).value,a=r.style,o().createElement(j.xv,{style:a},n);var r,n,a}))),[o().createElement(j.xv,{key:e.last_seen,style:{width:"100px"}},"".concat(m))])})));return o().createElement(o().Fragment,{key:t},o().createElement(O.sg,null,o().createElement(O.iA,{withHeader:!0,rows:[a.map((function(e){return r=(t=e).value,n=t.style,o().createElement(j.xv,{style:_(_(_({},n),x.header),x.bold)},r);var t,r,n}))].concat((0,l.Z)(i))})))};k.propTypes={systems:E().object,page:E().number,intl:E().any};var S=function(e){var t=e.systemsTotal,r=e.systems,n=e.filters,a=e.tags,s=e.intl;return delete n.offset,delete n.limit,o().createElement(o().Fragment,{key:"".concat(s.formatMessage(w.Z.insightsHeader),": ").concat(s.formatMessage(w.Z.systems))},o().createElement(j.xv,{key:"sys-count",style:x.text},s.formatMessage(w.Z.sysTableCount,{systems:o().createElement(j.xv,{key:"sys-count-count",style:x.bold},s.formatMessage(w.Z.execReportHeaderSystems,{systems:t}),t>1e3&&s.formatMessage(w.Z.dueTo))})),o().createElement(j.xv,{key:"sys-filters",style:x.text},s.formatMessage(w.Z.filtersApplied)),o().createElement(j.xv,{key:"sys-filters-values",style:x.bold},Object.entries(n).map((function(e){return o().createElement(j.xv,{key:e},"".concat(e[0],": ").concat(e[1],"     "))}))),o().createElement(j.xv,{key:"sys-tags",style:x.text},s.formatMessage(w.Z.tagsApplied)),o().createElement(j.xv,{key:"sys-tags-values",style:x.bold},a?decodeURIComponent(a):s.formatMessage(w.Z.noTags)),o().createElement(O.$0,{key:"systems",title:"Systems"},o().createElement(k,{systems:r,intl:s})))};S.propTypes={systems:E().object,systemsTotal:E().number,filters:E().object,tags:E().array,intl:E().any};var C=r(86896);function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var N=function(e){var t=e.filters,r=(0,C.Z)(),n=(0,s.useState)(!1),a=(0,u.Z)(n,2),c=a[0],m=a[1],d=(0,v.useSelector)((function(e){var t=e.AdvisorStore;return null==t?void 0:t.selectedTags})),b=(0,v.useSelector)((function(e){var t=e.AdvisorStore;return null==t?void 0:t.workloads})),h=(0,v.useSelector)((function(e){var t=e.AdvisorStore;return null==t?void 0:t.SID})),j=function(){var e=(0,i.Z)(p().mark((function e(){var n,a,s,i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),n=(null==d?void 0:d.length)&&{tags:d},b&&(n=T(T({},n),(0,y.s0)(b,h))),e.next=5,(0,g.dX)("".concat(f._n,"/export/systems/"),{},T(T({},t),n));case 5:return a=e.sent.data,s=S({systemsTotal:null==a?void 0:a.length,systems:a.slice(0,18),filters:t,tags:d,intl:r}),i=a.slice(18,982).reduce((function(e,t,r){var n=Math.floor(r/31);return!e[n]&&(e[n]=[]),e[n].push(t),e}),[]),m(!1),e.abrupt("return",[s].concat((0,l.Z)(i.map((function(e,t){return o().createElement(k,{key:t,page:t,systems:e,intl:r})})))));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o().createElement(O.o6,{groupName:r.formatMessage(w.Z.redHatInsights),allPagesHaveTitle:!1,label:c?r.formatMessage(w.Z.loading):r.formatMessage(w.Z.exportPdf),asyncFunction:j,buttonProps:T({variant:"",component:"button",className:"pf-c-dropdown__menu-item adv-c-dropdown-systems-pdf__menu-item"},c?{isDisabled:!0}:null),reportName:"".concat(r.formatMessage(w.Z.insightsHeader),":"),type:r.formatMessage(w.Z.systems),fileName:"Advisor_systems--".concat((new Date).toUTCString().replace(/ /g,"-"),".pdf"),size:[841.89,595.28]})};N.propTypes={filters:E().object,systemsCount:E().number};const M=N;var I=r(58921),L=r(46655),U=r(41131),A=r(28672),F=r(75662),R=r(43707),H=r(75106),W=r(9947),B=r(68340),V=r(68774),G=r(38779),q=r(52643);const z=function(){return o().createElement(q.b,null,o().createElement(W.u,{variant:W.I.full},o().createElement(G.D,{headingLevel:"h2",size:"lg"},"No matching systems found"),o().createElement(H.B,null,o().createElement(V.D,null,o().createElement(B.x,{component:B.q.p},"To continue, edit your filter settings and search again.")))))};var Y=r(54025),J=r(7732),X=r(46818),$=r(87516),K=r(58016);function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const ne=function(){var e,t=(0,C.Z)(),r=(0,v.useDispatch)(),n=(0,v.useStore)(),a=(0,Y.useLoadModule)({appName:"inventory",scope:"inventory",module:"./OsFilterHelpers"}),m=(0,u.Z)(a,1)[0],O=(m=void 0===m?{}:m).toGroupSelectionValue,j=m.buildOSFilterConfig,Z=(0,F.useLocation)().search,E=(0,v.useSelector)((function(e){return e.filters.selectedTags})),P=(0,v.useSelector)((function(e){return e.filters.workloads})),_=(0,v.useSelector)((function(e){return e.filters.SID})),x=(0,v.useSelector)((function(e){return e.filters.sysState})),k=(0,v.useSelector)((function(e){var t=e.entities;return(null==t?void 0:t.operatingSystems)||[]})),S=function(e){return r((0,A.pu)(e))},D=(0,R.TE)("advisor",f.Gd.export).hasAccess,T=(0,s.useState)(!0),N=(0,u.Z)(T,2),H=N[0],W=N[1],B=function(e){var t=re(re({},x),{},{offset:0});delete t[e],"hits"===e&&void 0===t.hits&&(t.hits=["yes"]),S(t)},V=function(e,t){"hits"===e&&t.length>1&&t.includes("yes")&&t.shift();var r=e===f.Ut.rhel_version.urlParam?Object.values(t||{}).flatMap((function(e){return Object.keys(e)})):t;r.length>0?S(re(re({},x),{},{offset:0},(0,c.Z)({},e,r))):B(e)},G=[{label:f.Ut.hits.title.toLowerCase(),type:f.Ut.hits.type,id:f.Ut.hits.urlParam,value:"checkbox-".concat(f.Ut.hits.urlParam),filterValues:{key:"".concat(f.Ut.hits.urlParam,"-filter"),onChange:function(e,t){return V(f.Ut.hits.urlParam,t)},value:x.hits,items:f.Ut.hits.values}},{label:f.Ut.incident.title.toLowerCase(),type:f.Ut.incident.type,id:f.Ut.incident.urlParam,value:"checkbox-".concat(f.Ut.incident.urlParam),filterValues:{key:"".concat(f.Ut.incident.urlParam,"-filter"),onChange:function(e,t){V(f.Ut.incident.urlParam,t)},value:x.incident,items:f.Ut.incident.values}}].concat((0,l.Z)(j?[j({label:f.Ut.rhel_version.title.toLowerCase(),type:f.Ut.rhel_version.type,id:f.Ut.rhel_version.urlParam,value:O(x.rhel_version||[]),onChange:function(e,t){return V(f.Ut.rhel_version.urlParam,t)}},k)]:[])),q={deleteTitle:t.formatMessage(w.Z.resetFilters),filters:(e=re({},x),e.hits&&e.hits.includes("yes")&&delete e.hits,delete e.sort,delete e.offset,delete e.limit,(0,y.yK)(e,f.Ut)),onDelete:function(e,t,r){r?S({sort:x.sort,limit:x.limit,offset:x.offset,hits:["all"],tags:E}):t.map((function(e){var t=(0,c.Z)({},e.urlParam,Array.isArray(x[e.urlParam])?x[e.urlParam].filter((function(t){return String(t)!==String(e.chips[0].value)})):"");t[e.urlParam].length>0?S(re(re({},x),t)):B(e.urlParam)}))}},Q=function(e){var t=e.display_name,r=e.hits,n=re(re(re({},e),t&&{display_name:t}),r&&{hits:r});(0,y.Y4)(n,E)},te=function(e){return[{title:e.formatMessage(w.Z.name),key:"display_name",transforms:[J.p,X.WT],props:{isStatic:!0},renderFunc:function(e,t,r){return o().createElement(o().Fragment,null,o().createElement(F.Link,{key:t,to:"/systems/".concat(r.system_uuid)},"".concat(r.display_name," ")),r.incident_hits>0&&o().createElement($.Z,{rule:{tags:"incident"}}))}},{key:"groups",requiresDefault:!0},{key:"tags"},{key:"system_profile",transforms:[J.p,X.WT]},{title:e.formatMessage(w.Z.numberRuleHits),transforms:[J.p,X.WT],key:"hits"},{title:e.formatMessage(w.Z.critical),transforms:[J.p,X.WT],key:"critical_hits"},{title:e.formatMessage(w.Z.important),transforms:[J.p,X.WT],key:"important_hits"},{title:e.formatMessage(w.Z.moderate),transforms:[J.p,X.WT],key:"moderate_hits"},{title:e.formatMessage(w.Z.low),transforms:[J.p,X.WT],key:"low_hits"},{key:"updated",transforms:[J.p,X.WT],props:{width:20}}]}(t);return(0,s.useEffect)((function(){var e;if(Z){var t=(0,y.yG)();t.tags=E,void 0!==t.sort&&(t.sort=t.sort[0]),void 0!==t.display_name&&(t.display_name=t.display_name[0]),void 0===t.hits&&(t.hits=["all"]),void 0===t.offset||isNaN(t.offset)?t.offset=0:t.offset=Number(t.offset[0]),void 0===t.limit||isNaN(t.limit)?t.limit=20:t.limit=Number(t.limit[0]),e=re(re({},x),t),void 0!==t.incident&&!Array.isArray(t.incident)&&(t.incident=["".concat(t.incident)]),S(e)}else void 0!==x.limit&&void 0!==x.offset&&void 0!==x.hits||(e=re(re({},x),{},{offset:0,limit:20,hits:["all"],tags:E}),S(e));W(!1),(0,y.Y4)(e,E)}),[E]),!H&&o().createElement(b.Z,{hideFilters:{all:!0,name:!1,tags:!1},initialLoading:!0,autoRefresh:!0,showTags:!0,disableDefaultColumns:!0,customFilters:{advisorFilters:x,workloads:P,SID:_,selectedTags:E},columns:function(e){return function(e,t){return t.map((function(t){var r=e.find((function(e){return e.key===t.key}));return t.requiresDefault&&void 0===r?void 0:ee(ee({},t),r)})).filter(Boolean)}(e,te)},onLoad:function(e){var t=e.mergeWithEntities,r=e.INVENTORY_ACTION_TYPES,a=e.mergeWithDetail;n.replaceReducer((0,U.U)(re(re({},t((0,L.V)([],r),{page:Number(x.offset/x.limit+1||1),perPage:Number(x.limit||20)})),a())))},getEntities:function(){var e=(0,i.Z)(p().mark((function e(t,r,n,a){var s,o,i,l,c,u,m,d,v,b,h,O,j;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.per_page,i=r.page,l=r.orderBy,c=r.orderDirection,u=r.advisorFilters,m=r.filters,d=r.workloads,v=r.SID,b="".concat("ASC"===c?"":"-").concat(("updated"===l?"last_seen":"operating_system"===l&&"rhel_version")||l),h=(0,K.J)(u,i,o,b,null,m,E,d,v,!0),e.next=5,(0,g.dX)(f.Vo,{},h);case 5:if(e.t1=s=e.sent,e.t0=null===e.t1,e.t0){e.next=9;break}e.t0=void 0===s;case 9:if(!e.t0){e.next=13;break}e.t2=void 0,e.next=14;break;case 13:e.t2=s.data;case 14:return O=e.t2,Q(h),e.next=18,a(O.data.map((function(e){return e.system_uuid})),{per_page:o,hasItems:!0,fields:{system_profile:["operating_system"]}},n);case 18:return j=e.sent,e.abrupt("return",Promise.resolve({results:(0,y.E9)(O.data,j.results),total:O.meta.count}));case 20:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),tableProps:{isStickyHeader:!0,variant:d.B.compact},isFullView:!0,hasCheckbox:!1,filterConfig:{items:G},activeFiltersConfig:q,noSystemsTable:z,exportConfig:{onSelect:function(e,t){return(0,I.Z)("systems",t,x,E,P,_,r)},extraItems:[o().createElement("li",{key:"download-pd",role:"menuitem"},o().createElement(M,{filters:re({},(0,y.qW)(x))}))],isDisabled:!D,tooltipText:D?t.formatMessage(w.Z.exportData):t.formatMessage(w.Z.permsAction)},fallback:h.Z})};var ae=function(){var e=(0,C.Z)();return document.title=e.formatMessage(w.Z.documentTitle,{subnav:w.Z.systems.defaultMessage}),o().createElement(o().Fragment,null,o().createElement(n.Z,null,o().createElement(a.Z,{title:"".concat(e.formatMessage(w.Z.insightsHeader)," ").concat(e.formatMessage(w.Z.systems).toLowerCase())})),o().createElement("section",{className:"pf-l-page__main-section pf-c-page__main-section"},o().createElement(ne,null)))};ae.displayName="systems-list";const se=ae},45467:()=>{},11452:()=>{},34946:()=>{},80598:()=>{},10108:()=>{},21064:()=>{},82014:()=>{},67761:()=>{},49854:()=>{},42480:()=>{},19527:()=>{},69331:()=>{},52361:()=>{},94616:()=>{}}]);
//# sourceMappingURL=../sourcemaps/List.5d9e3d9535db450223b96481aa3021d4.js.map