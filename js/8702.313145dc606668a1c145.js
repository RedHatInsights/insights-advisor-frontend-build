(self.webpackChunkadvisor_frontend=self.webpackChunkadvisor_frontend||[]).push([[8702],{44788:(e,t,a)=>{"use strict";a.d(t,{Z:()=>j});var r=a(96156),n=a(92137),s=a(28481),l=a(87757),i=a.n(l),o=a(57149),c=a(93264),u=a.n(c),d=a(71094),m=a(59303),f=a(6202),p=a(32752),g=a(4853),v=a(23811),b=a(78826),h=a(45697),k=a.n(h),E=a(12282),_=a(71355),y=a(30893),Z=a(77121),O=a(86896);function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){(0,r.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var w=function(e){var t=e.handleModalToggle,a=e.isModalOpen,r=e.host,l=e.hosts,h=e.rule,k=e.afterFn,S=(0,O.Z)(),w=(0,Z.useDispatch)(),j=function(e){return w((0,_.wN)(e))},I=(0,c.useState)(""),P=(0,s.Z)(I,2),x=P[0],T=P[1],D=(0,c.useState)(void 0!==r||l.length>0),A=(0,s.Z)(D,2),L=A[0],N=A[1],C=function(){var e=(0,n.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={systems:l,justification:x},e.prev=1,e.next=4,d.Z.post("".concat(m.BASE_URL,"/rule/").concat(h.rule_id,"/ack_hosts/"),{},t);case 4:k&&k(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),j({variant:"danger",dismissable:!0,title:S.formatMessage(y.Z.error),description:"".concat(e.t0)});case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=(0,n.Z)(i().mark((function e(){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("enabled"!==h.rule_status||l.length){e.next=15;break}return a=L?{type:"HOST",options:{rule:h.rule_id,system_uuid:r.id,justification:x}}:{type:"RULE",options:M({rule_id:h.rule_id},x&&{justification:x})},e.prev=2,e.next=5,n=a,w(o.s1(n));case 5:j({variant:"success",timeout:!0,dismissable:!0,title:S.formatMessage(y.Z.recSuccessfullyDisabled)}),T(""),k&&k(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),j({variant:"danger",dismissable:!0,title:S.formatMessage(y.Z.error),description:"".concat(e.t0)});case 13:e.next=16;break;case 15:C();case 16:t(!1);case 17:case"end":return e.stop()}var n}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();return u().createElement(b.u_,{variant:"small",title:S.formatMessage(y.Z.disableRule),isOpen:a,onClose:function(){t(!1),T("")},actions:[u().createElement(f.Button,{key:"confirm",variant:"primary",onClick:function(){return B()},ouiaId:"confirm"},S.formatMessage(y.Z.save)),u().createElement(f.Button,{key:"cancel",variant:"link",onClick:function(){t(!1),T("")},ouiaId:"cancel"},S.formatMessage(y.Z.cancel))]},S.formatMessage(y.Z.disableRuleBody),u().createElement(g.l,null,u().createElement(v.c,{fieldId:"blank-form"}),(void 0!==r||l.length>0)&&u().createElement(v.c,{fieldId:"disable-rule-one-system"},u().createElement(p.X,{isChecked:L,onChange:function(){N(!L)},label:l.length?S.formatMessage(y.Z.disableRuleForSystems):S.formatMessage(y.Z.disableRuleSingleSystem),id:"disable-rule-one-system",name:"disable-rule-one-system"})),u().createElement(v.c,{label:S.formatMessage(y.Z.justificationNote),fieldId:"disable-rule-justification"},u().createElement(E.oi,{type:"text",id:"disable-rule-justification","aria-describedby":"disable-rule-justification",value:x,onChange:function(e){return T(e)},onKeyDown:function(e){return"Enter"===e.key&&(e.preventDefault(),B())}}))))};w.propTypes={isModalOpen:k().bool,host:k().object,handleModalToggle:k().func,rule:k().object,afterFn:k().func,hosts:k().array},w.defaultProps={isModalOpen:!1,handleModalToggle:function(){},system:void 0,rule:{},afterFn:function(){},host:void 0,hosts:[]};const j=w},95358:(e,t,a)=>{"use strict";a.d(t,{Z:()=>w});var r=a(96156),n=a(92137),s=a(28481),l=a(87757),i=a.n(l),o=a(93264),c=a.n(o),u=a(59845),d=a(57149),m=a(71094),f=a(59303),p=a(6202),g=a(62410),v=a(24561),b=a(78826),h=a(6234),k=a(45697),E=a.n(k),_=a(71355),y=a(77121),Z=a(74806),O=a(30893);function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var M=function(e){var t=e.fetchHostAcks,a=e.hostAcksFetchStatus,r=e.handleModalToggle,l=e.intl,d=e.isModalOpen,k=e.hostAcks,E=e.rule,y=e.afterFn,Z=[l.formatMessage(O.Z.systemName),l.formatMessage(O.Z.justificationNote),l.formatMessage(O.Z.dateDisabled),""],S=(0,o.useState)([]),M=(0,s.Z)(S,2),w=M[0],j=M[1],I=(0,o.useState)(!1),P=(0,s.Z)(I,2),x=P[0],T=P[1],D=function(){var e=(0,n.Z)(i().mark((function e(a){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.Z.delete("".concat(f.BASE_URL,"/hostack/").concat(a.id,"/"));case 3:t({rule_id:E.rule_id,limit:E.hosts_acked_count}),T(!0),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),r(!1),(0,_.wN)({variant:"danger",dismissable:!0,title:l.formatMessage(O.Z.error),description:"".concat(e.t0)});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){if(k.data){var e=k.data.map((function(e){return{cells:[e.display_name||e.system_uuid,e.justification||l.formatMessage(O.Z.none),{title:c().createElement(g.Z,{date:new Date(e.updated_at),type:"onlyDate"})},{title:c().createElement(p.Button,{key:e.system_uuid,isInline:!0,variant:"link",onClick:function(){return D(e)}},c().createElement(h.ZP,{size:"sm"}),"  "," ",l.formatMessage(O.Z.enable))}]}})).asMutable();e.length||(y(),r(!1)),j(e)}}),[k]),(0,o.useEffect)((function(){t({rule_id:E.rule_id,limit:E.hosts_acked_count})}),[t,E.hosts_acked_count,E.rule_id]),c().createElement(b.u_,{width:"50%",title:l.formatMessage(O.Z.hostAckModalTitle),isOpen:d,onClose:function(){x&&y(),r(!1)}},"fulfilled"===a&&c().createElement(u.Table,{"aria-label":"host-ack-table",rows:w,cells:Z},c().createElement(u.TableHeader,null),c().createElement(u.TableBody,null)),"fulfilled"!==a&&c().createElement(u.Table,{"aria-label":"host-ack-table",rows:[{cells:[{props:{colSpan:3},title:c().createElement(v.aV,null)}]}],cells:Z},c().createElement(u.TableHeader,null),c().createElement(u.TableBody,null)))};M.propTypes={isModalOpen:E().bool,handleModalToggle:E().func,intl:E().any,rule:E().object,fetchHostAcks:E().func,hostAcks:E().object,hostAcksFetchStatus:E().string,addNotification:E().func,afterFn:E().func},M.defaultProps={isModalOpen:!1,handleModalToggle:function(){},rule:{},afterFn:function(){}};const w=(0,Z.ZP)((0,y.connect)((function(e){var t=e.AdvisorStore,a=e.ownProps;return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){(0,r.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({hostAcks:t.hostAcks,hostAcksFetchStatus:t.hostAcksFetchStatus},a)}),(function(e){return{setAck:function(t){return e((0,d.s1)(t))},fetchHostAcks:function(t){return e((0,d.CM)(t))},addNotification:function(t){return e((0,_.wN)(t))}}}))(M))},87533:(e,t,a)=>{"use strict";a.d(t,{Z:()=>q});var r=a(25325),n=a.n(r),s=a(39693),l=a.n(s),i=(a(85840),a(59303)),o=a(92506),c=a(88292),u=a(63540),d=a(50470),m=a(78216),f=a(16530),p=a(15206),g=a.n(p),v=a(52491),b=a(45697),h=a.n(b),k=a(93264),E=a.n(k),_=a(92137),y=a(28481),Z=a(87757),O=a.n(Z),S=(a(15688),a(71094)),M=a(6202),w=a(49580),j=a(11239),I=a(90502),P=a(61088),x=a(74806),T=a(30893),D=function(e){var t=e.intl,a=e.rule,r=(0,k.useState)(a.rating),n=(0,y.Z)(r,2),s=n[0],l=n[1],o=(0,k.useState)(!1),c=(0,y.Z)(o,2),u=c[0],d=c[1],m=(0,k.useState)(t.formatMessage(T.Z.feedbackThankyou)),f=(0,y.Z)(m,2),p=f[0],g=f[1],v=function(){var e=(0,_.Z)(O().mark((function e(t){var r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s===t?0:t,e.prev=1,e.next=4,S.Z.post("".concat(i.BASE_URL,"/rating/"),{},{rule:a.rule_id,rating:r});case 4:l(r),d(!0),setTimeout((function(){return g("")}),3e3),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return E().createElement("span",{className:"ratingSpanOverride"},t.formatMessage(T.Z.ruleHelpful),E().createElement(M.Button,{variant:"plain","aria-label":"thumbs-up",onClick:function(){return v(1)},ouiaId:"thumbsUp"},1===s?E().createElement(P.ZP,{className:"like",size:"sm"}):E().createElement(j.ZP,{size:"sm"})),E().createElement(M.Button,{variant:"plain","aria-label":"thumbs-down",onClick:function(){return v(-1)},ouiaId:"thumbsDown"},-1===s?E().createElement(I.ZP,{className:"dislike",size:"sm"}):E().createElement(w.ZP,{size:"sm"})),u&&p)};D.propTypes={intl:h().any,rule:h().object};const A=(0,x.ZP)(D);var L=a(24047),N=a(41094);a(49987);var C=a(76388),B=a.n(C),R=a(1667),F=a.n(R),H=a(28186),z=function(e){var t,a=e.children,r=e.rule,s=e.resolutionRisk,p=e.intl,b=e.topics,h=e.header,k=e.isDetailsPage,_=function(){return b&&l()(b.map((function(e){return n()(e.tag.split(" "),r.tags.split(" ")).length&&E().createElement(E().Fragment,{key:e.slug},E().createElement(f.Link,{to:"/topics/".concat(e.slug)},"".concat(e.name)))})))},y=function(e,t){return"string"==typeof e&&Boolean(e)&&E().createElement("span",{className:t&&"genericOverride"},E().createElement(g(),{rehypePlugins:[B(),F()]},e))};return E().createElement(o.Split,{className:"ins-c-rule-details__split",hasGutter:!0},E().createElement(o.SplitItem,null,E().createElement(c.Stack,{hasGutter:!0},h&&E().createElement(c.StackItem,null,h),E().createElement(c.StackItem,null,k?y(r.generic,!0):y(r.summary)),r.node_id&&E().createElement(c.StackItem,null,E().createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://access.redhat.com/node/".concat(r.node_id)},p.formatMessage(T.Z.knowledgebaseArticle)," ",E().createElement(d.ZP,{size:"sm"}))),b&&r.tags&&_().length>0&&E().createElement(c.StackItem,null,E().createElement("strong",null,p.formatMessage(T.Z.topicRelatedToRule)),E().createElement("br",null),(t=_()).map((function(e,a){return E().createElement(E().Fragment,{key:a},e,a+1!==t.length&&E().createElement("strong",{className:"verticalDivider"}," | "))}))),k&&E().createElement(A,{rule:r}),!k&&r.impacted_systems_count>0&&E().createElement(c.StackItem,null,E().createElement(f.Link,{key:"".concat(r.rule_id,"-link"),to:"/recommendations/".concat(r.rule_id)},p.formatMessage(T.Z.viewAffectedSystems,{systems:r.impacted_systems_count}))))),E().createElement(o.SplitItem,null,E().createElement(c.Stack,{gutter:"sm"},a&&E().createElement(c.StackItem,null,a),E().createElement(c.StackItem,null,E().createElement(c.Stack,{className:"ins-c-rule-details__stack"},E().createElement(c.StackItem,null,E().createElement("strong",null,p.formatMessage(T.Z.totalRisk))),E().createElement(c.StackItem,{className:"pf-u-display-inline-flex alignCenterOverride pf-u-pb-sm pf-u-pt-sm"},E().createElement("span",{className:"ins-c-rule-details__stackitem"},E().createElement("span",null,E().createElement(m.Z,{value:r.total_risk})),E().createElement(c.Stack,{hasGutter:!0,className:"description-stack-override"},E().createElement(c.StackItem,null,E().createElement(N.D,null,E().createElement(u.xv,{component:u.qO.p},p.formatMessage(T.Z.rulesDetailsTotalriskBody,{risk:i.TOTAL_RISK_LABEL_LOWER[r.total_risk]||p.formatMessage(T.Z.undefined),strong:function(e){return(0,H.f)(e)}})))),E().createElement(c.Stack,null,E().createElement(c.StackItem,null,E().createElement(L.c,{className:"severity-line",title:p.formatMessage(T.Z.likelihoodLevel,{level:i.LIKELIHOOD_LABEL[r.likelihood]}),value:r.likelihood,tooltipMessage:p.formatMessage(T.Z.likelihoodDescription,{level:i.LIKELIHOOD_LABEL_LOWER[r.likelihood]})})),E().createElement(c.StackItem,null,E().createElement(L.c,{className:"severity-line",title:p.formatMessage(T.Z.impactLevel,{level:i.IMPACT_LABEL[r.impact.impact]}),value:r.impact.impact,tooltipMessage:p.formatMessage(T.Z.impactDescription,{level:i.IMPACT_LABEL_LOWER[r.impact.impact]})})))))),E().createElement("hr",null),E().createElement(c.StackItem,null,E().createElement("strong",null,p.formatMessage(T.Z.riskofchange))),E().createElement(c.StackItem,{className:"pf-u-display-inline-flex alignCenterOverride pf-u-pb-sm pf-u-pt-sm"},E().createElement("span",{className:"ins-c-rule-details__stackitem"},E().createElement("span",null,E().createElement(m.Z,{text:i.RISK_OF_CHANGE_LABEL[s],value:s,hideIcon:!0})),E().createElement(c.Stack,{hasGutter:!0,className:"description-stack-override"},E().createElement(c.StackItem,null,E().createElement(N.D,null,E().createElement(u.xv,{component:u.qO.p},s?i.RISK_OF_CHANGE_DESC[s]:p.formatMessage(T.Z.undefined)))),E().createElement(c.StackItem,null,E().createElement("span",{className:"system-reboot-message"},E().createElement(v.ZP,{className:r.reboot_required?"reboot-required-icon":"no-reboot-required-icon"}),E().createElement(N.D,{className:"system-reboot-message__content"},E().createElement(u.xv,{component:u.qO.p},p.formatMessage(T.Z.systemReboot,{strong:function(e){return(0,H.f)(e)},status:r.reboot_required?p.formatMessage(T.Z.is):p.formatMessage(T.Z.isNot)})))))))))))))};z.propTypes={children:h().any,rule:h().object,resolutionRisk:h().number,intl:h().any,topics:h().array,header:h().any,isDetailsPage:h().bool};const q=(0,x.ZP)(z)},83808:(e,t,a)=>{"use strict";a.d(t,{Z:()=>m}),a(27999);var r=a(76004),n=a(23218),s=a(45697),l=a.n(s),i=a(93264),o=a.n(i),c=a(74806),u=a(30893),d=function(e){var t=e.intl,a=e.rule;return o().createElement(o().Fragment,null,-1!==a.tags.search("incident")&&o().createElement(r.Tooltip,{content:t.formatMessage(u.Z.incidentTooltip),position:r.TooltipPosition.right},o().createElement(n._,{color:"red",className:"incidentLabel"},t.formatMessage(u.Z.incident))),"disabled"===a.rule_status&&o().createElement(r.Tooltip,{content:t.formatMessage(u.Z.ruleIsDisabledTooltip),position:r.TooltipPosition.right},o().createElement(n._,{color:"gray"},t.formatMessage(u.Z.disabled))),"rhdisabled"===a.rule_status&&o().createElement(r.Tooltip,{content:t.formatMessage(u.Z.ruleIsDisabledTooltip),position:r.TooltipPosition.right},o().createElement(n._,{color:"gray"},t.formatMessage(u.Z.redhatDisabled))))};d.propTypes={intl:l().any,rule:l().object};const m=(0,c.ZP)(d)},59367:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var r=a(23645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,".advisor hr{border:0.01rem solid #ccc;margin:var(--pf-global--spacer--md) 0 var(--pf-global--spacer--md) 0}.advisor .ins-c-rule-details__split{display:inline-flex;justify-content:space-around}.advisor .ins-c-rule-details__split .pf-l-split__item{position:relative}.advisor .ins-c-rule-details__stack{width:600px}.advisor .ins-c-rule-details__stack .ins-c-rule-details__stackitem{display:flex;justify-content:space-between;width:100%}.advisor .ins-c-rule-details__stack .ins-c-rule-details__stackitem .description-stack-override{width:452px}.advisor .ins-c-rule-details__stack .ins-c-rule-details__stackitem .description-stack-override .severity-line .ins-l-title{width:150px}.advisor .ins-c-rule-details__stack .ins-c-rule-details__stackitem .description-stack-override .severity-line .ins-l-title span{font-size:var(--pf-global-FontSize--md)}.advisor .system-reboot-message{display:inline-flex}.advisor .system-reboot-message .system-reboot-message__content{position:relative}.advisor .system-reboot-message .reboot-required-icon{margin-top:5px;margin-right:var(--pf-global--spacer--sm);color:var(--pf-global--palette--red-100)}.advisor .system-reboot-message .no-reboot-required-icon{margin-top:5px;margin-right:var(--pf-global--spacer--sm);color:var(--pf-global--palette--black-400)}.advisor .topicsCard{background-color:var(--pf-global--BackgroundColor--150);box-shadow:none;word-break:break-word}.advisor .alignCenterOverride{align-items:center;width:100%}.advisor .genericOverride p{margin-top:0;margin-bottom:var(--pf-global--spacer--md)}@media only screen and (max-width: 768px){.advisor .ins-c-center-text{text-align:left !important}.advisor .ins-c-rule-details__split{display:block}.advisor .ins-c-rule-details__split .pf-l-split__item{margin:var(--pf-global--spacer--md)}}\n",""]);const s=n},35540:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var r=a(23645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,".advisor .incidentLabel{background-color:#faeae8 !important}.advisor .pf-c-label{margin-right:var(--pf-global--spacer--xs)}\n",""]);const s=n},87199:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var r=a(23645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,".advisor .like{color:var(--pf-global--success-color--100)}.advisor .dislike{color:var(--pf-global--primary-color--100)}.advisor .ratingSpanOverride{font-size:var(--pf-global--FontSize--sm) !important}.advisor .ratingSpanOverride button{padding:8px}\n",""]);const s=n},40852:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var r=a(23645),n=a.n(r)()((function(e){return e[1]}));n.push([e.id,".advisor .verticalDivider{color:var(--pf-global--BorderColor--100)}\n",""]);const s=n},85840:(e,t,a)=>{"use strict";var r=a(93379),n=a.n(r),s=a(59367),l=n()(s.default,{insert:"head",singleton:!1});if(!s.default.locals||e.hot.invalidate){var i=s.default.locals;e.hot.accept(59367,(t=>{s=a(59367),function(e,t,a){if(!e&&t||e&&!t)return!1;var r;for(r in e)if(e[r]!==t[r])return!1;for(r in t)if(!e[r])return!1;return!0}(i,s.default.locals)?(i=s.default.locals,l(s.default)):e.hot.invalidate()}))}e.hot.dispose((function(){l()})),s.default.locals},27999:(e,t,a)=>{"use strict";var r=a(93379),n=a.n(r),s=a(35540),l=n()(s.default,{insert:"head",singleton:!1});if(!s.default.locals||e.hot.invalidate){var i=s.default.locals;e.hot.accept(35540,(t=>{s=a(35540),function(e,t,a){if(!e&&t||e&&!t)return!1;var r;for(r in e)if(e[r]!==t[r])return!1;for(r in t)if(!e[r])return!1;return!0}(i,s.default.locals)?(i=s.default.locals,l(s.default)):e.hot.invalidate()}))}e.hot.dispose((function(){l()})),s.default.locals},15688:(e,t,a)=>{"use strict";var r=a(93379),n=a.n(r),s=a(87199),l=n()(s.default,{insert:"head",singleton:!1});if(!s.default.locals||e.hot.invalidate){var i=s.default.locals;e.hot.accept(87199,(t=>{s=a(87199),function(e,t,a){if(!e&&t||e&&!t)return!1;var r;for(r in e)if(e[r]!==t[r])return!1;for(r in t)if(!e[r])return!1;return!0}(i,s.default.locals)?(i=s.default.locals,l(s.default)):e.hot.invalidate()}))}e.hot.dispose((function(){l()})),s.default.locals},49987:(e,t,a)=>{"use strict";var r=a(93379),n=a.n(r),s=a(40852),l=n()(s.default,{insert:"head",singleton:!1});if(!s.default.locals||e.hot.invalidate){var i=s.default.locals;e.hot.accept(40852,(t=>{s=a(40852),function(e,t,a){if(!e&&t||e&&!t)return!1;var r;for(r in e)if(e[r]!==t[r])return!1;for(r in t)if(!e[r])return!1;return!0}(i,s.default.locals)?(i=s.default.locals,l(s.default)):e.hot.invalidate()}))}e.hot.dispose((function(){l()})),s.default.locals}}]);