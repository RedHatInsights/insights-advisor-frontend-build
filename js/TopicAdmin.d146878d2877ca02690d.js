(self.webpackChunkadvisor_frontend=self.webpackChunkadvisor_frontend||[]).push([[1694],{43622:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var n=a(94015),r=a.n(n),o=a(23645),i=a.n(o)()(r());i.push([e.id,".advisor .text-area-override{max-width:30em;min-height:8em;max-height:12em}.advisor .text-input-override{width:22em;display:inline}.advisor .radio-override{padding-left:5px}.advisor .checkbox-override{padding-left:5px}.advisor .split-override{width:100%}.advisor .modal-width-override{width:60%}\n","",{version:3,sources:["webpack://./src/PresentationalComponents/Modals/_AddEditTopic.scss"],names:[],mappings:"AAAA,6BACoB,cAAc,CAAC,cAAc,CAAC,eAAe,CADjE,8BACuF,UAAU,CAAC,cAAc,CADhH,yBACiI,gBAAgB,CADjJ,4BACqK,gBAAgB,CADrL,yBACsM,UAAU,CADhN,+BACuO,SAAS",sourcesContent:[".advisor{\n.text-area-override{max-width:30em;min-height:8em;max-height:12em}.text-input-override{width:22em;display:inline}.radio-override{padding-left:5px}.checkbox-override{padding-left:5px}.split-override{width:100%}.modal-width-override{width:60%}\n\n}"],sourceRoot:""}]);const l=i},2982:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var n=a(94015),r=a.n(n),o=a(23645),i=a.n(o)()(r());i.push([e.id,".advisor .toolbar-padding-override{padding-left:0px}.advisor .success{color:var(--pf-global--success-color--100)}.advisor .ban{color:var(--pf-global--Color--200)}\n","",{version:3,sources:["webpack://./src/PresentationalComponents/TopicsAdminTable/_TopicsAdminTable.scss"],names:[],mappings:"AAAA,mCAC0B,gBAAgB,CAD1C,kBACoD,0CAA0C,CAD9F,cACoG,kCAAkC",sourcesContent:[".advisor{\n.toolbar-padding-override{padding-left:0px}.success{color:var(--pf-global--success-color--100)}.ban{color:var(--pf-global--Color--200)}\n\n}"],sourceRoot:""}]);const l=i},87585:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>V});var n=a(59713),r=a.n(n),o=a(63038),i=a.n(o),l=(a(46978),a(64169)),c=a(97522),s=a.n(c),d=a(83984),u=a(87757),f=a.n(u),m=a(48926),p=a.n(m),g=(a(26964),a(92506)),v=a(37802),b=a(20999),h=a(6202),A=a(32752),E=a(4853),C=a(23811),x=a(78826),Z=a(45697),y=a.n(Z),M=a(9568),k=a(85806),S=a(12282),T=a(22005),w=a(86588),B=a(74806),O=a(18623),N=function(e){var t=e.handleModalToggle,a=e.intl,n=e.isModalOpen,r=e.topic,o=e.addNotification,l=e.fetchTopicsAdmin,d=(0,c.useState)(r.name||""),u=i()(d,2),m=u[0],Z=u[1],y=(0,c.useState)(r.description||""),T=i()(y,2),w=T[0],B=T[1],N=(0,c.useState)(r.tag||""),D=i()(N,2),I=D[0],P=D[1],j=(0,c.useState)(r.enabled||!1),F=i()(j,2),L=F[0],U=F[1],R=(0,c.useState)(r.featured||!1),_=i()(R,2),q=_[0],H=_[1],K=(0,c.useState)(r.slug||void 0),G=i()(K,2),Q=G[0],Y=G[1],z=function(){var e=p()(f().mark((function e(n){var c,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=n.type,e.prev=1,s={name:m,slug:Q,tag:I,description:w,enabled:L,featured:q},"DELETE"!==c){e.next=8;break}return e.next=6,v.Z.delete("".concat(b.BASE_URL,"/topic/").concat(Q));case 6:e.next=15;break;case 8:if(!r.slug){e.next=13;break}return e.next=11,v.Z.put("".concat(b.BASE_URL,"/topic/").concat(Q,"/"),s);case 11:e.next=15;break;case 13:return e.next=15,v.Z.post("".concat(b.BASE_URL,"/topic/"),{},s);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),o({variant:"danger",dismissable:!0,title:a.formatMessage(O.Z.error),description:Object.entries(e.t0.response.data).map((function(e){var t=i()(e,2),a=t[0],n=t[1];return"".concat(a.toUpperCase(),":").concat(n," ")}))});case 20:return e.prev=20,t(!1),l(),e.finish(20);case 24:case"end":return e.stop()}}),e,null,[[1,17,20,24]])})));return function(t){return e.apply(this,arguments)}}(),J=function(e){r.slug?Z(e):(Z(e),Y(e.replace(/\s/g,"").toLowerCase()))},X=s().createElement(g.Split,{className:"split-override",hasGutter:!0},s().createElement(g.SplitItem,null,s().createElement(h.Button,{key:"confirm",variant:"primary",onClick:function(){return z({type:"POST/PUT"})},ouiaId:"confirm"},a.formatMessage(O.Z.save))),s().createElement(g.SplitItem,null,s().createElement(h.Button,{key:"cancel",variant:"secondary",onClick:function(){return t(!1)},ouiaId:"cancel"},a.formatMessage(O.Z.cancel))),s().createElement(g.SplitItem,{isFilled:!0}),s().createElement(g.SplitItem,null,s().createElement(h.Button,{key:"delete",ouiaId:"delete",variant:"danger",isDisabled:!r.slug,onClick:function(){return z({type:"DELETE"})}},a.formatMessage(O.Z.deleteTopic))));return s().createElement(x.u_,{title:a.formatMessage(O.Z.topicAdminTitle),isOpen:n,onClose:function(){return t(!1)},footer:X,className:"modal-width-override"},s().createElement(E.l,null,s().createElement(C.c,{label:a.formatMessage(O.Z.name),fieldId:"topic-form-name",className:"text-input-override"},s().createElement(S.oi,{value:m,isRequired:!0,type:"text",id:"topic-form-name",name:"topic-form-name",onChange:function(e){return J(e)}})),s().createElement(C.c,{label:a.formatMessage(O.Z.topicAddEditDescription),fieldId:"topic-form-description",helperText:a.formatMessage(O.Z.topicAddEditDescriptionHelperText),className:"text-area-override"},s().createElement(k.Kx,{value:w,isRequired:!0,name:"topic-form-description",id:"topic-form-description",onChange:function(e){return B(e)}})),s().createElement(C.c,{isInline:!0,fieldId:"topic-form-labels"},s().createElement(C.c,{label:a.formatMessage(O.Z.tag),fieldId:"topic-form-tag",helperText:a.formatMessage(O.Z.topicAddEditTagHelperText),className:"text-input-override"},s().createElement(S.oi,{value:I.replace(/\s/g,"").toLowerCase(),isRequired:!0,type:"text",id:"topic-form-tag",name:"topic-form-tag",onChange:function(e){return P(e.replace(/\s/g,"").toLowerCase())}})),s().createElement(C.c,{label:a.formatMessage(O.Z.topicSlug),fieldId:"topic-form-name-2",helperText:"",className:"text-input-override"},s().createElement(S.oi,{value:Q||m.replace(/\s/g,"").toLowerCase(),isDisabled:r.slug,type:"text",id:"topic-form-name-2",name:"topic-form-name-2",onChange:function(e){return J(e)}}))),s().createElement(C.c,{label:a.formatMessage(O.Z.status),fieldId:"topic-form-enabled"},s().createElement(M.Y,{isChecked:!L,id:"disabled",label:a.formatMessage(O.Z.topicAddEditDisabled),onChange:function(){return U(!L)},className:"radio-override"}),s().createElement(M.Y,{isChecked:L,id:"enabled",label:a.formatMessage(O.Z.topicAddEditEnabled),onChange:function(){return U(!L)},className:"radio-override"})),s().createElement(C.c,{label:a.formatMessage(O.Z.featured),fieldId:"topic-form-featured"},s().createElement(A.X,{isChecked:q,label:a.formatMessage(O.Z.topicAddEditFeatureBox),id:"checkbox-featured",name:"checkbox-featured","aria-label":"update-featured",onChange:function(){return H(!q)},className:"checkbox-override"}))))};N.propTypes={handleModalToggle:y().func,isModalOpen:y().bool,topic:y().object,intl:y().any,addNotification:y().func,fetchTopicsAdmin:y().func};const D=(0,B.ZP)((0,w.connect)(null,(function(e){return{addNotification:function(t){return e((0,T.addNotification)(t))},fetchTopicsAdmin:function(){return e((0,l.QK)())}}}))(N));var I=a(80516),P=a(35451),j=a(4145),F=a(59900),L=a(33042),U=a.n(L),R=a(82141),_=a(86350),q=a(75824),H=a(48716),K=a(81790),G=a(47668),Q=a(32875),Y=a(34348),z=a(36873);function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var X=function(e){var t=e.topicsFetchStatus,a=e.fetchTopicsAdmin,n=e.topics,r=e.intl,o=(0,c.useState)([{title:r.formatMessage(O.Z.title),transforms:[d.sortable]},{title:r.formatMessage(O.Z.tag),transforms:[d.sortable]},{title:r.formatMessage(O.Z.topicSlug),transforms:[d.sortable]},{title:r.formatMessage(O.Z.status),transforms:[d.sortable]},{title:r.formatMessage(O.Z.featured),transforms:[d.sortable]},"",""]),l=i()(o,1)[0],u=(0,c.useState)([]),f=i()(u,2),m=f[0],p=f[1],g=(0,c.useState)({}),v=i()(g,2),b=v[0],A=v[1],E=(0,c.useState)(!1),C=i()(E,2),x=C[0],Z=C[1],y=(0,c.useState)({}),M=i()(y,2),k=M[0],S=M[1],T=(0,c.useState)([]),w=i()(T,2),B=w[0],N=w[1],L=(0,c.useCallback)((function(e,t,a){var n={0:"name",1:"tag",2:"slug",3:"enabled",4:"featured"}[t];A({index:t,direction:a}),N(U().from(B.asMutable().sort((function(e,t){return"asc"===a?"enabled"===n||"featured"===n?e[n]>t[n]?-1:1:e[n]>t[n]?1:-1:"enabled"===n||"featured"===n?e[n]>t[n]?1:-1:e[n]>t[n]?-1:1}))))}),[A,N,B]),z=function(e){e?(S(e),Z(!0)):Z(!0)};return(0,c.useEffect)((function(){N(n)}),[n]),(0,c.useEffect)((function(){a()}),[a]),(0,c.useEffect)((function(){if(0===B.length)p([{cells:[{title:s().createElement(q.Z,{icon:"none",title:"",text:""}),props:{colSpan:7}}]}]);else{var e=B.flatMap((function(e,t){return[{isOpen:!1,rule:e,cells:[{title:s().createElement("span",{key:t}," ",e.name)},{title:s().createElement("span",{key:t}," ",e.tag)},{title:s().createElement("span",{key:t}," ",e.slug)},{title:s().createElement("span",null,e.enabled?s().createElement("span",null,s().createElement(P.default,{className:"success"})," ",r.formatMessage(O.Z.enabled)):s().createElement("span",null,s().createElement(I.ZP,{className:"ban"})," ",r.formatMessage(O.Z.disabled)))},{title:s().createElement("span",null,e.featured?s().createElement("span",null,s().createElement(G.ZP,null)," ",r.formatMessage(O.Z.featured)):s().createElement("span",null))},"",{title:s().createElement(h.Button,{ouiaId:"hide",variant:"link",onClick:function(){return z(e)}},s().createElement(j.ZP,null)," ",r.formatMessage(O.Z.topicAdminEdit))}]}]}));p(e.asMutable())}}),[B,r]),s().createElement(s().Fragment,null,x&&s().createElement(D,{isModalOpen:x,handleModalToggle:Z,topic:k}),s().createElement(H.Z,null,s().createElement(Y.Dx,{headingLevel:"h3",size:"2xl",className:"titlePaddingOverride"},r.formatMessage(O.Z.topicAdminTitle))),s().createElement(_.Z,null,s().createElement(s().Fragment,null,s().createElement(K.Z,{className:"toolbar-padding-override"},s().createElement(h.Button,{variant:"primary",ouiaId:"adminCreate",onClick:function(e){return z(e)}},r.formatMessage(O.Z.topicAdminCreate))),"fulfilled"===t&&s().createElement(d.Table,{ouiaId:"adminTable","aria-label":"topics-admin-table",sortBy:b,onSort:L,cells:l,rows:m},s().createElement(d.TableHeader,null),s().createElement(d.TableBody,null)),"pending"===t&&s().createElement(R.Z,null),"failed"===t&&s().createElement(F.Z,{message:r.formatMessage(O.Z.systemTableFetchError)}),s().createElement(Q.Z,null))))};X.propTypes={fetchTopicsAdmin:y().func,topicsFetchStatus:y().string,topics:y().array,addNotification:y().func,history:y().object,intl:y().any};const V=(0,B.ZP)((0,z.Z)((0,w.connect)((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({topics:e.AdvisorStore.topics,topicsFetchStatus:e.AdvisorStore.topicsFetchStatus},t)}),(function(e){return{fetchTopicsAdmin:function(){return e(l.QK())},addNotification:function(t){return e((0,T.addNotification)(t))}}}))(X)))},26964:(e,t,a)=>{"use strict";var n=a(93379),r=a.n(n),o=a(43622),i=r()(o.default,{insert:"head",singleton:!1});if(!o.default.locals||e.hot.invalidate){var l=o.default.locals;e.hot.accept(43622,(t=>{o=a(43622),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(l,o.default.locals)?(l=o.default.locals,i(o.default)):e.hot.invalidate()}))}e.hot.dispose((function(){i()})),o.default.locals},46978:(e,t,a)=>{"use strict";var n=a(93379),r=a.n(n),o=a(2982),i=r()(o.default,{insert:"head",singleton:!1});if(!o.default.locals||e.hot.invalidate){var l=o.default.locals;e.hot.accept(2982,(t=>{o=a(2982),function(e,t,a){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(l,o.default.locals)?(l=o.default.locals,i(o.default)):e.hot.invalidate()}))}e.hot.dispose((function(){i()})),o.default.locals}}]);
//# sourceMappingURL=TopicAdmin.d146878d2877ca02690d.js.map