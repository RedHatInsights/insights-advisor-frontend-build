(self.webpackChunkadvisor_frontend=self.webpackChunkadvisor_frontend||[]).push([[6842],{32203:(e,t,r)=>{"use strict";r.d(t,{H:()=>l,Z:()=>c});var n=r(70655),a=r(93264),s=r(54918),o=r(38296),i=r(62472);const l=a.createContext({cardId:"",registerTitleId:()=>{},isExpanded:!1}),c=e=>{var{children:t=null,id:r="",className:u="",component:d="article",isHoverable:p=!1,isCompact:m=!1,isSelectable:f=!1,isSelectableRaised:b=!1,isSelected:g=!1,isDisabledRaised:y=!1,isFlat:v=!1,isExpanded:h=!1,isRounded:O=!1,isLarge:Z=!1,isFullHeight:E=!1,isPlain:j=!1,ouiaId:_,ouiaSafe:w=!0,hasSelectableInput:x=!1,selectableInputAriaLabel:P,onSelectableInputChange:S=(()=>{})}=e,k=(0,n._T)(e,["children","id","className","component","isHoverable","isCompact","isSelectable","isSelectableRaised","isSelected","isDisabledRaised","isFlat","isExpanded","isRounded","isLarge","isFullHeight","isPlain","ouiaId","ouiaSafe","hasSelectableInput","selectableInputAriaLabel","onSelectableInputChange"]);const C=d,T=(0,i.S$)(c.displayName,_,w),[N,D]=a.useState(""),[I,M]=a.useState();m&&Z&&(console.warn("Card: Cannot use isCompact with isLarge. Defaulting to isCompact"),Z=!1);const L=a.useRef(!1);return a.useEffect((()=>{P?M({"aria-label":P}):N?M({"aria-labelledby":N}):x&&!L.current&&(M({}),console.warn("If no CardTitle component is passed as a child of Card the selectableInputAriaLabel prop must be passed"))}),[x,P,N]),a.createElement(l.Provider,{value:{cardId:r,registerTitleId:e=>{D(e),L.current=!!e},isExpanded:h}},x&&a.createElement("input",Object.assign({className:"pf-screen-reader",id:`${r}-input`},I,{type:"checkbox",checked:g,onChange:e=>S(r,e),disabled:y,tabIndex:-1})),a.createElement(C,Object.assign({id:r,className:(0,o.i)(s.Z.card,m&&s.Z.modifiers.compact,h&&s.Z.modifiers.expanded,v&&s.Z.modifiers.flat,O&&s.Z.modifiers.rounded,Z&&s.Z.modifiers.displayLg,E&&s.Z.modifiers.fullHeight,j&&s.Z.modifiers.plain,y?(0,o.i)(s.Z.modifiers.nonSelectableRaised):b?(0,o.i)(s.Z.modifiers.selectableRaised,g&&s.Z.modifiers.selectedRaised):f||p?(0,o.i)(s.Z.modifiers.selectable,g&&s.Z.modifiers.selected):"",u),tabIndex:f||b?"0":void 0},k,T),t))};c.displayName="Card"},62394:(e,t,r)=>{"use strict";r.d(t,{e:()=>i});var n=r(70655),a=r(93264),s=r(54918),o=r(38296);const i=e=>{var{children:t=null,className:r="",component:i="div",isFilled:l=!0}=e,c=(0,n._T)(e,["children","className","component","isFilled"]);const u=i;return a.createElement(u,Object.assign({className:(0,o.i)(s.Z.cardBody,!l&&s.Z.modifiers.noFill,r)},c),t)};i.displayName="CardBody"},69174:(e,t,r)=>{"use strict";r.d(t,{_:()=>m});var n=r(70655),a=r(93264),s=r(83063),o=r(72002),i=r(47173),l=r(75824),c=r(38296),u=r(24307),d=r(6551);const p={blue:s.Z.modifiers.blue,cyan:s.Z.modifiers.cyan,green:s.Z.modifiers.green,orange:s.Z.modifiers.orange,purple:s.Z.modifiers.purple,red:s.Z.modifiers.red,gold:s.Z.modifiers.gold,grey:""},m=e=>{var{children:t,className:r="",color:m="grey",variant:f="filled",isCompact:b=!1,isEditable:g=!1,editableProps:y,isTruncated:v=!1,tooltipPosition:h,icon:O,onClose:Z,onEditCancel:E,onEditComplete:j,closeBtn:_,closeBtnAriaLabel:w,closeBtnProps:x,href:P,isOverflowLabel:S,render:k}=e,C=(0,n._T)(e,["children","className","color","variant","isCompact","isEditable","editableProps","isTruncated","tooltipPosition","icon","onClose","onEditCancel","onEditComplete","closeBtn","closeBtnAriaLabel","closeBtnProps","href","isOverflowLabel","render"]);const[T,N]=(0,a.useState)(!1),[D,I]=(0,a.useState)(t),M=a.useRef(),L=a.useRef();a.useEffect((()=>(document.addEventListener("mousedown",R),document.addEventListener("keydown",F),()=>{document.removeEventListener("mousedown",R),document.removeEventListener("keydown",F)})));const R=e=>{T&&L&&L.current&&!L.current.contains(e.target)&&(L.current.value&&j&&j(e,L.current.value),N(!1))},F=e=>{var r,n;const a=e.key;if((T||M&&M.current&&M.current.contains(e.target))&&(!T||L&&L.current&&L.current.contains(e.target))&&(!T||"Enter"!==a&&"Tab"!==a||(e.preventDefault(),e.stopImmediatePropagation(),L.current.value&&j&&j(e,L.current.value),N(!1),null===(r=null==M?void 0:M.current)||void 0===r||r.focus()),T&&"Escape"===a&&(e.preventDefault(),e.stopImmediatePropagation(),L.current.value&&(L.current.value=t,E&&E(e,t)),N(!1),null===(n=null==M?void 0:M.current)||void 0===n||n.focus()),!T&&"Enter"===a)){e.preventDefault(),e.stopImmediatePropagation(),N(!0);const t=e.target,r=document.createRange(),n=window.getSelection();r.selectNodeContents(t),r.collapse(!1),n.removeAllRanges(),n.addRange(r)}},A=S?"button":"span",U=_||a.createElement(i.zx,Object.assign({type:"button",variant:"plain",onClick:Z,"aria-label":w||`Close ${t}`},x),a.createElement(u.ZP,null)),H=a.createRef(),B=a.useRef(),[W,V]=a.useState(!1);(0,d.L)((()=>{const e=g?M:H;T||V(e.current&&e.current.offsetWidth<e.current.scrollWidth)}),[T]);const G=a.createElement(a.Fragment,null,O&&a.createElement("span",{className:(0,c.i)(s.Z.labelIcon)},O),v&&a.createElement("span",{ref:H,className:(0,c.i)(s.Z.labelText)},t),!v&&t);a.useEffect((()=>{T&&L&&L.current&&L.current.focus()}),[L,T]);let q=a.createElement("span",{className:(0,c.i)(s.Z.labelContent)},G);return P?q=a.createElement("a",{className:(0,c.i)(s.Z.labelContent),href:P},G):g&&(q=a.createElement("button",Object.assign({ref:M,className:(0,c.i)(s.Z.labelContent),onClick:e=>{N(!0),e.stopPropagation()}},y),G)),k?q=a.createElement(a.Fragment,null,W&&a.createElement(l.u,{reference:B,content:t,position:h}),k({className:s.Z.labelContent,content:G,componentRef:B})):W&&(q=a.createElement(l.u,{content:t,position:h},q)),a.createElement(A,Object.assign({},C,{className:(0,c.i)(s.Z.label,p[m],"outline"===f&&s.Z.modifiers.outline,S&&s.Z.modifiers.overflow,b&&s.Z.modifiers.compact,g&&o.Z.modifiers.editable,T&&s.Z.modifiers.editableActive,r)}),!T&&q,!T&&Z&&U,T&&a.createElement("input",Object.assign({className:(0,c.i)(s.Z.labelContent),type:"text",id:"editable-input",ref:L,value:D,onChange:()=>{I(L.current.value)}},y)))};m.displayName="Label"},68340:(e,t,r)=>{"use strict";r.d(t,{q:()=>n,x:()=>c});var n,a=r(70655),s=r(93264),o=r(38296),i=r(62873),l=r(62472);!function(e){e.h1="h1",e.h2="h2",e.h3="h3",e.h4="h4",e.h5="h5",e.h6="h6",e.p="p",e.a="a",e.small="small",e.blockquote="blockquote",e.pre="pre"}(n||(n={}));const c=e=>{var{children:t=null,className:r="",component:u=n.p,isVisitedLink:d=!1,ouiaId:p,ouiaSafe:m=!0}=e,f=(0,a._T)(e,["children","className","component","isVisitedLink","ouiaId","ouiaSafe"]);const b=u,g=(0,l.S$)(c.displayName,p,m);return s.createElement(b,Object.assign({},g,f,{"data-pf-content":!0,className:(0,o.i)(d&&u===n.a&&i.Z.modifiers.visited,r)}),t)};c.displayName="Text"},68774:(e,t,r)=>{"use strict";r.d(t,{D:()=>i});var n=r(70655),a=r(93264),s=r(62873),o=r(38296);const i=e=>{var{children:t,className:r="",isVisited:i=!1}=e,l=(0,n._T)(e,["children","className","isVisited"]);return a.createElement("div",Object.assign({},l,{className:(0,o.i)(s.Z.content,i&&s.Z.modifiers.visited,r)}),t)};i.displayName="TextContent"},54918:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n}),r(80598);const n={card:"pf-c-card",cardActions:"pf-c-card__actions",cardBody:"pf-c-card__body",cardExpandableContent:"pf-c-card__expandable-content",cardFooter:"pf-c-card__footer",cardHeader:"pf-c-card__header",cardHeaderToggle:"pf-c-card__header-toggle",cardHeaderToggleIcon:"pf-c-card__header-toggle-icon",cardSrInput:"pf-c-card__sr-input",cardTitle:"pf-c-card__title",divider:"pf-c-divider",modifiers:{hoverable:"pf-m-hoverable",selectable:"pf-m-selectable",selected:"pf-m-selected",hoverableRaised:"pf-m-hoverable-raised",selectableRaised:"pf-m-selectable-raised",nonSelectableRaised:"pf-m-non-selectable-raised",selectedRaised:"pf-m-selected-raised",compact:"pf-m-compact",displayLg:"pf-m-display-lg",flat:"pf-m-flat",plain:"pf-m-plain",rounded:"pf-m-rounded",expanded:"pf-m-expanded",fullHeight:"pf-m-full-height",toggleRight:"pf-m-toggle-right",noOffset:"pf-m-no-offset",noFill:"pf-m-no-fill",overpassFont:"pf-m-overpass-font"},themeDark:"pf-theme-dark"}},62873:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n}),r(10108);const n={content:"pf-c-content",modifiers:{visited:"pf-m-visited",plain:"pf-m-plain",overpassFont:"pf-m-overpass-font"}}},83063:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n}),r(82014);const n={button:"pf-c-button",label:"pf-c-label",labelContent:"pf-c-label__content",labelIcon:"pf-c-label__icon",labelText:"pf-c-label__text",modifiers:{compact:"pf-m-compact",blue:"pf-m-blue",green:"pf-m-green",orange:"pf-m-orange",red:"pf-m-red",purple:"pf-m-purple",cyan:"pf-m-cyan",gold:"pf-m-gold",outline:"pf-m-outline",overflow:"pf-m-overflow",add:"pf-m-add",editable:"pf-m-editable",editableActive:"pf-m-editable-active"},themeDark:"pf-theme-dark"}},72002:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n}),r(21064);const n={button:"pf-c-button",labelGroup:"pf-c-label-group",labelGroupClose:"pf-c-label-group__close",labelGroupLabel:"pf-c-label-group__label",labelGroupList:"pf-c-label-group__list",labelGroupListItem:"pf-c-label-group__list-item",labelGroupMain:"pf-c-label-group__main",labelGroupTextarea:"pf-c-label-group__textarea",modifiers:{category:"pf-m-category",vertical:"pf-m-vertical",editable:"pf-m-editable",textarea:"pf-m-textarea"}}},67265:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(85893),a=r(93264);const s=function(e){var t=e.component,r=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["component"]);return(0,a.useEffect)((function(){console.error("Unable to load inventory component. Failed to load ".concat(t,"."),r)}),[]),(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{children:"Unable to load inventory component"}),(0,n.jsxs)("h2",{children:["Failed to load ",t]}),(0,n.jsx)("code",{children:"More info can be found in browser console output."})]})}},33739:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var n=r(85893),a=r(93264),s=r.n(a),o=r(45697),i=r.n(o),l=r(59823),c=r(75662),u=r(28216),d=r(35356),p=r(67265),m=r(94184),f=r.n(m),b=function(){return b=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},b.apply(this,arguments)},g=function(e){var t=(0,c.useHistory)(),r=(0,u.useStore)(),s=e.component;return(0,n.jsx)(s,b({className:f()(e.className,"inventory")},{children:(0,n.jsx)(a.Suspense,b({fallback:e.fallback},{children:(0,n.jsx)(l.ScalprumComponent,b({history:t,store:r,appName:"inventory",module:"./InventoryTable",scope:"inventory",ErrorComponent:(0,n.jsx)(p.Z,b({component:"InventoryDetailHead",history:t,store:r},e)),ref:e.innerRef},e))}))}))};g.propTypes={fallback:i().node,innerRef:i().object,component:i().string,className:i().string};var y=s().forwardRef((function(e,t){return(0,n.jsx)(g,b({innerRef:t},e))}));y.propTypes={fallback:i().node,component:i().string,className:i().string},y.defaultProps={fallback:(0,n.jsx)(d.Bullseye,b({className:"pf-u-p-lg"},{children:(0,n.jsx)(d.Spinner,{size:"xl"})})),component:"section"};const v=y},58921:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b});var n=r(4942),a=r(15861),s=r(87757),o=r.n(s),i=r(53446),l=r(35240),c=r(59303),u=r(71094),d=r(97109);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=function(e){var t={date:(new Date).toISOString().replace(/[T:]/g,"-").split(".")[0]+"-utc"};return"Insights-Advisor_".concat(e,"--").concat(t.date)};const b=function(){var e=(0,a.Z)(o().mark((function e(t,r,n,a,s,p,b){var g,y,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g=(null==a?void 0:a.length)&&{tags:a},s&&(g=m(m({},g),(0,d.s0)(s,p))),b((0,i.addNotification)(c.LH.pending)),e.next=6,(0,u.dX)("".concat(c._n,"/export/").concat(t,".").concat("json"===r?"json":"csv"),{},m(m({},n),g)).then((function(e){return b((0,i.addNotification)(c.LH.success)),e})).catch((function(){return b((0,i.addNotification)(c.LH.error))}));case 6:y=e.sent.data,v="json"===r?JSON.stringify(y):y,(0,l.Sv)(v,f(t),r),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(0),"".concat(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r,n,a,s,o,i){return e.apply(this,arguments)}}()},87516:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(75824),a=r(69174),s=r(45697),o=r.n(s),i=r(93264),l=r.n(i),c=r(30893),u=r(86896),d=function(e){var t,r=e.rule,s=e.isCompact,o=e.noMargin,i=(0,u.Z)();return l().createElement(l().Fragment,null,-1!==(null==r||null===(t=r.tags)||void 0===t?void 0:t.search("incident"))&&l().createElement(n.u,{content:i.formatMessage(c.Z.incidentTooltip),position:n.D.right},l().createElement(a._,{color:"red",className:o?null:"adv-c-label-incident",isCompact:s},i.formatMessage(c.Z.incident))),"disabled"===(null==r?void 0:r.rule_status)&&l().createElement(n.u,{content:i.formatMessage(c.Z.ruleIsDisabledTooltip),position:n.D.right},l().createElement(a._,{color:"gray",isCompact:s},i.formatMessage(c.Z.disabled))),"rhdisabled"===(null==r?void 0:r.rule_status)&&l().createElement(n.u,{content:i.formatMessage(c.Z.ruleIsDisabledTooltip),position:n.D.right},l().createElement(a._,{color:"gray",isCompact:s},i.formatMessage(c.Z.redhatDisabled))))};d.propTypes={rule:o().object,isCompact:o().bool,noMargin:o().bool},d.defaultProps={isCompact:!0};const p=d},46891:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(32203),a=r(62394),s=r(24561),o=r(93264),i=r.n(o);const l=function(){return i().createElement(n.Z,null,i().createElement(a.e,null,i().createElement(s.aV,null)))}},58016:(e,t,r)=>{"use strict";r.d(t,{J:()=>c,W:()=>u});var n=r(4942),a=r(75472),s=r.n(a),o=r(97109);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=function(e,t,r,n,a,s,i,c,u,d){var p,m;return l(l(l(l(l(l(l(l({},e),{},{limit:r,offset:t*r-r,sort:n},(null==s?void 0:s.hostnameOrId)&&!a&&!d&&{name:null==s?void 0:s.hostnameOrId}),(null==s?void 0:s.hostnameOrId)&&!a&&d&&{display_name:null==s?void 0:s.hostnameOrId}),s.hostnameOrId&&a&&{display_name:null==s?void 0:s.hostnameOrId}),e.rhel_version&&{rhel_version:null===(p=e.rhel_version)||void 0===p?void 0:p.join(",")}),(null===(m=s.tagFilters)||void 0===m?void 0:m.length)&&(0,o.gh)(s.tagFilters)),c?(0,o.s0)(c,u):{}),(null==i?void 0:i.length)>0?{tags:i.join(",")}:{})},u=function(e,t,r){var n;return n=0===t?"name":2===t?"featured":"impacted_systems_count",s()(e,[function(e){return e[n]}],r)}},45532:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>se});var n=r(89376),a=r(39173),s=r(93264),o=r.n(s),i=r(15861),l=r(42982),c=r(4942),u=r(70885),d=r(87757),p=r.n(d),m=r(59303),f=r(75863),b=r(97109),g=r(28216),y=r(71094),v=r(33739),h=r(46891),O=r(23320),Z=r(74093),E=r(45697),j=r.n(E);var _=r(30893);function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var P=Z.mM.create({bold:{fontWeight:"600"},link:{color:"#06c"},text:{marginTop:"1rem"},nameColumn:{width:"220px"},header:{fontSize:9,color:"#4f5255",paddingLeft:"0.5rem",paddingBottom:"0.5rem",paddingTop:"0.5rem"}}),S=function(e){var t=e.page,r=e.systems,n=e.intl,a=[{value:n.formatMessage(_.Z.name),style:P.nameColumn},{value:n.formatMessage(_.Z.recommendations),style:{width:"100px",textAlign:"center"}},{value:n.formatMessage(_.Z.critical),style:{width:"70px",textAlign:"center"}},{value:n.formatMessage(_.Z.important),style:{width:"70px",textAlign:"center"}},{value:n.formatMessage(_.Z.moderate),style:{width:"60px",textAlign:"center"}},{value:n.formatMessage(_.Z.low),style:{width:"90px",textAlign:"center"}},{value:n.formatMessage(_.Z.lastSeen),style:{marginLeft:"20px"}}],s=["hits","critical_hits","important_hits","moderate_hits","low_hits"],i=(0,l.Z)(r.map((function(e){var t=new Date(e.last_seen).toUTCString().split(" "),r=(0,u.Z)(t,5),n=r[1],a=r[2],i=r[3],c=r[4],d="".concat(n," ").concat(a," ").concat(i,", ").concat(c.split(":").slice(0,2).join(":")," UTC");return[o().createElement(Z.xv,{key:e.system_uuid,style:P.nameColumn},o().createElement(Z.rU,{style:P.link,src:"".concat(m.eR,"/insights/advisor/systems/").concat(e.system_uuid,"/")},e.display_name))].concat((0,l.Z)(s.map((function(t){return n=(r={style:{width:"10px"},value:e[t]}).value,a=r.style,o().createElement(Z.xv,{style:a},n);var r,n,a}))),[o().createElement(Z.xv,{key:e.last_seen,style:{width:"100px"}},"".concat(d))])})));return o().createElement(o().Fragment,{key:t},o().createElement(O.sg,null,o().createElement(O.iA,{withHeader:!0,rows:[a.map((function(e){return r=(t=e).value,n=t.style,o().createElement(Z.xv,{style:x(x(x({},n),P.header),P.bold)},r);var t,r,n}))].concat((0,l.Z)(i))})))};S.propTypes={systems:j().object,page:j().number,intl:j().any};var k=function(e){var t=e.systemsTotal,r=e.systems,n=e.filters,a=e.tags,s=e.intl;return delete n.offset,delete n.limit,o().createElement(o().Fragment,{key:"".concat(s.formatMessage(_.Z.insightsHeader),": ").concat(s.formatMessage(_.Z.systems))},o().createElement(Z.xv,{key:"sys-count",style:P.text},s.formatMessage(_.Z.sysTableCount,{systems:o().createElement(Z.xv,{key:"sys-count-count",style:P.bold},s.formatMessage(_.Z.execReportHeaderSystems,{systems:t}),t>1e3&&s.formatMessage(_.Z.dueTo))})),o().createElement(Z.xv,{key:"sys-filters",style:P.text},s.formatMessage(_.Z.filtersApplied)),o().createElement(Z.xv,{key:"sys-filters-values",style:P.bold},Object.entries(n).map((function(e){return o().createElement(Z.xv,{key:e},"".concat(e[0],": ").concat(e[1],"     "))}))),o().createElement(Z.xv,{key:"sys-tags",style:P.text},s.formatMessage(_.Z.tagsApplied)),o().createElement(Z.xv,{key:"sys-tags-values",style:P.bold},a?decodeURIComponent(a):s.formatMessage(_.Z.noTags)),o().createElement(O.$0,{key:"systems",title:"Systems"},o().createElement(S,{systems:r,intl:s})))};k.propTypes={systems:j().object,systemsTotal:j().number,filters:j().object,tags:j().array,intl:j().any};var C=r(86896);function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var D=function(e){var t=e.filters,r=(0,C.Z)(),n=(0,s.useState)(!1),a=(0,u.Z)(n,2),c=a[0],d=a[1],f=(0,g.useSelector)((function(e){var t=e.AdvisorStore;return null==t?void 0:t.selectedTags})),v=(0,g.useSelector)((function(e){var t=e.AdvisorStore;return null==t?void 0:t.workloads})),h=(0,g.useSelector)((function(e){var t=e.AdvisorStore;return null==t?void 0:t.SID})),Z=function(){var e=(0,i.Z)(p().mark((function e(){var n,a,s,i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),n=(null==f?void 0:f.length)&&{tags:f},v&&(n=N(N({},n),(0,b.s0)(v,h))),e.next=5,(0,y.dX)("".concat(m._n,"/export/systems/"),{},N(N({},t),n));case 5:return a=e.sent.data,s=k({systemsTotal:null==a?void 0:a.length,systems:a.slice(0,18),filters:t,tags:f,intl:r}),i=a.slice(18,982).reduce((function(e,t,r){var n=Math.floor(r/31);return!e[n]&&(e[n]=[]),e[n].push(t),e}),[]),d(!1),e.abrupt("return",[s].concat((0,l.Z)(i.map((function(e,t){return o().createElement(S,{key:t,page:t,systems:e,intl:r})})))));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o().createElement(O.o6,{groupName:r.formatMessage(_.Z.redHatInsights),allPagesHaveTitle:!1,label:c?r.formatMessage(_.Z.loading):r.formatMessage(_.Z.exportPdf),asyncFunction:Z,buttonProps:N({variant:"",component:"button",className:"pf-c-dropdown__menu-item adv-c-dropdown-systems-pdf__menu-item"},c?{isDisabled:!0}:null),reportName:"".concat(r.formatMessage(_.Z.insightsHeader),":"),type:r.formatMessage(_.Z.systems),fileName:"Advisor_systems--".concat((new Date).toUTCString().replace(/ /g,"-"),".pdf"),size:[841.89,595.28]})};D.propTypes={filters:j().object,systemsCount:j().number};const I=D;var M=r(58921),L=r(46655),R=r(41131),F=r(28672),A=r(75662),U=r(43707),H=r(75106),B=r(9947),W=r(68340),V=r(68774),G=r(38779),q=r(52643);const z=function(){return o().createElement(q.b,null,o().createElement(B.u,{variant:B.I.full},o().createElement(G.D,{headingLevel:"h2",size:"lg"},"No matching systems found"),o().createElement(H.B,null,o().createElement(V.D,null,o().createElement(W.x,{component:W.q.p},"To continue, edit your filter settings and search again.")))))};var $=r(54025),Y=r(7732),J=r(46818),X=r(87516),K=r(58016);function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const ne=function(){var e,t=(0,C.Z)(),r=(0,g.useDispatch)(),n=(0,g.useStore)(),a=(0,$.useLoadModule)({appName:"inventory",scope:"inventory",module:"./OsFilterHelpers"}),d=(0,u.Z)(a,1)[0],O=(d=void 0===d?{}:d).toGroupSelectionValue,Z=d.buildOSFilterConfig,E=(0,A.useLocation)().search,j=(0,g.useSelector)((function(e){return e.filters.selectedTags})),w=(0,g.useSelector)((function(e){return e.filters.workloads})),x=(0,g.useSelector)((function(e){return e.filters.SID})),P=(0,g.useSelector)((function(e){return e.filters.sysState})),S=(0,g.useSelector)((function(e){var t=e.entities;return(null==t?void 0:t.operatingSystems)||[]})),k=function(e){return r((0,F.pu)(e))},T=(0,U.TE)("advisor",m.Gd.export).hasAccess,N=(0,s.useState)(!0),D=(0,u.Z)(N,2),H=D[0],B=D[1],W=function(e){var t=re(re({},P),{},{offset:0});delete t[e],"hits"===e&&void 0===t.hits&&(t.hits=["yes"]),k(t)},V=function(e,t){"hits"===e&&t.length>1&&t.includes("yes")&&t.shift();var r=e===m.Ut.rhel_version.urlParam?Object.values(t||{}).flatMap((function(e){return Object.keys(e)})):t;r.length>0?k(re(re({},P),{},{offset:0},(0,c.Z)({},e,r))):W(e)},G=[{label:m.Ut.hits.title.toLowerCase(),type:m.Ut.hits.type,id:m.Ut.hits.urlParam,value:"checkbox-".concat(m.Ut.hits.urlParam),filterValues:{key:"".concat(m.Ut.hits.urlParam,"-filter"),onChange:function(e,t){return V(m.Ut.hits.urlParam,t)},value:P.hits,items:m.Ut.hits.values}},{label:m.Ut.incident.title.toLowerCase(),type:m.Ut.incident.type,id:m.Ut.incident.urlParam,value:"checkbox-".concat(m.Ut.incident.urlParam),filterValues:{key:"".concat(m.Ut.incident.urlParam,"-filter"),onChange:function(e,t){V(m.Ut.incident.urlParam,t)},value:P.incident,items:m.Ut.incident.values}}].concat((0,l.Z)(Z?[Z({label:m.Ut.rhel_version.title.toLowerCase(),type:m.Ut.rhel_version.type,id:m.Ut.rhel_version.urlParam,value:O(P.rhel_version||[]),onChange:function(e,t){return V(m.Ut.rhel_version.urlParam,t)}},S)]:[])),q={deleteTitle:t.formatMessage(_.Z.resetFilters),filters:(e=re({},P),e.hits&&e.hits.includes("yes")&&delete e.hits,delete e.sort,delete e.offset,delete e.limit,(0,b.yK)(e,m.Ut)),onDelete:function(e,t,r){r?k({sort:P.sort,limit:P.limit,offset:P.offset,hits:["all"],tags:j}):t.map((function(e){var t=(0,c.Z)({},e.urlParam,Array.isArray(P[e.urlParam])?P[e.urlParam].filter((function(t){return String(t)!==String(e.chips[0].value)})):"");t[e.urlParam].length>0?k(re(re({},P),t)):W(e.urlParam)}))}},Q=function(e){var t=e.display_name,r=e.hits,n=re(re(re({},e),t&&{display_name:t}),r&&{hits:r});(0,b.Y4)(n,j)},te=function(e){return[{title:e.formatMessage(_.Z.name),key:"display_name",transforms:[Y.p,J.WT],props:{isStatic:!0},renderFunc:function(e,t,r){return o().createElement(o().Fragment,null,o().createElement(A.Link,{key:t,to:"/systems/".concat(r.system_uuid)},"".concat(r.display_name," ")),r.incident_hits>0&&o().createElement(X.Z,{rule:{tags:"incident"}}))}},{key:"groups",requiresDefault:!0},{key:"tags"},{key:"system_profile",transforms:[Y.p,J.WT]},{title:e.formatMessage(_.Z.numberRuleHits),transforms:[Y.p,J.WT],key:"hits"},{title:e.formatMessage(_.Z.critical),transforms:[Y.p,J.WT],key:"critical_hits"},{title:e.formatMessage(_.Z.important),transforms:[Y.p,J.WT],key:"important_hits"},{title:e.formatMessage(_.Z.moderate),transforms:[Y.p,J.WT],key:"moderate_hits"},{title:e.formatMessage(_.Z.low),transforms:[Y.p,J.WT],key:"low_hits"},{key:"updated",transforms:[Y.p,J.WT],props:{width:20}}]}(t);return(0,s.useEffect)((function(){var e;if(E){var t=(0,b.yG)();t.tags=j,void 0!==t.sort&&(t.sort=t.sort[0]),void 0!==t.display_name&&(t.display_name=t.display_name[0]),void 0===t.hits&&(t.hits=["all"]),void 0===t.offset||isNaN(t.offset)?t.offset=0:t.offset=Number(t.offset[0]),void 0===t.limit||isNaN(t.limit)?t.limit=20:t.limit=Number(t.limit[0]),e=re(re({},P),t),void 0!==t.incident&&!Array.isArray(t.incident)&&(t.incident=["".concat(t.incident)]),k(e)}else void 0!==P.limit&&void 0!==P.offset&&void 0!==P.hits||(e=re(re({},P),{},{offset:0,limit:20,hits:["all"],tags:j}),k(e));B(!1),(0,b.Y4)(e,j)}),[j]),!H&&o().createElement(v.Z,{hideFilters:{all:!0,name:!1,tags:!1},initialLoading:!0,autoRefresh:!0,showTags:!0,disableDefaultColumns:!0,customFilters:{advisorFilters:P,workloads:w,SID:x,selectedTags:j},columns:function(e){return function(e,t){return t.map((function(t){var r=e.find((function(e){return e.key===t.key}));return t.requiresDefault&&void 0===r?void 0:ee(ee({},t),r)})).filter(Boolean)}(e,te)},onLoad:function(e){var t=e.mergeWithEntities,r=e.INVENTORY_ACTION_TYPES,a=e.mergeWithDetail;n.replaceReducer((0,R.U)(re(re({},t((0,L.V)([],r),{page:Number(P.offset/P.limit+1||1),perPage:Number(P.limit||20)})),a())))},getEntities:function(){var e=(0,i.Z)(p().mark((function e(t,r,n,a){var s,o,i,l,c,u,d,f,g,v,h,O,Z;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.per_page,i=r.page,l=r.orderBy,c=r.orderDirection,u=r.advisorFilters,d=r.filters,f=r.workloads,g=r.SID,v="".concat("ASC"===c?"":"-").concat(("updated"===l?"last_seen":"operating_system"===l&&"rhel_version")||l),h=(0,K.J)(u,i,o,v,null,d,j,f,g,!0),e.next=5,(0,y.dX)(m.Vo,{},h);case 5:if(e.t1=s=e.sent,e.t0=null===e.t1,e.t0){e.next=9;break}e.t0=void 0===s;case 9:if(!e.t0){e.next=13;break}e.t2=void 0,e.next=14;break;case 13:e.t2=s.data;case 14:return O=e.t2,Q(h),e.next=18,a(O.data.map((function(e){return e.system_uuid})),{per_page:o,hasItems:!0,fields:{system_profile:["operating_system"]}},n);case 18:return Z=e.sent,e.abrupt("return",Promise.resolve({results:(0,b.E9)(O.data,Z.results),total:O.meta.count}));case 20:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),tableProps:{isStickyHeader:!0,variant:f.B.compact},isFullView:!0,hasCheckbox:!1,filterConfig:{items:G},activeFiltersConfig:q,noSystemsTable:z,exportConfig:{onSelect:function(e,t){return(0,M.Z)("systems",t,P,j,w,x,r)},extraItems:[o().createElement("li",{key:"download-pd",role:"menuitem"},o().createElement(I,{filters:re({},(0,b.qW)(P))}))],isDisabled:!T,tooltipText:T?t.formatMessage(_.Z.exportData):t.formatMessage(_.Z.permsAction)},fallback:h.Z})};var ae=function(){var e=(0,C.Z)();return document.title=e.formatMessage(_.Z.documentTitle,{subnav:_.Z.systems.defaultMessage}),o().createElement(o().Fragment,null,o().createElement(n.Z,null,o().createElement(a.Z,{title:"".concat(e.formatMessage(_.Z.insightsHeader)," ").concat(e.formatMessage(_.Z.systems).toLowerCase())})),o().createElement("section",{className:"pf-l-page__main-section pf-c-page__main-section"},o().createElement(ne,null)))};ae.displayName="systems-list";const se=ae},45467:()=>{},11452:()=>{},34946:()=>{},80598:()=>{},10108:()=>{},21064:()=>{},82014:()=>{},67761:()=>{},49854:()=>{},42480:()=>{},19527:()=>{},69331:()=>{},52361:()=>{},94616:()=>{}}]);
//# sourceMappingURL=../sourcemaps/List.8c0ddcf5d7f5922e410a2f6a40139f0a.js.map