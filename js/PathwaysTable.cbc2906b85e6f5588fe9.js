"use strict";(self.webpackChunkadvisor=self.webpackChunkadvisor||[]).push([[9573],{80810:(e,t,r)=>{r.d(t,{W1:()=>n,ZP:()=>i,xQ:()=>o});var a=r(40400);const o={name:"SearchIcon",height:512,width:512,svgPath:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z",yOffset:0,xOffset:0},n=(0,a.IU)(o),i=n},44280:(e,t,r)=>{r.d(t,{Z:()=>f});var a=r(69174),o=r(45697),n=r.n(o),i=r(93264),l=r.n(i),c=r(30893),s=r(86896),u=function(e){var t=e.recLvl,r=(e.isCompact,(0,s.Z)()),o=function(e,t,r){return l().createElement(a._,{color:r,isCompact:!0},"".concat(e," - ").concat(t,"%"))};return t>=80?o(r.formatMessage(c.Z.high),t,"red"):t<80&&t>=50?o(r.formatMessage(c.Z.medium),t,"orange"):o(r.formatMessage(c.Z.low),t,"blue")};u.propTypes={props:n().array},u.defaultProps={isCompact:!0};const f=u},79930:(e,t,r)=>{r.r(t),r.d(t,{default:()=>N});var a=r(70885),o=r(4942),n=r(59303),i=r(62012),l=r(92397),c=r(44733),s=r(93264),u=r.n(s),f=r(3351),m=r(22860),d=r(6934),g=r(75863),p=r(1082),v=r(46818),y=r(86379),b=r(7732),h=r(65550),P=r(97109),Z=r(28216),_=r(52837),E=r(46891),S=r(34702),O=r(7887),k=r(2443),C=r(44280),M=r(87516),w=r(80810),x=r(40609),q=r(30893),j=r(28672),X=r(8377),W=r(86896),L=r(45697);function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var F=function(e){var t,r,L=e.isTabActive,A=(0,W.Z)(),F=(0,Z.useDispatch)(),N=(0,i.useLocation)().search,T=(0,Z.useSelector)((function(e){return e.filters.selectedTags})),I=(0,Z.useSelector)((function(e){return e.filters.workloads})),V=(0,Z.useSelector)((function(e){return e.filters.SID})),B=(0,Z.useSelector)((function(e){return e.filters.pathState})),R=function(e){return F((0,j.lW)(e))},z={};(null==T?void 0:T.length)&&(z=D(D({},z),{tags:T.join(",")})),I&&(z=D(D({},z),(0,P.s0)(I,V)));var H,G=(0,X.Lv)(D(D({},(0,P.qW)(B)),z)),K=G.data,Q=void 0===K?[]:K,U=G.isFetching,Y=G.isLoading,$=G.isError,J=[{title:A.formatMessage(q.Z.pathwaysName),transforms:[b.p,(0,p.d)(45)]},{title:A.formatMessage(q.Z.category)},{title:A.formatMessage(q.Z.systems),transforms:[b.p,(0,p.d)(10)]},{title:A.formatMessage(q.Z.reboot)},{title:A.formatMessage(q.Z.reclvl),transforms:[b.p,(0,p.d)(20),v.E0,(0,y.u)({tooltip:A.formatMessage(q.Z.reclvldetails),tooltipProps:{isContentLeftAligned:!0}})]}],ee={0:"name",2:"impacted_systems_count",4:"recommendation_level"},te=(0,s.useState)({}),re=(0,a.Z)(te,2),ae=re[0],oe=re[1],ne=(0,s.useState)(!0),ie=(0,a.Z)(ne,2),le=ie[0],ce=ie[1],se=(0,s.useState)((null==B?void 0:B.text)||""),ue=(0,a.Z)(se,2),fe=ue[0],me=ue[1],de=(0,x.Z)(fe,n.$x),ge=function(e){var t=e*B.limit-B.limit;R(D(D({},B),{},{offset:t}))},pe=function(e){var t=D(D({},B),{},{offset:0});"text"===e&&me(""),delete t[e],R(t)},ve=function(e,t){t.length>0?R(D(D({},B),{},{offset:0},(0,o.Z)({},e,t))):pe(e)},ye=[{label:A.formatMessage(q.Z.name).toLowerCase(),filterValues:{key:"text-filter",onChange:function(e,t){return me(t)},value:fe,placeholder:A.formatMessage(q.Z.filterBy)}},{label:n.W2.category.title,type:n.W2.category.type,id:n.W2.category.urlParam,value:"checkbox-".concat(n.W2.category.urlParam),filterValues:{key:"".concat(n.W2.category.urlParam,"-filter"),onChange:function(e,t){return ve(n.W2.category.urlParam,t)},value:B.category,items:n.W2.category.values}},{label:n.dX.has_incident.title,type:n.dX.has_incident.type,id:n.dX.has_incident.urlParam,value:"checkbox-".concat(n.dX.has_incident.urlParam),filterValues:{key:"".concat(n.dX.has_incident.urlParam,"-filter"),onChange:function(e,t){return ve(n.dX.has_incident.urlParam,t)},value:B.has_incident,items:n.dX.has_incident.values}},{label:n.dX.reboot_required.title,type:n.dX.reboot_required.type,id:n.dX.reboot_required.urlParam,value:"checkbox-".concat(n.dX.reboot_required.urlParam),filterValues:{key:"".concat(n.dX.reboot_required.urlParam,"-filter"),onChange:function(e,t){return ve(n.dX.reboot_required.urlParam,t)},value:B.reboot_required,items:n.dX.reboot_required.values}}],be={deleteTitle:A.formatMessage(q.Z.resetFilters),filters:(H=D({},B),delete H.sort,delete H.offset,delete H.limit,(0,P.yK)(H,D(D({},n.W2),n.dX))),onDelete:function(e,t,r){r?(me(""),R({limit:B.limit,offset:B.offset})):t.map((function(e){var t=(0,o.Z)({},e.urlParam,Array.isArray(B[e.urlParam])?B[e.urlParam].filter((function(t){return String(t)!==String(e.chips[0].value)})):"");t[e.urlParam].length>0?R(D(D({},B),t)):pe(e.urlParam)}))}};return(0,s.useEffect)((function(){le||null===T||(0,P.Y4)(B,T)}),[B,T,I,V]),(0,s.useEffect)((function(){if(L&&N&&le){var e=(0,P.yG)();delete e.tags,void 0===e.text?me(""):me(e.text),e.sort=void 0!==e.sort&&Object.values(ee).includes(null==e?void 0:e.sort[0])?e.sort[0]:"-impacted_systems_count",void 0===e.offset?e.offset=0:e.offset=Number(e.offset[0]),void 0===e.limit?e.limit=20:e.limit=Number(e.limit[0]),void 0!==e.reboot_required&&!Array.isArray(e.reboot_required)&&(e.reboot_required=["".concat(e.reboot_required)]),R(D(D({},B),e))}ce(!1)}),[]),(0,s.useEffect)((function(){if(void 0!==B.sort&&ee){var e=B.sort,t=Number(Object.entries(ee).find((function(t){return t[1]===e||"-".concat(t[1])===e}))[0]),r="-"===B.sort[0]?"desc":"asc";oe({index:t,direction:r})}}),[B.sort]),(0,s.useEffect)((function(){if(!le&&!Y){var e=D({},B),t=fe.length?{text:fe}:{};delete e.text,R(D(D(D({},e),t),{},{offset:0}))}}),[de]),u().createElement(u().Fragment,null,u().createElement(O.Z,{pagination:{itemCount:(null==Q||null===(t=Q.meta)||void 0===t?void 0:t.count)||0,page:B.offset/B.limit+1,perPage:Number(B.limit),onSetPage:function(e,t){ge(t)},onPerPageSelect:function(e,t){R(D(D({},B),{},{limit:t,offset:0}))},isCompact:!0},filterConfig:{items:ye},activeFiltersConfig:be}),U?u().createElement(E.Z,null):$?u().createElement(f.i,null,u().createElement(k.Z,null)):u().createElement(f.i,{"aria-label":"pathways-table",variant:g.B.compact,sortBy:ae,onSort:function(e,t,r){var a="".concat("asc"===r?"":"-").concat(ee[t]);oe({index:t,direction:r}),R(D(D({},B),{},{sort:a,offset:0}))},cells:J,rows:function(e){return 0===e.length?[{cells:[{title:u().createElement(S.Z,{icon:w.ZP,title:A.formatMessage(q.Z.noResults),text:A.formatMessage(q.Z.adjustFilters)}),props:{colSpan:6}}]}]:e.flatMap((function(e,t){return[{cells:[{title:u().createElement("span",{key:t},u().createElement(l.Z,{key:t,to:"/recommendations/pathways/".concat(e.slug)}," ",e.name," "),e.has_incident&&u().createElement(M.Z,{rule:{tags:"incident"},isCompact:!0}))},{title:u().createElement(_.Z,{key:t,labelList:e.categories,isCompact:!0})},{title:u().createElement("div",{key:t},"".concat(e.impacted_systems_count.toLocaleString()))},{title:u().createElement("span",{key:t},A.formatMessage(e.reboot_required?q.Z.required:q.Z.notRequired))},{title:u().createElement(C.Z,{key:t,recLvl:e.recommendation_level})}]}]}))}(null==Q?void 0:Q.data),isStickyHeader:!0},u().createElement(d.x,null),u().createElement(m.R,null)),u().createElement(h.Z,{isFooter:!0},u().createElement(c.t,{ouiaId:"page",itemCount:(null==Q||null===(r=Q.meta)||void 0===r?void 0:r.count)||0,page:B.offset/B.limit+1,perPage:Number(B.limit),onSetPage:function(e,t){ge(t)},onPerPageSelect:function(e,t){R(D(D({},B),{},{limit:t,offset:0}))},widgetId:"pagination-options-menu-bottom",variant:c.a.bottom})))};F.propTypes={isTabActive:r.n(L)().bool};const N=F}}]);