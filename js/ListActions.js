(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{597:function(e,t,a){var r=a(622),n=a(625),i=a(353),s=a(55),o=a(608);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?s(e)?n(e[0],e[1]):r(e):o(e)}},598:function(e,t,a){(e.exports=a(171)(!1)).push([e.i,"nav.pf-c-breadcrumb li {\n  text-transform: capitalize; }\n",""])},599:function(e,t,a){(e.exports=a(171)(!1)).push([e.i,".pf-c-dropdown.dropdownTotalRisk li {\n  list-style-type: none; }\n\n.pf-c-dropdown.dropdownFilters {\n  width: 100%; }\n  .pf-c-dropdown.dropdownFilters div {\n    padding: 2px; }\n\n.pf-c-dropdown__menu-item:hover {\n  background-color: inherit !important;\n  outline: inherit !important; }\n\n.pf-c-dropdown__menu-item:focus {\n  background-color: inherit !important;\n  outline: inherit !important; }\n",""])},605:function(e,t){e.exports=function(e,t){for(var a=-1,r=null==e?0:e.length,n=Array(r);++a<r;)n[a]=t(e[a],a,e);return n}},606:function(e,t,a){var r=a(77);e.exports=function(e){return e==e&&!r(e)}},607:function(e,t){e.exports=function(e,t){return function(a){return null!=a&&a[e]===t&&(void 0!==t||e in Object(a))}}},608:function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},615:function(e,t){e.exports=function(e){return function(t){return e(t)}}},616:function(e,t,a){"use strict";a.d(t,"a",function(){return u});var r=a(1),n=a.n(r),i=a(120),s=a(311),o=a(312),l=a(0),c=a.n(l);a(631);function u(e,t){var a=[];if(void 0===t||void 0===t.breadcrummbs||void 0===t.breadcrumbs[0]?a.push({title:"Actions",navigate:"/actions"}):a.push(t.breadcrumbs[0]),void 0!==e.params.id&&"Rules"!==a[0].title){var r=e.params.type.indexOf("-")>-1?"".concat(e.params.type.replace("-"," ")," Actions"):e.params.type;a.push({title:r,navigate:a[0].navigate+"/"+e.params.type})}return void 0!==e.params.inventoryId&&a.push({title:e.params.id,navigate:a[1].navigate+"/"+e.params.id}),a}var p=function(e){var t=e.items,a=e.current;return n.a.createElement(s.a,null,t.map(function(e,t){return n.a.createElement(o.a,{key:t},n.a.createElement(i.a,{to:e.navigate},e.title))}),n.a.createElement(o.a,{to:"",isActive:!0},a))};p.propTypes={items:c.a.array,current:c.a.string},t.b=p},621:function(e,t,a){var r=a(605),n=a(597),i=a(627),s=a(628),o=a(615),l=a(629),c=a(353);e.exports=function(e,t,a){var u=-1;t=r(t.length?t:[c],o(n));var p=i(e,function(e,a,n){return{criteria:r(t,function(t){return t(e)}),index:++u,value:e}});return s(p,function(e,t){return l(e,t,a)})}},622:function(e,t,a){var r=a(623),n=a(624),i=a(607);e.exports=function(e){var t=n(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(a){return a===e||r(a,e,t)}}},623:function(e,t,a){var r=a(176),n=a(231),i=1,s=2;e.exports=function(e,t,a,o){var l=a.length,c=l,u=!o;if(null==e)return!c;for(e=Object(e);l--;){var p=a[l];if(u&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++l<c;){var m=(p=a[l])[0],f=e[m],d=p[1];if(u&&p[2]){if(void 0===f&&!(m in e))return!1}else{var h=new r;if(o)var v=o(f,d,m,e,t,h);if(!(void 0===v?n(d,f,i|s,o,h):v))return!1}}return!0}},624:function(e,t,a){var r=a(606),n=a(229);e.exports=function(e){for(var t=n(e),a=t.length;a--;){var i=t[a],s=e[i];t[a]=[i,s,r(s)]}return t}},625:function(e,t,a){var r=a(231),n=a(626),i=a(366),s=a(364),o=a(606),l=a(607),c=a(177),u=1,p=2;e.exports=function(e,t){return s(e)&&o(t)?l(c(e),t):function(a){var s=n(a,e);return void 0===s&&s===t?i(a,e):r(t,s,u|p)}}},626:function(e,t,a){var r=a(363);e.exports=function(e,t,a){var n=null==e?void 0:r(e,t);return void 0===n?a:n}},627:function(e,t){e.exports=function(e,t){for(var a=-1,r=null==e?0:e.length,n=Array(r);++a<r;)n[a]=t(e[a],a,e);return n}},628:function(e,t){e.exports=function(e,t){var a=e.length;for(e.sort(t);a--;)e[a]=e[a].value;return e}},629:function(e,t,a){var r=a(630);e.exports=function(e,t,a){for(var n=-1,i=e.criteria,s=t.criteria,o=i.length,l=a.length;++n<o;){var c=r(i[n],s[n]);if(c)return n>=l?c:c*("desc"==a[n]?-1:1)}return e.index-t.index}},630:function(e,t,a){var r=a(365);e.exports=function(e,t){if(e!==t){var a=void 0!==e,n=null===e,i=e==e,s=r(e),o=void 0!==t,l=null===t,c=t==t,u=r(t);if(!l&&!u&&!s&&e>t||s&&o&&c&&!l&&!u||n&&o&&c||!a&&c||!i)return 1;if(!n&&!s&&!u&&e<t||u&&a&&i&&!n&&!s||l&&a&&i||!o&&i||!c)return-1}return 0}},631:function(e,t,a){var r=a(598);"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0},i=a(352)(r,n);r.locals&&(e.exports=r.locals),e.hot.accept(598,function(){var t=a(598);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var a,r=0;for(a in e){if(!t||e[a]!==t[a])return!1;r++}for(a in t)r--;return 0===r}(r.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");i(t)}),e.hot.dispose(function(){i()})},632:function(e,t,a){var r=a(599);"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0},i=a(352)(r,n);r.locals&&(e.exports=r.locals),e.hot.accept(599,function(){var t=a(599);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var a,r=0;for(a in e){if(!t||e[a]!==t[a])return!1;r++}for(a in t)r--;return 0===r}(r.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");i(t)}),e.hot.dispose(function(){i()})},633:function(e,t,a){(e.exports=a(171)(!1)).push([e.i,"/* stylelint-enable */\n:root {\n  --ins-color--orange: #ec7a08; }\n\n.page__actions .actions__view--title {\n  text-transform: capitalize; }\n\n.page__actions .actions__view table.rules-table th:first-child {\n  width: 50%; }\n\n.page__actions .actions__view table.rules-table td {\n  padding: var(--pf-global--spacer--lg); }\n  .page__actions .actions__view table.rules-table td:not(:first-of-type) {\n    text-align: center; }\n\n.page__actions .actions__view table.rules-table tfoot tr td:first-child {\n  padding: 0; }\n\n.actions__description {\n  margin: var(--pf-global--spacer--xl) 0; }\n\n@media only screen and (min-width: 768px) {\n  .ins-l-icon-group__vertical > *:not(:first-child) {\n    margin-top: 5px;\n    margin-top: 0.3125rem; } }\n",""])},654:function(e,t,a){"use strict";var r=a(131),n=a.n(r),i=a(125),s=a.n(i),o=a(126),l=a.n(o),c=a(127),u=a.n(c),p=a(128),m=a.n(p),f=a(129),d=a.n(f),h=a(170),v=a.n(h),g=a(104),y=a.n(g),b=a(1),E=a.n(b),S=a(325),k=a(327),_=a(326),w=a(318),F=a(328),x=a(84),A=a(85),C=a(132),P=a(603),R=a(0),T=a.n(R),j=a(354),N=a.n(j),D=a(334),I=a(310),O=a(317),B=function(e){function t(){var e,a;s()(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return a=u()(this,(e=m()(t)).call.apply(e,[this].concat(n))),y()(v()(v()(a)),"state",{checked:!1}),y()(v()(v()(a)),"handleChange",function(e){a.setState({checked:!a.state.checked}),a.props.addRemoveFilters(a.props.value,a.props.param,e)}),a}return d()(t,e),l()(t,[{key:"componentDidMount",value:function(){this.props.filters[this.props.param]&&this.props.filters[this.props.param].includes(this.props.value)?this.setState({checked:!0}):this.setState({checked:!1})}},{key:"render",value:function(){return E.a.createElement(O.a,{"aria-label":this.props.label,id:this.props.id,isChecked:this.state.checked,label:this.props.label,onChange:this.handleChange,param:this.props.param,value:this.props.value})}}]),t}(b.Component);B.propTypes={addRemoveFilters:T.a.func,className:T.a.string,currentPage:T.a.string,id:T.a.string,label:T.a.string,param:T.a.string,value:T.a.string,filters:T.a.object};var z=B,H=a(38),M=(a(632),function(e){function t(){var e,a;s()(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return a=u()(this,(e=m()(t)).call.apply(e,[this].concat(n))),y()(v()(v()(a)),"state",{isOpen:!1}),y()(v()(v()(a)),"addRemoveFilters",function(e,t,r){r?a.props.addFilter(t,e):a.props.removeFilter(t,e)}),y()(v()(v()(a)),"onToggle",function(e){a.setState({isOpen:e})}),a}return d()(t,e),l()(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.hideCategories,r=t.filters,n=this.state.isOpen;return E.a.createElement(D.a,{onSelect:this.onSelect,toggle:E.a.createElement(I.a,{onToggle:this.onToggle},"Filters"),isOpen:n},E.a.createElement("div",null,H.c.map(function(t,n){return!a.includes(t.urlParam)&&E.a.createElement("div",{key:"".concat(t.urlParam).concat(n),className:"filterTitle"},t.title,t.values.map(function(a,i){return E.a.createElement(z,{key:"check".concat(n).concat(i),"aria-label":a.label,id:"".concat(t.urlParam).concat(i),label:a.label,addRemoveFilters:e.addRemoveFilters,param:t.urlParam,value:a.value,filters:r})}),3!==n&&E.a.createElement("br",null))})))}}]),t}(b.Component));M.propTypes={addFilter:T.a.func,removeFilter:T.a.func,hideCategories:T.a.array,filters:T.a.object},M.defaultProps={hideCategories:[]};var L=M,U=function(e){function t(){var e,a;s()(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return a=u()(this,(e=m()(t)).call.apply(e,[this].concat(i))),y()(v()(v()(a)),"changeSearchValue",N()(function(e){a.props.setFilters(n()({},a.props.filters,{text:e})),a.props.fetchAction(n()({},a.props.filters,{text:e}))},800)),y()(v()(v()(a)),"addFilter",function(e,t){var r=a.props.filters[e]?y()({},e,"".concat(a.props.filters[e],", ").concat(t)):y()({},e,t);a.props.setFilters(n()({},a.props.filters,r)),a.props.fetchAction(n()({},a.props.filters,r))}),y()(v()(v()(a)),"removeFilter",function(e,t){var r=y()({},e,a.props.filters[e].split(",").filter(function(e){return e!==t}).join(","));if(r[e].length)a.props.setFilters(n()({},a.props.filters,r)),a.props.fetchAction(n()({},a.props.filters,r));else{var i=n()({},a.props.filters);delete i[e],a.props.setFilters(i),a.props.fetchAction(i)}}),a}return d()(t,e),l()(t,[{key:"componentWillUnmount",value:function(){this.props.setFilters({})}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.searchPlaceholder,r=e.filters,n=e.resultsCount,i=e.hideCategories;return E.a.createElement(S.a,{className:"pf-u-justify-content-space-between pf-u-ml-xl pf-u-my-md"},E.a.createElement(k.a,null,E.a.createElement(_.a,{className:"pf-u-mr-xl"},E.a.createElement(w.a,{"aria-label":"Search",onChange:this.changeSearchValue,type:"search",value:void 0,placeholder:a})),E.a.createElement(_.a,{className:"pf-u-mr-md"},E.a.createElement(L,{filters:r,addFilter:this.addFilter,removeFilter:this.removeFilter,hideCategories:i}))),E.a.createElement(k.a,null,E.a.createElement(_.a,null,t)),E.a.createElement(F.a,{"aria-label":"toolbar-results"},E.a.createElement(k.a,null,E.a.createElement(_.a,null,void 0===n&&"Loading...",void 0!==n&&"".concat(n," result").concat(1!==n?"s":"")))))}}]),t}(b.Component);U.propTypes={children:T.a.any,hideCategories:T.a.array,resultsCount:T.a.number,searchPlaceholder:T.a.string,filters:T.a.object,setFilters:T.a.func,fetchAction:T.a.func};t.a=Object(x.routerParams)(Object(A.connect)(function(e,t){return n()({filters:e.AdvisorStore.filters},t)},function(e){return Object(C.a)({setFilters:function(e){return P.f(e)}},e)})(U))},663:function(e,t,a){"use strict";var r=a(1),n=a.n(r),i=a(313),s=a(316),o=a(314),l=a(244),c=a(0),u=a.n(c),p=function(e){var t=e.message;return n.a.createElement(n.a.Fragment,null,n.a.createElement(i.a,{className:"ins-empty-rule-cards"},n.a.createElement(s.a,null,n.a.createElement(l.a,{size:"lg"})),n.a.createElement(o.a,null,t)))};t.a=p,p.propTypes={message:u.a.string}},664:function(e,t,a){var r=a(633);"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0},i=a(352)(r,n);r.locals&&(e.exports=r.locals),e.hot.accept(633,function(){var t=a(633);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var a,r=0;for(a in e){if(!t||e[a]!==t[a])return!1;r++}for(a in t)r--;return 0===r}(r.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");i(t)}),e.hot.dispose(function(){i()})},726:function(e,t,a){"use strict";a.r(t);var r=a(131),n=a.n(r),i=a(125),s=a.n(i),o=a(126),l=a.n(o),c=a(127),u=a.n(c),p=a(128),m=a.n(p),f=a(129),d=a.n(f),h=a(170),v=a.n(h),g=a(104),y=a.n(g),b=a(727),E=a.n(b),S=a(354),k=a.n(S),_=a(1),w=a.n(_),F=a(120),x=a(84),A=a(0),C=a.n(A),P=a(85),R=a(323),T=a(324),j=a(603),N=a(601),D=a(663),I=a(616),O=a(38),B=a(654),z=(a(664),function(e){function t(){var e,a;s()(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return a=u()(this,(e=m()(t)).call.apply(e,[this].concat(i))),y()(v()(v()(a)),"state",{summary:"",cols:["Rule","Likelihood","Impact","Total Risk","Systems Exposed","Ansible"],rows:[],sortBy:{},localFilters:{},impacting:!0,pageSize:10,page:1}),y()(v()(v()(a)),"toggleCol",function(e,t,r){var i=a.state,s=i.rows,o=i.page,l=i.pageSize;s[(1===o?0:o*l-l)+t].selected=r,a.setState(n()({},a.state,{rows:s}))}),y()(v()(v()(a)),"onSortChange",function(e,t,r){var i=E()(a.state.rows,[function(e){return e.cells[t]}]);a.setState(n()({},a.state,{rows:x.SortDirection.up===r?i:i.reverse(),sortBy:{index:t,direction:r}}))}),y()(v()(v()(a)),"setPage",function(e,t){t?a.setState(function(){return{page:e}},k()(function(){return a.setPage(e)},800)):(a.setState({page:e}),a.props.fetchRules(n()({},a.props.filters,{page:e,page_size:a.state.pageSize,impacting:a.state.impacting},a.state.localFilters)))}),y()(v()(v()(a)),"setPerPage",function(e){a.setState({pageSize:e}),a.props.fetchRules(n()({},a.props.filters,{page:1,page_size:e,impacting:a.state.impacting},a.state.localFilters))}),y()(v()(v()(a)),"parseUrlTitle",function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("-");return e.length>1?"".concat(e[0]," ").concat(e[1]," Actions"):"".concat(e)}),a}return d()(t,e),l()(t,[{key:"componentDidMount",value:function(){var e={page:this.state.page,page_size:this.state.pageSize,impacting:this.state.impacting};if(this.props.match.params.type.includes("-risk")){var t=O.h[this.props.match.params.type];this.setState({localFilters:{total_risk:t}}),e.total_risk=t}else this.setState({localFilters:{category:O.f[this.props.match.params.type]}}),e.category=O.f[this.props.match.params.type];this.props.fetchRules(e)}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.rules!==e.rules){var a=this.props.rules.results;this.setState({summary:this.props.rules.summary});var r=a.map(function(e,a){return{cells:[w.a.createElement(F.a,{key:a,to:"/actions/".concat(t.props.match.params.type,"/").concat(e.rule_id)},e.description),w.a.createElement(x.Battery,{key:a,label:"Likelihood",labelHidden:!0,severity:e.likelihood}),w.a.createElement(x.Battery,{key:a,label:"Impact",labelHidden:!0,severity:e.impact.impact}),w.a.createElement(x.Battery,{key:a,label:"Total Risk",labelHidden:!0,severity:e.total_risk}),w.a.createElement("div",{key:a},e.impacted_systems_count),w.a.createElement(x.Ansible,{key:a,unsupported:!e.has_playbook})]}});this.setState({rows:r})}}},{key:"render",value:function(){var e=this,t=this.props,a=t.rulesFetchStatus,r=t.rules,i=t.breadcrumbs,s=this.state,o=s.localFilters,l=s.pageSize,c=s.page,u=s.impacting;return w.a.createElement(w.a.Fragment,null,w.a.createElement(x.PageHeader,null,w.a.createElement(I.b,{current:this.parseUrlTitle(this.props.match.params.type),items:Object(I.a)(this.props.match,{breadcrumbs:i})}),w.a.createElement(x.PageHeaderTitle,{className:"actions__view--title",title:this.parseUrlTitle(this.props.match.params.type)})),w.a.createElement(x.Main,null,w.a.createElement(R.a,{gutter:"md"},w.a.createElement(T.a,null,w.a.createElement("p",null,this.state.summary)),w.a.createElement(T.a,{className:"advisor-l-actions__filters"},w.a.createElement(B.a,{fetchAction:function(t){return e.props.fetchRules(n()({},t,{pageSize:l,page:c,impacting:u},o))},searchPlaceholder:"Find a Rule",resultsCount:r.count,hideCategories:o.total_risk?["total_risk"]:["category"]})),"fulfilled"===a&&w.a.createElement(T.a,{className:"advisor-l-actions__table"},w.a.createElement(x.Table,{className:"rules-table",onItemSelect:this.toggleCol,hasCheckbox:!1,header:this.state.cols,sortBy:this.state.sortBy,rows:this.state.rows,onSort:this.onSortChange,footer:w.a.createElement(x.Pagination,{numberOfItems:r.count,onPerPageSelect:this.setPerPage,page:c,onSetPage:this.setPage,itemsPerPage:l})})),"pending"===a&&w.a.createElement(N.a,null),"failed"===a&&w.a.createElement(D.a,{message:"There was an error fetching rules list."}))))}}]),t}(_.Component));z.propTypes={breadcrumbs:C.a.array,fetchRules:C.a.func,match:C.a.any,rulesFetchStatus:C.a.string,rules:C.a.object,filters:C.a.object};t.default=Object(x.routerParams)(Object(P.connect)(function(e,t){return n()({breadcrumbs:e.AdvisorStore.breadcrumbs,rules:e.AdvisorStore.rules,rulesFetchStatus:e.AdvisorStore.rulesFetchStatus,filters:e.AdvisorStore.filters},t)},function(e){return{fetchRules:function(t){return e(j.b(t))}}})(z))},727:function(e,t,a){var r=a(370),n=a(621),i=a(357),s=a(358),o=i(function(e,t){if(null==e)return[];var a=t.length;return a>1&&s(e,t[0],t[1])?t=[]:a>2&&s(t[0],t[1],t[2])&&(t=[t[0]]),n(e,r(t,1),[])});e.exports=o},879:function(e,t,a){"use strict";a.r(t);var r,n=a(131),i=a.n(n),s=a(172),o=a.n(s),l=a(230),c=a.n(l),u=a(125),p=a.n(u),m=a(126),f=a.n(m),d=a(127),h=a.n(d),v=a(128),g=a.n(v),y=a(129),b=a.n(y),E=a(170),S=a.n(E),k=a(104),_=a.n(k),w=a(1),F=a.n(w),x=a(84),A=a(85),C=a(0),P=a.n(C),R=a(323),T=a(324),j=a(319),N=a(320),D=a(313),I=a(316),O=a(314),B=a(616),z=a(121),H=a(665),M=a.n(H),L=a(603),U=a(38),K=a(601),W=a(663),q=a(130),J=a(228),V=a(37),G=a(151),Q=Object(x.registry)()(r=function(e){function t(){var e,a;p()(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return a=h()(this,(e=g()(t)).call.apply(e,[this].concat(n))),_()(S()(S()(a)),"state",{Inventory:function(){return F.a.createElement(K.a,null)}}),a}return b()(t,e),f()(t,[{key:"componentWillMount",value:function(){this.fetchInventory()}},{key:"fetchInventory",value:function(){var e=c()(o.a.mark(function e(){var t,a,r,n,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.items,e.next=3,{PaginationRow:G.a};case 3:return a=e.sent,e.next=6,insights.loadInventory({react:F.a,pfReact:a,reactRouterDom:q,reactCore:J,reactIcons:V});case 6:r=e.sent,n=r.inventoryConnector,s=r.mergeWithEntities,this.getRegistry().register(i()({},s())),this.setState({Inventory:n().InventoryTable,items:t});case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.Inventory,a=e.items;return F.a.createElement(t,{items:a})}}]),t}(F.a.Component))||r;Q.propTypes={items:P.a.array};var X=Q,Y=(a(664),a(656)),Z=function(e){function t(){var e,a;p()(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return a=h()(this,(e=g()(t)).call.apply(e,[this].concat(n))),_()(S()(S()(a)),"state",{kbaDetails:{},kbaDetailsLoading:!1}),_()(S()(S()(a)),"getSelectedItems",function(){return a.props.entities&&a.props.entities.loaded?a.props.entities.rows.filter(function(e){return e.selected}).map(function(e){return e.id}):[]}),_()(S()(S()(a)),"remediationDataProvider",function(){return{issues:[{id:"advisor:".concat(a.props.rule.rule_id),description:a.props.rule.description}],systems:a.getSelectedItems()}}),_()(S()(S()(a)),"onRemediationCreated",function(e){a.props.addNotification(e.getNotification())}),a}return b()(t,e),f()(t,[{key:"componentDidMount",value:function(){this.props.fetchRule({rule_id:this.props.match.params.id}),this.props.fetchSystem({rule_id:this.props.match.params.id})}},{key:"componentDidUpdate",value:function(){"fulfilled"!==this.props.ruleFetchStatus||this.state.kbaDetailsLoading||(this.setState({kbaDetailsLoading:!0}),this.fetchKbaDetails())}},{key:"fetchKbaDetails",value:function(){var e=c()(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.a.get("/rs/search?q=id:".concat(this.props.rule.node_id));case 3:t=e.sent.data.response.docs[0],this.setState({kbaDetails:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.props.addNotification({variant:"danger",dismissable:!0,title:"",description:"KBA fetch failed."});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.breadcrumbs,a=e.ruleFetchStatus,r=e.rule,n=e.systemFetchStatus,i=e.system,s=this.state.kbaDetails;return F.a.createElement(F.a.Fragment,null,F.a.createElement(x.PageHeader,null,F.a.createElement(B.b,{current:r.description||"",items:Object(B.a)(this.props.match,{breadcrumbs:t})}),F.a.createElement(x.PageHeaderTitle,{title:r.description||""})),F.a.createElement(x.Main,{className:"actions__list"},F.a.createElement(F.a.Fragment,null,"fulfilled"===a&&F.a.createElement(R.a,{gutter:"md"},F.a.createElement(T.a,null,F.a.createElement(j.a,{gutter:"md"},F.a.createElement(N.a,{md:8,sm:12},F.a.createElement(j.a,null,F.a.createElement(N.a,{className:"actions__description"},"string"==typeof r.summary&&Boolean(r.summary)&&F.a.createElement(M.a,{source:r.summary,escapeHtml:!1})),s.view_uri&&F.a.createElement(N.a,null,F.a.createElement("a",{href:s.view_uri},"Knowledgebase Article")),F.a.createElement(N.a,null,"Published: ","".concat(new Date(r.publish_date).toLocaleDateString())),F.a.createElement(N.a,null,"Tags: ","".concat(r.tags||"Not available")))),F.a.createElement(N.a,{md:4,sm:12},F.a.createElement(j.a,{gutter:"sm",className:"actions__detail"},F.a.createElement(N.a,{sm:12,md:12}," ",F.a.createElement(x.Ansible,{unsupported:!r.has_playbook})," "),F.a.createElement(N.a,{sm:8,md:12},F.a.createElement(j.a,{className:"ins-l-icon-group__vertical",sm:4,md:12},F.a.createElement(N.a,null," ",F.a.createElement(x.Battery,{label:"Impact",severity:r.impact.impact})," "),F.a.createElement(N.a,null," ",F.a.createElement(x.Battery,{label:"Likelihood",severity:r.likelihood})," "),F.a.createElement(N.a,null," ",F.a.createElement(x.Battery,{label:"Total Risk",severity:r.total_risk})," "))),F.a.createElement(N.a,{sm:4,md:12},F.a.createElement(x.Battery,{label:"Risk Of Change",severity:r.resolution_set.find(function(e){return e.system_type===U.m.rhel}).resolution_risk.risk})),r.has_playbook&&F.a.createElement(N.a,null,F.a.createElement(x.RemediationButton,{isDisabled:0===this.getSelectedItems().length,dataProvider:this.remediationDataProvider,onRemediationCreated:this.onRemediationCreated})))))),F.a.createElement(T.a,null,F.a.createElement(D.a,null,F.a.createElement(I.a,null,F.a.createElement("strong",null,"Affected Hosts")),F.a.createElement(O.a,null,"fulfilled"===n&&F.a.createElement(X,{items:i.host_ids}),"pending"===n&&F.a.createElement(K.a,null))))),"pending"===a&&F.a.createElement(K.a,null),"failed"===a&&F.a.createElement(W.a,{message:"There was an error fetching rules list."}))))}}]),t}(w.Component);Z.propTypes={breadcrumbs:P.a.array,match:P.a.any,fetchRule:P.a.func,ruleFetchStatus:P.a.string,rule:P.a.object,fetchSystem:P.a.func,systemFetchStatus:P.a.string,system:P.a.object,entities:P.a.any,addNotification:P.a.func.isRequired};t.default=Object(x.routerParams)(Object(A.connect)(function(e,t){return i()({rule:e.AdvisorStore.rule,ruleFetchStatus:e.AdvisorStore.ruleFetchStatus,breadcrumbs:e.AdvisorStore.breadcrumbs,system:e.AdvisorStore.system,systemFetchStatus:e.AdvisorStore.systemFetchStatus,entities:e.entities},e,t)},function(e){return{fetchRule:function(t){return e(L.a(t))},fetchSystem:function(t){return e(L.d(t))},addNotification:function(t){return e(Object(z.addNotification)(t))}}})(Z))}}]);
//# sourceMappingURL=../sourcemaps/ListActions.js.map