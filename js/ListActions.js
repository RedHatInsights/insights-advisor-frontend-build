(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{585:function(e,t,a){var n=a(609),r=a(612),i=a(342),s=a(52),o=a(594);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?s(e)?r(e[0],e[1]):n(e):o(e)}},586:function(e,t,a){(e.exports=a(165)(!1)).push([e.i,"nav.pf-c-breadcrumb li {\n  text-transform: capitalize; }\n",""])},591:function(e,t){e.exports=function(e,t){for(var a=-1,n=null==e?0:e.length,r=Array(n);++a<n;)r[a]=t(e[a],a,e);return r}},592:function(e,t,a){var n=a(74);e.exports=function(e){return e==e&&!n(e)}},593:function(e,t){e.exports=function(e,t){return function(a){return null!=a&&a[e]===t&&(void 0!==t||e in Object(a))}}},594:function(e,t,a){var n=a(614),r=a(615),i=a(344),s=a(167);e.exports=function(e){return i(e)?n(s(e)):r(e)}},602:function(e,t){e.exports=function(e){return function(t){return e(t)}}},603:function(e,t,a){"use strict";a.d(t,"a",function(){return u});var n=a(1),r=a.n(n),i=a(116),s=a(306),o=a(307),c=a(0),l=a.n(c);a(620);function u(e,t){var a=[];if(void 0===t||void 0===t.breadcrummbs||void 0===t.breadcrumbs[0]?a.push({title:"Actions",navigate:"/actions"}):a.push(t.breadcrumbs[0]),void 0!==e.params.id&&"Rules"!==a[0].title){var n=e.params.type.indexOf("-")>-1?"".concat(e.params.type.replace("-"," ")," Actions"):e.params.type;a.push({title:n,navigate:a[0].navigate+"/"+e.params.type})}return void 0!==e.params.inventoryId&&a.push({title:e.params.id,navigate:a[1].navigate+"/"+e.params.id}),a}var m=function(e){var t=e.items,a=e.current;return r.a.createElement(s.a,null,t.map(function(e,t){return r.a.createElement(o.a,{key:t},r.a.createElement(i.a,{to:e.navigate},e.title))}),r.a.createElement(o.a,{to:"",isActive:!0},a))};m.propTypes={items:l.a.array,current:l.a.string},t.b=m},608:function(e,t,a){var n=a(591),r=a(585),i=a(616),s=a(617),o=a(602),c=a(618),l=a(342);e.exports=function(e,t,a){var u=-1;t=n(t.length?t:[l],o(r));var m=i(e,function(e,a,r){return{criteria:n(t,function(t){return t(e)}),index:++u,value:e}});return s(m,function(e,t){return c(e,t,a)})}},609:function(e,t,a){var n=a(610),r=a(611),i=a(593);e.exports=function(e){var t=r(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(a){return a===e||n(a,e,t)}}},610:function(e,t,a){var n=a(172),r=a(225),i=1,s=2;e.exports=function(e,t,a,o){var c=a.length,l=c,u=!o;if(null==e)return!l;for(e=Object(e);c--;){var m=a[c];if(u&&m[2]?m[1]!==e[m[0]]:!(m[0]in e))return!1}for(;++c<l;){var p=(m=a[c])[0],f=e[p],d=m[1];if(u&&m[2]){if(void 0===f&&!(p in e))return!1}else{var h=new n;if(o)var v=o(f,d,p,e,t,h);if(!(void 0===v?r(d,f,i|s,o,h):v))return!1}}return!0}},611:function(e,t,a){var n=a(592),r=a(223);e.exports=function(e){for(var t=r(e),a=t.length;a--;){var i=t[a],s=e[i];t[a]=[i,s,n(s)]}return t}},612:function(e,t,a){var n=a(225),r=a(613),i=a(354),s=a(344),o=a(592),c=a(593),l=a(167),u=1,m=2;e.exports=function(e,t){return s(e)&&o(t)?c(l(e),t):function(a){var s=r(a,e);return void 0===s&&s===t?i(a,e):n(t,s,u|m)}}},613:function(e,t,a){var n=a(343);e.exports=function(e,t,a){var r=null==e?void 0:n(e,t);return void 0===r?a:r}},614:function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},615:function(e,t,a){var n=a(343);e.exports=function(e){return function(t){return n(t,e)}}},616:function(e,t){e.exports=function(e,t){for(var a=-1,n=null==e?0:e.length,r=Array(n);++a<n;)r[a]=t(e[a],a,e);return r}},617:function(e,t){e.exports=function(e,t){var a=e.length;for(e.sort(t);a--;)e[a]=e[a].value;return e}},618:function(e,t,a){var n=a(619);e.exports=function(e,t,a){for(var r=-1,i=e.criteria,s=t.criteria,o=i.length,c=a.length;++r<o;){var l=n(i[r],s[r]);if(l)return r>=c?l:l*("desc"==a[r]?-1:1)}return e.index-t.index}},619:function(e,t,a){var n=a(226);e.exports=function(e,t){if(e!==t){var a=void 0!==e,r=null===e,i=e==e,s=n(e),o=void 0!==t,c=null===t,l=t==t,u=n(t);if(!c&&!u&&!s&&e>t||s&&o&&l&&!c&&!u||r&&o&&l||!a&&l||!i)return 1;if(!r&&!s&&!u&&e<t||u&&a&&i&&!r&&!s||c&&a&&i||!o&&i||!l)return-1}return 0}},620:function(e,t,a){var n=a(586);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0},i=a(341)(n,r);n.locals&&(e.exports=n.locals),e.hot.accept(586,function(){var t=a(586);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var a,n=0;for(a in e){if(!t||e[a]!==t[a])return!1;n++}for(a in t)n--;return 0===n}(n.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");i(t)}),e.hot.dispose(function(){i()})},621:function(e,t,a){(e.exports=a(165)(!1)).push([e.i,"/* stylelint-enable */\n:root {\n  --ins-color--orange: #ec7a08; }\n\n.page__actions .actions__view--title {\n  text-transform: capitalize; }\n\n.page__actions .actions__view table.rules-table th:first-child {\n  width: 50%; }\n\n.page__actions .actions__view table.rules-table td {\n  padding: var(--pf-global--spacer--lg); }\n  .page__actions .actions__view table.rules-table td:not(:first-of-type) {\n    text-align: center; }\n\n.page__actions .actions__view table.rules-table tfoot tr td:first-child {\n  padding: 0; }\n\n.actions__description {\n  margin: var(--pf-global--spacer--xl) 0; }\n\n@media only screen and (min-width: 768px) {\n  .ins-l-icon-group__vertical > *:not(:first-child) {\n    margin-top: 5px;\n    margin-top: 0.3125rem; } }\n",""])},650:function(e,t,a){"use strict";var n=a(1),r=a.n(n),i=a(308),s=a(311),o=a(309),c=a(240),l=a(0),u=a.n(l),m=function(e){var t=e.message;return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{className:"ins-empty-rule-cards"},r.a.createElement(s.a,null,r.a.createElement(c.a,{size:"lg"})),r.a.createElement(o.a,null,t)))};t.a=m,m.propTypes={message:u.a.string}},651:function(e,t,a){var n=a(621);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0},i=a(341)(n,r);n.locals&&(e.exports=n.locals),e.hot.accept(621,function(){var t=a(621);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var a,n=0;for(a in e){if(!t||e[a]!==t[a])return!1;n++}for(a in t)n--;return 0===n}(n.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");i(t)}),e.hot.dispose(function(){i()})},713:function(e,t,a){"use strict";a.r(t);var n=a(127),r=a.n(n),i=a(122),s=a.n(i),o=a(123),c=a.n(o),l=a(124),u=a.n(l),m=a(125),p=a.n(m),f=a(126),d=a.n(f),h=a(166),v=a.n(h),g=a(100),y=a.n(g),b=a(714),E=a.n(b),_=a(350),S=a.n(_),k=a(1),w=a.n(k),x=a(116),P=a(81),R=a(0),A=a.n(R),C=a(82),I=a(317),D=a(318),F=a(601),T=a(588),N=a(650),B=a(603),j=a(37),O=(a(651),function(e){function t(e){var a;return s()(this,t),a=u()(this,p()(t).call(this,e)),y()(v()(v()(a)),"setPage",function(e,t){t?a.setState(function(){return{page:e}},S()(function(){return a.setPage(e)},800)):(a.setState(function(){return{page:e}}),a.props.fetchRules({page:a.state.page,page_size:a.state.itemsPerPage,impacting:!0}))}),a.state={summary:"",cols:["Rule","Likelihood","Impact","Total Risk","Systems Exposed","Ansible"],rows:[],sortBy:{},filters:{},itemsPerPage:10,page:1,things:[]},a.onSortChange=a.onSortChange.bind(v()(v()(a))),a.toggleCol=a.toggleCol.bind(v()(v()(a))),a.setPage=a.setPage.bind(v()(v()(a))),a.setPerPage=a.setPerPage.bind(v()(v()(a))),a}return d()(t,e),c()(t,[{key:"componentDidMount",value:function(){document.getElementById("root").classList.add("actions__view");var e={page_size:this.state.itemsPerPage,impacting:!0};if(this.props.match.params.type.includes("-risk")){var t=j.f[this.props.match.params.type];this.setState({filters:{total_risk:t}}),e.total_risk=t}else this.setState({filters:{category:j.d[this.props.match.params.type]}}),e.category=j.d[this.props.match.params.type];this.props.fetchRules(e)}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.rules!==e.rules){var a=this.props.rules.results;this.setState({summary:this.props.rules.summary});var n=a.map(function(e,a){return{cells:[w.a.createElement(x.a,{key:a,to:"/actions/".concat(t.props.match.params.type,"/").concat(e.rule_id)},e.description),w.a.createElement(P.Battery,{key:a,label:"Likelihood",labelHidden:!0,severity:e.likelihood}),w.a.createElement(P.Battery,{key:a,label:"Impact",labelHidden:!0,severity:e.impact.impact}),w.a.createElement(P.Battery,{key:a,label:"Total Risk",labelHidden:!0,severity:e.total_risk}),w.a.createElement("div",{key:a},e.impacted_systems_count),w.a.createElement(P.Ansible,{key:a,unsupported:!e.has_playbook})]}});this.setState({rows:n})}}},{key:"toggleCol",value:function(e,t,a){var n=this.state,i=n.rows,s=n.page,o=n.itemsPerPage;i[(1===s?0:s*o-o)+t].selected=a,this.setState(r()({},this.state,{rows:i}))}},{key:"onSortChange",value:function(e,t,a){var n=E()(this.state.rows,[function(e){return e.cells[t]}]);this.setState(r()({},this.state,{rows:P.SortDirection.up===a?n:n.reverse(),sortBy:{index:t,direction:a}}))}},{key:"setPerPage",value:function(e){this.setState(function(){return{itemsPerPage:e}}),this.props.fetchRules(r()({page_size:e},this.state.filters))}},{key:"parseUrlTitle",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("-");return e.length>1?"".concat(e[0]," ").concat(e[1]," Actions"):"".concat(e)}},{key:"render",value:function(){var e=this.props,t=e.rulesFetchStatus,a=e.rules,n=e.breadcrumbs;return w.a.createElement(w.a.Fragment,null,w.a.createElement(P.PageHeader,null,w.a.createElement(B.b,{current:this.parseUrlTitle(this.props.match.params.type),items:Object(B.a)(this.props.match,{breadcrumbs:n})}),w.a.createElement(P.PageHeaderTitle,{className:"actions__view--title",title:this.parseUrlTitle(this.props.match.params.type)})),w.a.createElement(P.Main,null,w.a.createElement(I.a,{gutter:"md"},w.a.createElement(D.a,null,w.a.createElement("p",null,this.state.summary)),w.a.createElement(D.a,{className:"advisor-l-actions__filters"},"Filters"),"fulfilled"===t&&w.a.createElement(D.a,{className:"advisor-l-actions__table"},w.a.createElement(P.Table,{className:"rules-table",onItemSelect:this.toggleCol,hasCheckbox:!1,header:this.state.cols,sortBy:this.state.sortBy,rows:this.state.rows,onSort:this.onSortChange,footer:w.a.createElement(P.Pagination,{numberOfItems:a.count,onPerPageSelect:this.setPerPage,page:this.state.page,onSetPage:this.setPage,itemsPerPage:this.state.itemsPerPage})})),"pending"===t&&w.a.createElement(T.a,null),"failed"===t&&w.a.createElement(N.a,{message:"There was an error fetching rules list."}))))}}]),t}(k.Component));O.propTypes={breadcrumbs:A.a.array,fetchRules:A.a.func,match:A.a.any,rulesFetchStatus:A.a.string,rules:A.a.object};t.default=Object(P.routerParams)(Object(C.connect)(function(e,t){return r()({breadcrumbs:e.AdvisorStore.breadcrumbs,rules:e.AdvisorStore.rules,rulesFetchStatus:e.AdvisorStore.rulesFetchStatus},t)},function(e){return{fetchRules:function(t){return e(F.b(t))}}})(O))},714:function(e,t,a){var n=a(358),r=a(608),i=a(347),s=a(348),o=i(function(e,t){if(null==e)return[];var a=t.length;return a>1&&s(e,t[0],t[1])?t=[]:a>2&&s(t[0],t[1],t[2])&&(t=[t[0]]),r(e,n(t,1),[])});e.exports=o},867:function(e,t,a){"use strict";a.r(t);var n,r=a(127),i=a.n(r),s=a(168),o=a.n(s),c=a(224),l=a.n(c),u=a(122),m=a.n(u),p=a(123),f=a.n(p),d=a(124),h=a.n(d),v=a(125),g=a.n(v),y=a(126),b=a.n(y),E=a(166),_=a.n(E),S=a(100),k=a.n(S),w=a(1),x=a.n(w),P=a(81),R=a(82),A=a(0),C=a.n(A),I=a(317),D=a(318),F=a(313),T=a(314),N=a(308),B=a(311),j=a(309),O=a(603),H=a(117),L=a(652),M=a.n(L),z=a(601),U=a(37),K=a(588),q=a(650),J=a(121),W=a(222),G=a(34),Q=a(147),V=Object(P.registry)()(n=function(e){function t(){var e,a;m()(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=h()(this,(e=g()(t)).call.apply(e,[this].concat(r))),k()(_()(_()(a)),"state",{Inventory:function(){return x.a.createElement(K.a,null)}}),a}return b()(t,e),f()(t,[{key:"componentWillMount",value:function(){this.fetchInventory()}},{key:"fetchInventory",value:function(){var e=l()(o.a.mark(function e(){var t,a,n,r,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.items,e.next=3,{PaginationRow:Q.a};case 3:return a=e.sent,e.next=6,insights.loadInventory({react:x.a,pfReact:a,reactRouterDom:J,reactCore:W,reactIcons:G});case 6:n=e.sent,r=n.inventoryConnector,s=n.mergeWithEntities,this.getRegistry().register(i()({},s())),this.setState({Inventory:r().InventoryTable,items:t});case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.Inventory,a=e.items;return x.a.createElement(t,{items:a})}}]),t}(x.a.Component))||n;V.propTypes={items:C.a.array};var X=V,Y=(a(651),a(643)),Z=function(e){function t(){var e,a;m()(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=h()(this,(e=g()(t)).call.apply(e,[this].concat(r))),k()(_()(_()(a)),"state",{kbaDetails:{},kbaDetailsLoading:!1}),k()(_()(_()(a)),"getSelectedItems",function(){return a.props.entities&&a.props.entities.loaded?a.props.entities.rows.filter(function(e){return e.selected}).map(function(e){return e.id}):[]}),k()(_()(_()(a)),"remediationDataProvider",function(){return{issues:[{id:"advisor:".concat(a.props.rule.rule_id),description:a.props.rule.description}],systems:a.getSelectedItems()}}),k()(_()(_()(a)),"onRemediationCreated",function(e){a.props.addNotification(e.getNotification())}),a}return b()(t,e),f()(t,[{key:"componentDidMount",value:function(){this.props.fetchRule({rule_id:this.props.match.params.id}),this.props.fetchSystem({rule_id:this.props.match.params.id})}},{key:"componentDidUpdate",value:function(){"fulfilled"!==this.props.ruleFetchStatus||this.state.kbaDetailsLoading||(this.setState({kbaDetailsLoading:!0}),this.fetchKbaDetails())}},{key:"fetchKbaDetails",value:function(){var e=l()(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.a.get("/rs/search?q=id:".concat(this.props.rule.node_id));case 3:t=e.sent.data.response.docs[0],this.setState({kbaDetails:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.props.addNotification({variant:"danger",dismissable:!0,title:"",description:"KBA fetch failed."});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.breadcrumbs,a=e.ruleFetchStatus,n=e.rule,r=e.systemFetchStatus,i=e.system,s=this.state.kbaDetails;return x.a.createElement(x.a.Fragment,null,x.a.createElement(P.PageHeader,null,x.a.createElement(O.b,{current:n.description||"",items:Object(O.a)(this.props.match,{breadcrumbs:t})}),x.a.createElement(P.PageHeaderTitle,{title:n.description||""})),x.a.createElement(P.Main,{className:"actions__list"},x.a.createElement(x.a.Fragment,null,"fulfilled"===a&&x.a.createElement(I.a,{gutter:"md"},x.a.createElement(D.a,null,x.a.createElement(F.a,{gutter:"md"},x.a.createElement(T.a,{md:8,sm:12},x.a.createElement(F.a,null,x.a.createElement(T.a,{className:"actions__description"},"string"==typeof n.summary&&Boolean(n.summary)&&x.a.createElement(M.a,{source:n.summary,escapeHtml:!1})),s.view_uri&&x.a.createElement(T.a,null,x.a.createElement("a",{href:s.view_uri},"Knowledgebase Article")),x.a.createElement(T.a,null,"Published: ","".concat(new Date(n.publish_date).toLocaleDateString())),x.a.createElement(T.a,null,"Tags: ","".concat(n.tags||"Not available")))),x.a.createElement(T.a,{md:4,sm:12},x.a.createElement(F.a,{gutter:"sm",className:"actions__detail"},x.a.createElement(T.a,{sm:12,md:12}," ",x.a.createElement(P.Ansible,{unsupported:!n.has_playbook})," "),x.a.createElement(T.a,{sm:8,md:12},x.a.createElement(F.a,{className:"ins-l-icon-group__vertical",sm:4,md:12},x.a.createElement(T.a,null," ",x.a.createElement(P.Battery,{label:"Impact",severity:n.impact.impact})," "),x.a.createElement(T.a,null," ",x.a.createElement(P.Battery,{label:"Likelihood",severity:n.likelihood})," "),x.a.createElement(T.a,null," ",x.a.createElement(P.Battery,{label:"Total Risk",severity:n.total_risk})," "))),x.a.createElement(T.a,{sm:4,md:12},x.a.createElement(P.Battery,{label:"Risk Of Change",severity:n.resolution_set.find(function(e){return e.system_type===U.k.rhel}).resolution_risk.risk})),n.has_playbook&&x.a.createElement(T.a,null,x.a.createElement(P.RemediationButton,{isDisabled:0===this.getSelectedItems().length,dataProvider:this.remediationDataProvider,onRemediationCreated:this.onRemediationCreated})))))),x.a.createElement(D.a,null,x.a.createElement(N.a,null,x.a.createElement(B.a,null,x.a.createElement("strong",null,"Affected Hosts")),x.a.createElement(j.a,null,"fulfilled"===r&&x.a.createElement(X,{items:i.host_ids}),"pending"===r&&x.a.createElement(K.a,null))))),"pending"===a&&x.a.createElement(K.a,null),"failed"===a&&x.a.createElement(q.a,{message:"There was an error fetching rules list."}))))}}]),t}(w.Component);Z.propTypes={breadcrumbs:C.a.array,match:C.a.any,fetchRule:C.a.func,ruleFetchStatus:C.a.string,rule:C.a.object,fetchSystem:C.a.func,systemFetchStatus:C.a.string,system:C.a.object,entities:C.a.any,addNotification:C.a.func.isRequired};t.default=Object(P.routerParams)(Object(R.connect)(function(e,t){return i()({rule:e.AdvisorStore.rule,ruleFetchStatus:e.AdvisorStore.ruleFetchStatus,breadcrumbs:e.AdvisorStore.breadcrumbs,system:e.AdvisorStore.system,systemFetchStatus:e.AdvisorStore.systemFetchStatus,entities:e.entities},e,t)},function(e){return{fetchRule:function(t){return e(z.a(t))},fetchSystem:function(t){return e(z.d(t))},addNotification:function(t){return e(Object(H.addNotification)(t))}}})(Z))}}]);
//# sourceMappingURL=../sourcemaps/ListActions.js.map