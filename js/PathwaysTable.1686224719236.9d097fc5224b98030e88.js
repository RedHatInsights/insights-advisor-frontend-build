"use strict";(self.webpackChunkadvisor_frontend=self.webpackChunkadvisor_frontend||[]).push([[9573],{80810:(e,t,r)=>{r.d(t,{W1:()=>n,ZP:()=>i,xQ:()=>o});var a=r(40400);const o={name:"SearchIcon",height:512,width:512,svgPath:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z",yOffset:0,xOffset:0},n=(0,a.IU)(o),i=n},44280:(e,t,r)=>{r.d(t,{Z:()=>f});var a=r(69174),o=r(45697),n=r.n(o),i=r(93264),l=r.n(i),c=r(30893),s=r(86896),u=function(e){var t=e.recLvl,r=(e.isCompact,(0,s.Z)()),o=function(e,t,r){return l().createElement(a._,{color:r,isCompact:!0},"".concat(e," - ").concat(t,"%"))};return t>=80?o(r.formatMessage(c.Z.high),t,"red"):t<80&&t>=50?o(r.formatMessage(c.Z.medium),t,"orange"):o(r.formatMessage(c.Z.low),t,"blue")};u.propTypes={props:n().array},u.defaultProps={isCompact:!0};const f=u},79930:(e,t,r)=>{r.r(t),r.d(t,{default:()=>D});var a=r(70885),o=r(4942),n=r(59303),i=r(75662),l=r(44733),c=r(93264),s=r.n(c),u=r(3351),f=r(22860),m=r(6934),d=r(75863),g=r(1082),p=r(46818),v=r(86379),y=r(7732),b=r(97109),h=r(28216),P=r(52837),Z=r(46891),_=r(34702),E=r(7887),S=r(2443),k=r(44280),O=r(87516),C=r(80810),M=r(40609),w=r(30893),x=r(28672),q=r(8377),j=r(86896),X=r(45697);function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var A=function(e){var t,r,X=e.isTabActive,L=(0,j.Z)(),A=(0,h.useDispatch)(),D=(0,i.useLocation)().search,N=(0,h.useSelector)((function(e){return e.filters.selectedTags})),T=(0,h.useSelector)((function(e){return e.filters.workloads})),F=(0,h.useSelector)((function(e){return e.filters.SID})),I=(0,h.useSelector)((function(e){return e.filters.pathState})),V=function(e){return A((0,x.lW)(e))},B={};(null==N?void 0:N.length)&&(B=W(W({},B),{tags:N.join(",")})),T&&(B=W(W({},B),(0,b.s0)(T,F)));var R,z=(0,q.Lv)(W(W({},(0,b.qW)(I)),B)),H=z.data,G=void 0===H?[]:H,K=z.isFetching,Q=z.isLoading,U=z.isError,Y=[{title:L.formatMessage(w.Z.pathwaysName),transforms:[y.p,(0,g.d)(45)]},{title:L.formatMessage(w.Z.category)},{title:L.formatMessage(w.Z.systems),transforms:[y.p,(0,g.d)(10)]},{title:L.formatMessage(w.Z.reboot)},{title:L.formatMessage(w.Z.reclvl),transforms:[y.p,(0,g.d)(20),p.E0,(0,v.u)({tooltip:L.formatMessage(w.Z.reclvldetails),tooltipProps:{isContentLeftAligned:!0}})]}],$={0:"name",2:"impacted_systems_count",4:"recommendation_level"},J=(0,c.useState)({}),ee=(0,a.Z)(J,2),te=ee[0],re=ee[1],ae=(0,c.useState)(!0),oe=(0,a.Z)(ae,2),ne=oe[0],ie=oe[1],le=(0,c.useState)((null==I?void 0:I.text)||""),ce=(0,a.Z)(le,2),se=ce[0],ue=ce[1],fe=(0,M.Z)(se,n.$x),me=function(e){var t=e*I.limit-I.limit;V(W(W({},I),{},{offset:t}))},de=function(e){var t=W(W({},I),{},{offset:0});"text"===e&&ue(""),delete t[e],V(t)},ge=function(e,t){t.length>0?V(W(W({},I),{},{offset:0},(0,o.Z)({},e,t))):de(e)},pe=[{label:L.formatMessage(w.Z.name).toLowerCase(),filterValues:{key:"text-filter",onChange:function(e,t){return ue(t)},value:se,placeholder:L.formatMessage(w.Z.filterBy)}},{label:n.W2.category.title,type:n.W2.category.type,id:n.W2.category.urlParam,value:"checkbox-".concat(n.W2.category.urlParam),filterValues:{key:"".concat(n.W2.category.urlParam,"-filter"),onChange:function(e,t){return ge(n.W2.category.urlParam,t)},value:I.category,items:n.W2.category.values}},{label:n.dX.has_incident.title,type:n.dX.has_incident.type,id:n.dX.has_incident.urlParam,value:"checkbox-".concat(n.dX.has_incident.urlParam),filterValues:{key:"".concat(n.dX.has_incident.urlParam,"-filter"),onChange:function(e,t){return ge(n.dX.has_incident.urlParam,t)},value:I.has_incident,items:n.dX.has_incident.values}},{label:n.dX.reboot_required.title,type:n.dX.reboot_required.type,id:n.dX.reboot_required.urlParam,value:"checkbox-".concat(n.dX.reboot_required.urlParam),filterValues:{key:"".concat(n.dX.reboot_required.urlParam,"-filter"),onChange:function(e,t){return ge(n.dX.reboot_required.urlParam,t)},value:I.reboot_required,items:n.dX.reboot_required.values}}],ve={deleteTitle:L.formatMessage(w.Z.resetFilters),filters:(R=W({},I),delete R.sort,delete R.offset,delete R.limit,(0,b.yK)(R,W(W({},n.W2),n.dX))),onDelete:function(e,t,r){r?(ue(""),V({limit:I.limit,offset:I.offset})):t.map((function(e){var t=(0,o.Z)({},e.urlParam,Array.isArray(I[e.urlParam])?I[e.urlParam].filter((function(t){return String(t)!==String(e.chips[0].value)})):"");t[e.urlParam].length>0?V(W(W({},I),t)):de(e.urlParam)}))}};return(0,c.useEffect)((function(){ne||null===N||(0,b.Y4)(I,N)}),[I,N,T,F]),(0,c.useEffect)((function(){if(X&&D&&ne){var e=(0,b.yG)();delete e.tags,void 0===e.text?ue(""):ue(e.text),e.sort=void 0!==e.sort&&Object.values($).includes(null==e?void 0:e.sort[0])?e.sort[0]:"-impacted_systems_count",void 0===e.offset?e.offset=0:e.offset=Number(e.offset[0]),void 0===e.limit?e.limit=20:e.limit=Number(e.limit[0]),void 0!==e.reboot_required&&!Array.isArray(e.reboot_required)&&(e.reboot_required=["".concat(e.reboot_required)]),V(W(W({},I),e))}ie(!1)}),[]),(0,c.useEffect)((function(){if(void 0!==I.sort&&$){var e=I.sort,t=Number(Object.entries($).find((function(t){return t[1]===e||"-".concat(t[1])===e}))[0]),r="-"===I.sort[0]?"desc":"asc";re({index:t,direction:r})}}),[I.sort]),(0,c.useEffect)((function(){if(!ne&&!Q){var e=W({},I),t=se.length?{text:se}:{};delete e.text,V(W(W(W({},e),t),{},{offset:0}))}}),[fe]),s().createElement(s().Fragment,null,s().createElement(E.Z,{pagination:{itemCount:(null==G||null===(t=G.meta)||void 0===t?void 0:t.count)||0,page:I.offset/I.limit+1,perPage:Number(I.limit),onSetPage:function(e,t){me(t)},onPerPageSelect:function(e,t){V(W(W({},I),{},{limit:t,offset:0}))},isCompact:!0},filterConfig:{items:pe},activeFiltersConfig:ve}),K?s().createElement(Z.Z,null):U?s().createElement(u.i,null,s().createElement(S.Z,null)):s().createElement(u.i,{"aria-label":"pathways-table",variant:d.B.compact,sortBy:te,onSort:function(e,t,r){var a="".concat("asc"===r?"":"-").concat($[t]);re({index:t,direction:r}),V(W(W({},I),{},{sort:a,offset:0}))},cells:Y,rows:function(e){return 0===e.length?[{cells:[{title:s().createElement(_.Z,{icon:C.ZP,title:L.formatMessage(w.Z.noResults),text:L.formatMessage(w.Z.adjustFilters)}),props:{colSpan:6}}]}]:e.flatMap((function(e,t){return[{cells:[{title:s().createElement("span",{key:t},s().createElement(i.Link,{key:t,to:"/recommendations/pathways/".concat(e.slug)}," ",e.name," "),e.has_incident&&s().createElement(O.Z,{rule:{tags:"incident"},isCompact:!0}))},{title:s().createElement(P.Z,{key:t,labelList:e.categories,isCompact:!0})},{title:s().createElement("div",{key:t},"".concat(e.impacted_systems_count.toLocaleString()))},{title:s().createElement("span",{key:t},L.formatMessage(e.reboot_required?w.Z.required:w.Z.notRequired))},{title:s().createElement(k.Z,{key:t,recLvl:e.recommendation_level})}]}]}))}(null==G?void 0:G.data),isStickyHeader:!0},s().createElement(m.x,null),s().createElement(f.R,null)),s().createElement(l.t,{ouiaId:"page",itemCount:(null==G||null===(r=G.meta)||void 0===r?void 0:r.count)||0,page:I.offset/I.limit+1,perPage:Number(I.limit),onSetPage:function(e,t){me(t)},onPerPageSelect:function(e,t){V(W(W({},I),{},{limit:t,offset:0}))},widgetId:"pagination-options-menu-bottom",variant:l.a.bottom}))};A.propTypes={isTabActive:r.n(X)().bool};const D=A}}]);
//# sourceMappingURL=../sourcemaps/PathwaysTable.b4885d6ac2691215865d4ff30484e9dd.js.map