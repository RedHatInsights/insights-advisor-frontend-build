"use strict";(self.webpackChunkadvisor_frontend=self.webpackChunkadvisor_frontend||[]).push([[931],{85991:(e,t,n)=>{t.a=void 0;const r=n(70655),a=r.__importStar(n(75418)),o=r.__importDefault(n(74652)),s=n(38296),l=n(23053);t.a=e=>{var{children:n=null,className:i="","aria-label":c="Breadcrumb",ouiaId:u,ouiaSafe:d=!0}=e,m=r.__rest(e,["children","className","aria-label","ouiaId","ouiaSafe"]);const f=l.useOUIAProps(t.a.displayName,u,d);return a.createElement("nav",Object.assign({},m,{"aria-label":c,className:s.css(o.default.breadcrumb,i)},f),a.createElement("ol",{className:o.default.breadcrumbList},a.Children.map(n,((e,t)=>{const n=t>0;return a.isValidElement(e)?a.cloneElement(e,{showDivider:n}):e}))))},t.a.displayName="Breadcrumb"},49489:(e,t,n)=>{t.g=void 0;const r=n(70655),a=r.__importStar(n(75418)),o=r.__importDefault(n(95511)),s=r.__importDefault(n(74652)),l=n(38296);t.g=e=>{var{children:t=null,className:n="",to:i,isActive:c=!1,isDropdown:u=!1,showDivider:d,target:m,component:f="a",render:p}=e,v=r.__rest(e,["children","className","to","isActive","isDropdown","showDivider","target","component","render"]);const b=f,g=c?"page":void 0,h=l.css(s.default.breadcrumbLink,c&&s.default.modifiers.current);return a.createElement("li",Object.assign({},v,{className:l.css(s.default.breadcrumbItem,n)}),d&&a.createElement("span",{className:s.default.breadcrumbItemDivider},a.createElement(o.default,null)),"button"===f&&a.createElement("button",{className:h,"aria-current":g,type:"button"},t),u&&a.createElement("span",{className:l.css(s.default.breadcrumbDropdown)},t),p&&p({className:h,ariaCurrent:g}),i&&!p&&a.createElement(b,{href:i,target:m,className:h,"aria-current":g},t),!i&&"button"!==f&&!u&&t)},t.g.displayName="BreadcrumbItem"},67265:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(75418),a=n.n(r);const o=function(e){var t=e.component,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["component"]);return(0,r.useEffect)((function(){console.error("Unable to load inventory component. Failed to load ".concat(t,"."),n)}),[]),a().createElement("div",null,a().createElement("h1",null,"Unable to load inventory component"),a().createElement("h2",null,"Failed to load ",t),a().createElement("code",null,"More info can be found in browser console output."))}},33739:(e,t,n)=>{n.d(t,{Z:()=>g});var r=n(75418),a=n.n(r),o=n(45697),s=n.n(o),l=n(38106),i=n(4874),c=n(28216),u=n(56336),d=n(67265),m=n(94184),f=n.n(m),p=function(){return(p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},v=function(e){var t=(0,i.useHistory)(),n=(0,c.useStore)(),o=e.component;return a().createElement(o,{className:f()(e.className,"inventory")},a().createElement(r.Suspense,{fallback:e.fallback},a().createElement(l.ScalprumComponent,p({history:t,store:n,appName:"inventory",module:"./InventoryTable",scope:"inventory",ErrorComponent:a().createElement(d.Z,p({component:"InventoryDetailHead",history:t,store:n},e)),ref:e.innerRef},e))))};v.propTypes={fallback:s().node,innerRef:s().object,component:s().string,className:s().string};var b=a().forwardRef((function(e,t){return a().createElement(v,p({innerRef:t},e))}));b.propTypes={fallback:s().node,component:s().string,className:s().string},b.defaultProps={fallback:a().createElement(u.Bullseye,{className:"pf-u-p-lg"},a().createElement(u.Spinner,{size:"xl"})),component:"section"};const g=b},75331:(e,t,n)=>{n.d(t,{Z:()=>v});var r=n(70885),a=n(75418),o=n.n(a),s=n(85991),l=n(49489),i=n(4874),c=n(45697),u=n.n(c),d=n(30893),m=n(75546),f=n(86896),p=function(e){var t,n=e.current,c=(0,f.Z)(),u=null===(t=(0,i.useLocation)().pathname)||void 0===t?void 0:t.split("/"),p=(0,a.useState)([]),v=(0,r.Z)(p,2),b=v[0],g=v[1],h=!("recommendations"===u[1]&&4===u.length)||"pathways"===u[2],y=(0,m.m1)({ruleId:u[2]},{skip:h}),k=y.data,_=y.isFetching;return(0,a.useEffect)((function(){var e;(e=[]).push({title:"".concat(c.formatMessage(d.Z.insightsHeader)," ").concat(u[1]),navigate:"/".concat(u[1])}),h||e.push({title:null==k?void 0:k.description,navigate:"/".concat(u[1],"/").concat(u[2])}),"pathways"===u[2]&&(e=[{title:"Advisor pathways",navigate:"/recommendations/pathways"}]),g(e)}),[k]),o().createElement(o().Fragment,null,!_&&b.length>0?o().createElement(s.a,{ouiaId:"detail"},b.map((function(e,t){return o().createElement(l.g,{key:t},o().createElement(i.Link,{to:e.navigate},e.title))})),o().createElement(l.g,{isActive:!0},n)):c.formatMessage(d.Z.loading))};p.propTypes={current:u().string};const v=p},52202:(e,t,n)=>{n.d(t,{k:()=>g,b:()=>h});var r=n(66197),a=n(16545),o=n(82644),s=n(29558),l=n(91290),i=n(26076),c=n(75418),u=n.n(c),d=n(14498),m=n(30893),f=n(28186),p=(0,o.Sn)(),v=navigator.language.slice(0,2),b=(0,s.d)({onError:console.log,locale:v},p),g=function(e){return u().createElement("span",{className:"adv-system-reboot-message"},u().createElement(i.ZP,{className:e?"adv-c-icon-reboot-required":"adv-c-icon-no-reboot-required"}),u().createElement(r.TextContent,{className:"adv-c-text-system-reboot-message"},u().createElement(r.Text,{component:r.TextVariants.p},b.formatMessage(m.Z.systemReboot,{strong:function(e){return(0,f.f)(e)},status:e?b.formatMessage(m.Z.is):b.formatMessage(m.Z.isNot)}))))},h=function(e){return u().createElement(a.u,{key:e,position:a.D.right,content:u().createElement("div",null,e)},u().createElement("span",{"aria-label":"Action"},u().createElement(l.ZP,{color:d.global_secondary_color_100.value})))}},40771:(e,t,n)=>{n.d(t,{Z:()=>D});var r=n(4942),a=n(15861),o=n(70885),s=n(87757),l=n.n(s),i=n(59303),c=n(75418),u=n.n(c),d=n(92609),m=n(97109),f=n(28216),p=n(44788),v=n(71094),b=n(33739),g=n(46891),h=n(45697),y=n.n(h),k=n(98132),_=n(30893),w=n(71355),E=n(46655),x=n(41131),Z=n(86896),O=n(58921);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(e){var t,n,s,h,y,N,P,D=e.tableProps,I=e.rule,T=e.afterDisableFn,j=e.pathway,C=e.selectedTags,M=e.workloads,F=e.SID,A=e.permsExport,U=e.exportTable,R=e.showTags,L=(0,f.useStore)(),V=(0,Z.Z)(),B=(0,f.useDispatch)(),X=(0,c.useState)([]),Y=(0,o.Z)(X,2),H=Y[0],J=Y[1],q=(0,c.useState)({limit:20,offset:0,sort:"-last_seen",name:""}),W=(0,o.Z)(q,2),z=W[0],K=W[1],G=(0,f.useSelector)((function(e){return e.entities||{}})),Q=function(e,t){return B({type:"SELECT_ENTITY",payload:{id:e,selected:t}})},$=function(e){return B((0,w.wN)(e))},ee=(0,c.useState)(!1),te=(0,o.Z)(ee,2),ne=te[0],re=te[1],ae=(0,c.useState)(),oe=(0,o.Z)(ae,2),se=oe[0],le=oe[1],ie=function(){var e=(0,a.Z)(l().mark((function e(){var t,n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!j){e.next=17;break}return e.next=3,(0,v.dX)("".concat(i._n,"/pathway/").concat(encodeURI(j.slug),"/rules/"),{},{});case 3:if(e.t1=t=e.sent,e.t0=null===e.t1,e.t0){e.next=7;break}e.t0=void 0===t;case 7:if(!e.t0){e.next=11;break}e.t2=void 0,e.next=12;break;case 11:e.t2=t.data.data;case 12:return n=e.t2,r=n.map((function(e){return{id:"advisor:".concat(e.rule_id),description:e.description}})),e.abrupt("return",{issues:r,systems:H});case 17:return e.abrupt("return",{issues:[{id:"advisor:".concat(I.rule_id),description:I.description}],systems:H});case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(e){re(e)},ue=function(){le(!0),Q(0,!0)},de=function(){var e;return se?le(!1):J(null==G||null===(e=G.rows)||void 0===e?void 0:e.filter((function(e){return!0===e.selected})).map((function(e){return e.id})))},me=function(e){var t=e.name,n=e.display_name,r=S(S(S({},e),t&&{name:t}),n&&{display_name:n});!j&&(0,m.Y4)(r,C)},fe=function(e){var t=S(S({},z),{},{offset:0});delete t[e],K(t)},pe=[{label:i.Ut.rhel_version.title.toLowerCase(),type:i.Ut.rhel_version.type,id:i.Ut.rhel_version.urlParam,value:"checkbox-".concat(i.Ut.rhel_version.urlParam),filterValues:{key:"".concat(i.Ut.rhel_version.urlParam,"-filter"),onChange:function(e,t){!function(e,t){t.length>0?K(S(S({},z),{},{offset:0},(0,r.Z)({},e,t))):fe(e)}(i.Ut.rhel_version.urlParam,t)},value:z.rhel_version,items:i.Ut.rhel_version.values}}],ve={deleteTitle:V.formatMessage(_.Z.resetFilters),filters:(N=S({},z),delete N.sort,delete N.offset,delete N.limit,(0,m.yK)(N,i.Ut)),onDelete:function(e,t,n){n?K({sort:z.sort,limit:z.limit,offset:z.offset}):t.map((function(e){var t=(0,r.Z)({},e.urlParam,Array.isArray(z[e.urlParam])?z[e.urlParam].filter((function(t){return String(t)!==String(e.chips[0].value)})):"");t[e.urlParam].length>0?K(S(S({},z),t)):fe(e.urlParam)}))}};return(0,c.useEffect)((function(){var e;(null==G||null===(e=G.rows)||void 0===e?void 0:e.length)&&de(G.rows)}),[null==G?void 0:G.rows]),u().createElement(u().Fragment,null,ne&&u().createElement(p.Z,{handleModalToggle:ce,isModalOpen:ne,rule:I,afterFn:T,hosts:H}),u().createElement(b.Z,{hasCheckbox:!0,initialLoading:!0,autoRefresh:!0,hideFilters:{all:!0,name:!1,tags:!R},filterConfig:{items:pe},activeFiltersConfig:ve,columns:function(e){return function(e){var t=e.filter((function(e){return"updated"===e.key})),n=e.filter((function(e){return"display_name"===e.key})),r=e.filter((function(e){return"system_profile"===e.key})),a=e.filter((function(e){return"tags"===e.key}));return n=S(S({},n[0]),{},{transforms:[d.sortable,d.wrappable],props:{isStatic:!0}}),t=S(S({},t[0]),{},{transforms:[d.sortable,d.wrappable],props:{width:20}}),r=S(S({},r[0]),{},{transforms:[d.wrappable]}),[n,a=S({},a[0]),r,t]}(e)},tableProps:S({variant:d.TableVariant.compact},D),customFilters:{advisorFilters:z,selectedTags:C,workloads:M,SID:F},showTags:R,getEntities:function(){var e=(0,a.Z)(l().mark((function e(t,n,r,a){var o,s,c,u,d,f,p,b,g,h,y,k,_,w,E,x,Z,O;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p=n.per_page,b=n.page,g=n.orderBy,h=n.orderDirection,y=n.advisorFilters,k=n.filters,_=n.workloads,w=n.SID,E="".concat("ASC"===h?"":"-").concat("updated"===g?"last_seen":g),x=S(S(S(S(S({},y),{},{limit:p,offset:b*p-p,sort:E},n.filters.hostnameOrId&&!j&&{name:null==n||null===(o=n.filters)||void 0===o?void 0:o.hostnameOrId}),n.filters.hostnameOrId&&j&&{display_name:null==n||null===(s=n.filters)||void 0===s?void 0:s.hostnameOrId}),Array.isArray(y.rhel_version)&&{rhel_version:null===(c=y.rhel_version)||void 0===c?void 0:c.join(",")}),(null===(u=k.tagFilters)||void 0===u?void 0:u.length)&&(0,m.gh)(k.tagFilters)),_&&(x=S(S({},x),(0,m.s0)(_,w))),me(x),!j){e.next=20;break}return e.next=8,(0,v.dX)("".concat(i.Vo),{},S(S({},x),{},{pathway:j.slug}));case 8:if(e.t2=d=e.sent,e.t1=null===e.t2,e.t1){e.next=12;break}e.t1=void 0===d;case 12:if(!e.t1){e.next=16;break}e.t3=void 0,e.next=17;break;case 16:e.t3=d.data;case 17:e.t0=e.t3,e.next=32;break;case 20:return e.next=22,(0,v.dX)("".concat(i.cJ).concat(encodeURI(I.rule_id),"/systems_detail/"),{},x);case 22:if(e.t5=f=e.sent,e.t4=null===e.t5,e.t4){e.next=26;break}e.t4=void 0===f;case 26:if(!e.t4){e.next=30;break}e.t6=void 0,e.next=31;break;case 30:e.t6=f.data;case 31:e.t0=e.t6;case 32:return Z=e.t0,e.next=35,a(Z.data.map((function(e){return e.system_uuid})),{page:b,per_page:p,hasItems:!0,fields:{system_profile:["operating_system"]}},r);case 35:return O=e.sent,e.abrupt("return",Promise.resolve({results:(0,m.E9)(Z.data,O.results),total:Z.meta.count}));case 37:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),dedicatedAction:u().createElement(k.Z,{key:"remediation-button",isDisabled:0===H.length||!j&&0===(null==I?void 0:I.playbook_count),dataProvider:ie,onRemediationCreated:function(e){return function(e){Q(-1,!1);try{e.remediation&&$(e.getNotification())}catch(e){$({variant:"danger",dismissable:!0,title:V.formatMessage(_.Z.error),description:"".concat(e)})}}(e)}},V.formatMessage(_.Z.remediate)),actionsConfig:{actions:["",{label:V.formatMessage(_.Z.disableRuleForSystems),props:{isDisabled:0===H.length},onClick:function(){return ce(!0)}}]},bulkSelect:{count:H.length,items:[{title:V.formatMessage(_.Z.selectNone),onClick:function(){Q(-1,!1)}},S({},(null==G||null===(t=G.rows)||void 0===t?void 0:t.length)>z.limit?{title:V.formatMessage(_.Z.selectPage,{items:z.limit}),onClick:function(){Q(0,!0)}}:{}),S({},(null==G||null===(n=G.rows)||void 0===n?void 0:n.length)>0?{title:V.formatMessage(_.Z.selectAll,{items:(null==G?void 0:G.total)||0}),onClick:(P=(0,a.Z)(l().mark((function e(){var t,n,r,a,o,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.error(j),!j){e.next=16;break}return e.next=4,(0,v.dX)("".concat(i.Vo),{},{pathway:j.slug,limit:j.impacted_systems_count});case 4:if(e.t2=t=e.sent,e.t1=null===e.t2,e.t1){e.next=8;break}e.t1=void 0===t;case 8:if(!e.t1){e.next=12;break}e.t3=void 0,e.next=13;break;case 12:e.t3=null===(n=t.data)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.map((function(e){return e.system_uuid}));case 13:e.t0=e.t3,e.next=28;break;case 16:return e.next=18,(0,v.dX)("".concat(i.cJ).concat(encodeURI(I.rule_id),"/systems/"),{},{name:z.name});case 18:if(e.t5=a=e.sent,e.t4=null===e.t5,e.t4){e.next=22;break}e.t4=void 0===a;case 22:if(!e.t4){e.next=26;break}e.t6=void 0,e.next=27;break;case 26:e.t6=null===(o=a.data)||void 0===o?void 0:o.host_ids;case 27:e.t0=e.t6;case 28:s=e.t0,console.error(s),J(s),ue();case 32:case"end":return e.stop()}}),e)}))),function(){return P.apply(this,arguments)})}:{})],checked:(H.length===(null==G||null===(s=G.rows)||void 0===s?void 0:s.length)||H.length===(null==G?void 0:G.total))&&(null==G?void 0:G.total)>0?1:H.length===z.limit?null:0,onSelect:function(){H.length>0?Q(-1,!1):ue(),de()}},fallback:g.Z,onLoad:function(e){var t=e.mergeWithEntities,n=e.INVENTORY_ACTION_TYPES,r=e.mergeWithDetail;L.replaceReducer((0,x.U)(S(S({},t((0,E.V)([],n),{page:Number(z.offset/z.limit+1||1),perPage:Number(z.limit||20)})),r())))},exportConfig:A&&(y={label:V.formatMessage(_.Z.exportCsv)},(0,r.Z)(y,"label",V.formatMessage(_.Z.exportJson)),(0,r.Z)(y,"onSelect",(function(e,t){return(0,O.Z)(U,t,S({rule_id:I.rule_id},z),C,M,F,B)})),(0,r.Z)(y,"isDisabled",!A||0===(null==G||null===(h=G.rows)||void 0===h?void 0:h.length)),(0,r.Z)(y,"tooltipText",A?V.formatMessage(_.Z.exportData):V.formatMessage(_.Z.permsAction)),y)}))};P.propTypes={tableProps:y().any,rule:y().object,afterDisableFn:y().func,pathway:y().object,selectedTags:y().any,workloads:y().any,SID:y().any,permsExport:y().bool,exportTable:y().string,showTags:y().bool};const D=P}}]);
//# sourceMappingURL=../sourcemaps/931.1016d9ea7939a678bbb58caaf89dbf2c.js.map