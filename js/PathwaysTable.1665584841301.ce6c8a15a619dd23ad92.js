"use strict";(self.webpackChunkadvisor_frontend=self.webpackChunkadvisor_frontend||[]).push([[9573],{95511:(e,t,r)=>{t.__esModule=!0,t.AngleRightIconConfig={name:"AngleRightIcon",height:512,width:256,svgPath:"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z",yOffset:0,xOffset:0},t.AngleRightIcon=r(35183).createIcon(t.AngleRightIconConfig),t.default=t.AngleRightIcon},71070:(e,t,r)=>{t.xQ={name:"SearchIcon",height:512,width:512,svgPath:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z",yOffset:0,xOffset:0},t.W1=r(35183).createIcon(t.xQ),t.ZP=t.W1},52837:(e,t,r)=>{r.d(t,{Z:()=>y});var a=r(63732),n=r(15914),o=r(26407),i=r(99332),l=r(69507),c=r(45697),s=r.n(c),u=r(93264),f=r.n(u),m=r(30893),d=r(86896),g=r(42293),p=function(e){var t=e.icon,r=e.text;return f().createElement(g.Label,{icon:t,variant:"outline",color:"blue",isCompact:!0},r)};p.propTypes={icon:s().object,text:s().bool};const b=p;var v=function(e){var t,r=e.labelList,c=(0,d.Z)(),s=(t=r.map((function(e){return e.id})),Object.entries(t.reduce((function(e,t){return e[t]=(e[t]||0)+1,e}),{})).sort((function(e,t){return t[1]-e[1]})));return f().createElement(o.e,{numLabels:1,isCompact:!0},s.map((function(e){return function(e){return[f().createElement(b,{icon:f().createElement(a.ZP,null),text:c.formatMessage(m.Z.availability)}),f().createElement(b,{icon:f().createElement(i.ZP,null),text:c.formatMessage(m.Z.security)}),f().createElement(b,{icon:f().createElement(n.ZP,null),text:c.formatMessage(m.Z.stability)}),f().createElement(b,{icon:f().createElement(l.ZP,null),text:c.formatMessage(m.Z.performance)})][e]}(Number(e[0]-1))})))};v.propTypes={labelList:s().array,isCompact:s().bool},v.defaultProps={isCompact:!0};const y=v},24130:(e,t,r)=>{r.d(t,{Z:()=>f});var a=r(42293),n=r(45697),o=r.n(n),i=r(93264),l=r.n(i),c=r(30893),s=r(86896),u=function(e){var t=e.recLvl,r=(e.isCompact,(0,s.Z)()),n=function(e,t,r){return l().createElement(a.Label,{color:r,isCompact:!0},"".concat(e," - ").concat(t,"%"))};return t>=80?n(r.formatMessage(c.Z.high),t,"red"):t<80&&t>=50?n(r.formatMessage(c.Z.medium),t,"orange"):n(r.formatMessage(c.Z.low),t,"blue")};u.propTypes={props:o().array},u.defaultProps={isCompact:!0};const f=u},76341:(e,t,r)=>{r.d(t,{Z:()=>f});var a=r(2095),n=r(85962),o=r(21015),i=r(62965),l=r(93264),c=r.n(l),s=r(45697),u=function(e){var t=e.message;return c().createElement(a.Card,{className:"adv-c-card-empty-rule"},c().createElement(o.CardHeader,null,c().createElement(i.ZP,{size:"lg"})),c().createElement(n.CardBody,null,t))};const f=u;u.propTypes={message:r.n(s)().string}},79930:(e,t,r)=>{r.r(t),r.d(t,{default:()=>w});var a=r(70885),n=r(4942),o=r(59303),i=r(75662),l=r(13877),c=r(93264),s=r.n(c),u=r(17855),f=r(97109),m=r(28216),d=r(52837),g=r(76341),p=r(46891),b=r(34702),v=r(7887),y=r(24130),h=r(87516),Z=r(71070),P=r(40609),E=r(30893),_=r(28672),C=r(8377),M=r(86896),x=r(45697);function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var k=function(e){var t,r,x=e.isTabActive,S=(0,M.Z)(),k=(0,m.useDispatch)(),w=(0,i.useLocation)().search,L=(0,m.useSelector)((function(e){return e.filters.selectedTags})),j=(0,m.useSelector)((function(e){return e.filters.workloads})),q=(0,m.useSelector)((function(e){return e.filters.SID})),T=(0,m.useSelector)((function(e){return e.filters.pathState})),W=function(e){return k((0,_.lW)(e))},X={};(null==L?void 0:L.length)&&(X=O(O({},X),{tags:L.join(",")})),j&&(X=O(O({},X),(0,f.s0)(j,q)));var A,I=(0,C.Lv)(O(O({},(0,f.qW)(T)),X)),N=I.data,R=void 0===N?[]:N,D=I.isFetching,F=I.isLoading,V=I.isError,z=[{title:S.formatMessage(E.Z.pathwaysName),transforms:[u.sortable,(0,u.cellWidth)(45)]},{title:S.formatMessage(E.Z.category)},{title:S.formatMessage(E.Z.systems),transforms:[u.sortable,(0,u.cellWidth)(10)]},{title:S.formatMessage(E.Z.reboot)},{title:S.formatMessage(E.Z.reclvl),transforms:[u.sortable,(0,u.cellWidth)(20),u.fitContent,(0,u.info)({tooltip:S.formatMessage(E.Z.reclvldetails),tooltipProps:{isContentLeftAligned:!0}})]}],B={0:"name",2:"impacted_systems_count",4:"recommendation_level"},H=(0,c.useState)({}),Q=(0,a.Z)(H,2),G=Q[0],K=Q[1],Y=(0,c.useState)(!0),$=(0,a.Z)(Y,2),J=$[0],U=$[1],ee=(0,c.useState)((null==T?void 0:T.text)||""),te=(0,a.Z)(ee,2),re=te[0],ae=te[1],ne=(0,P.Z)(re,o.$x),oe=function(e){var t=e*T.limit-T.limit;W(O(O({},T),{},{offset:t}))},ie=function(e){var t=O(O({},T),{},{offset:0});"text"===e&&ae(""),delete t[e],W(t)},le=function(e,t){t.length>0?W(O(O({},T),{},{offset:0},(0,n.Z)({},e,t))):ie(e)},ce=[{label:S.formatMessage(E.Z.name).toLowerCase(),filterValues:{key:"text-filter",onChange:function(e,t){return ae(t)},value:re,placeholder:S.formatMessage(E.Z.filterBy)}},{label:o.W2.category.title,type:o.W2.category.type,id:o.W2.category.urlParam,value:"checkbox-".concat(o.W2.category.urlParam),filterValues:{key:"".concat(o.W2.category.urlParam,"-filter"),onChange:function(e,t){return le(o.W2.category.urlParam,t)},value:T.category,items:o.W2.category.values}},{label:o.dX.has_incident.title,type:o.dX.has_incident.type,id:o.dX.has_incident.urlParam,value:"checkbox-".concat(o.dX.has_incident.urlParam),filterValues:{key:"".concat(o.dX.has_incident.urlParam,"-filter"),onChange:function(e,t){return le(o.dX.has_incident.urlParam,t)},value:T.has_incident,items:o.dX.has_incident.values}},{label:o.dX.reboot_required.title,type:o.dX.reboot_required.type,id:o.dX.reboot_required.urlParam,value:"checkbox-".concat(o.dX.reboot_required.urlParam),filterValues:{key:"".concat(o.dX.reboot_required.urlParam,"-filter"),onChange:function(e,t){return le(o.dX.reboot_required.urlParam,t)},value:T.reboot_required,items:o.dX.reboot_required.values}}],se={deleteTitle:S.formatMessage(E.Z.resetFilters),filters:(A=O({},T),delete A.sort,delete A.offset,delete A.limit,(0,f.yK)(A,O(O({},o.W2),o.dX))),onDelete:function(e,t,r){r?(ae(""),W({limit:T.limit,offset:T.offset})):t.map((function(e){var t=(0,n.Z)({},e.urlParam,Array.isArray(T[e.urlParam])?T[e.urlParam].filter((function(t){return String(t)!==String(e.chips[0].value)})):"");t[e.urlParam].length>0?W(O(O({},T),t)):ie(e.urlParam)}))}};return(0,c.useEffect)((function(){J||null===L||(0,f.Y4)(T,L)}),[T,L,j,q]),(0,c.useEffect)((function(){if(x&&w&&J){var e=(0,f.yG)();delete e.tags,void 0===e.text?ae(""):ae(e.text),e.sort=void 0===e.sort?"-impacted_systems_count":e.sort[0],void 0===e.offset?e.offset=0:e.offset=Number(e.offset[0]),void 0===e.limit?e.limit=20:e.limit=Number(e.limit[0]),void 0!==e.reboot_required&&!Array.isArray(e.reboot_required)&&(e.reboot_required=["".concat(e.reboot_required)]),W(O(O({},T),e))}U(!1)}),[]),(0,c.useEffect)((function(){if(void 0!==T.sort&&B){var e=T.sort,t=Number(Object.entries(B).find((function(t){return t[1]===e||"-".concat(t[1])===e}))[0]),r="-"===T.sort[0]?"desc":"asc";K({index:t,direction:r})}}),[T.sort]),(0,c.useEffect)((function(){if(!J&&!F){var e=O({},T),t=re.length?{text:re}:{};delete e.text,W(O(O(O({},e),t),{},{offset:0}))}}),[ne]),s().createElement(s().Fragment,null,s().createElement(v.Z,{pagination:{itemCount:(null==R||null===(t=R.meta)||void 0===t?void 0:t.count)||0,page:T.offset/T.limit+1,perPage:Number(T.limit),onSetPage:function(e,t){oe(t)},onPerPageSelect:function(e,t){W(O(O({},T),{},{limit:t,offset:0}))},isCompact:!0},filterConfig:{items:ce},activeFiltersConfig:se}),D?s().createElement(p.Z,null):V?s().createElement(g.Z,{message:S.formatMessage(E.Z.rulesTableFetchRulesError)}):s().createElement(u.Table,{"aria-label":"pathways-table",variant:u.TableVariant.compact,sortBy:G,onSort:function(e,t,r){var a="".concat("asc"===r?"":"-").concat(B[t]);K({index:t,direction:r}),W(O(O({},T),{},{sort:a,offset:0}))},cells:z,rows:function(e){return 0===e.length?[{cells:[{title:s().createElement(b.Z,{icon:Z.ZP,title:S.formatMessage(E.Z.noResults),text:S.formatMessage(E.Z.adjustFilters)}),props:{colSpan:6}}]}]:e.flatMap((function(e,t){return[{cells:[{title:s().createElement("span",{key:t},s().createElement(i.Link,{key:t,to:"/recommendations/pathways/".concat(e.slug)}," ",e.name," "),e.has_incident&&s().createElement(h.Z,{rule:{tags:"incident"},isCompact:!0}))},{title:s().createElement(d.Z,{key:t,labelList:e.categories,isCompact:!0})},{title:s().createElement("div",{key:t},"".concat(e.impacted_systems_count.toLocaleString()))},{title:s().createElement("span",{key:t},S.formatMessage(e.reboot_required?E.Z.required:E.Z.notRequired))},{title:s().createElement(y.Z,{key:t,recLvl:e.recommendation_level})}]}]}))}(null==R?void 0:R.data),isStickyHeader:!0},s().createElement(u.TableHeader,null),s().createElement(u.TableBody,null)),s().createElement(l.tl,{ouiaId:"page",itemCount:(null==R||null===(r=R.meta)||void 0===r?void 0:r.count)||0,page:T.offset/T.limit+1,perPage:Number(T.limit),onSetPage:function(e,t){oe(t)},onPerPageSelect:function(e,t){W(O(O({},T),{},{limit:t,offset:0}))},widgetId:"pagination-options-menu-bottom",variant:l.aM.bottom}))};k.propTypes={isTabActive:r.n(x)().bool};const w=k},40609:(e,t,r)=>{r.d(t,{Z:()=>o});var a=r(70885),n=r(93264);const o=function(e,t){var r=(0,n.useState)(e),o=(0,a.Z)(r,2),i=o[0],l=o[1];return(0,n.useEffect)((function(){var r=setTimeout((function(){l(e)}),t);return function(){clearTimeout(r)}}),[t,e]),i}}}]);
//# sourceMappingURL=../sourcemaps/PathwaysTable.6577698a36ff023f3c3d31b687770efd.js.map