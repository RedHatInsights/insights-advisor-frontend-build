(self.webpackChunkadvisor=self.webpackChunkadvisor||[]).push([[4634],{46818:(e,t,r)=>{"use strict";r.d(t,{$G:()=>s,E0:()=>o,P8:()=>i,WT:()=>u,kZ:()=>a});var n=r(78632);const a=()=>({className:n.Z.modifiers.breakWord}),o=()=>({className:n.Z.modifiers.fitContent}),i=()=>({className:n.Z.modifiers.nowrap}),s=()=>({className:n.Z.modifiers.truncate}),u=()=>({className:n.Z.modifiers.wrap})},64016:(e,t,r)=>{"use strict";r.d(t,{kx:()=>v,uc:()=>m,vk:()=>b});var n=r(42982),a=r(4942),o=r(15861),i=r(87757),s=r.n(i),u=r(71094),c=r(97109),l=r(59303),p=r(58016);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v=function(){var e=(0,o.Z)(s().mark((function e(t){var r,n,a,o,i,c,f,v,m,y,b,g,O;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.per_page,o=t.page,i=t.advisorFilters,c=t.filters,f=t.workloads,v=t.SID,m=t.pathway,y=t.rule,b=t.selectedTags,g=t.sort,O=(0,p.J)(i,o,a,g,m,c,b,f,v),!m){e.next=17;break}return e.next=5,(0,u.dX)("".concat(l.Vo),{},d(d({},O),{},{pathway:m.slug}));case 5:if(e.t2=r=e.sent,e.t1=null===e.t2,e.t1){e.next=9;break}e.t1=void 0===r;case 9:if(!e.t1){e.next=13;break}e.t3=void 0,e.next=14;break;case 13:e.t3=r.data;case 14:e.t0=e.t3,e.next=29;break;case 17:return e.next=19,(0,u.dX)("".concat(l.cJ).concat(encodeURI(y.rule_id),"/systems_detail/"),{},O);case 19:if(e.t5=n=e.sent,e.t4=null===e.t5,e.t4){e.next=23;break}e.t4=void 0===n;case 23:if(!e.t4){e.next=27;break}e.t6=void 0,e.next=28;break;case 27:e.t6=n.data;case 28:e.t0=e.t6;case 29:return e.abrupt("return",e.t0);case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(e,t,r,n,a,i,u,l){return function(){var u=(0,o.Z)(s().mark((function o(u,f,m,y){var b,g,O,h,w,j,P,_,x,k,D,S,Z,E;return s().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return b=f.per_page,g=f.page,O=f.orderBy,h=f.orderDirection,w=f.advisorFilters,j=f.filters,P=f.workloads,_=f.SID,x=f.selectedTags,k="operating_system"===O?"rhel_version":"".concat("ASC"===h?"":"-").concat("updated"===O?"last_seen":O),D=(0,p.J)(w,g,b,k,t,j,x,P,_),e(D),S=d(d({},f),{},{pathway:t,handleRefresh:e,rule:l,sort:k}),i(S),o.next=8,v(S);case 8:return Z=o.sent,o.next=11,y(Z.data.map((function(e){return e.system_uuid})),{per_page:b,hasItems:!0,fields:{system_profile:["operating_system"]}},m);case 11:return E=o.sent,r(Z.data.map((function(e){return e.system_uuid}))),n(Z.meta.count),o.abrupt("return",Promise.resolve({results:(0,c.E9)(Z.data,E.results).map((function(e){return d(d({},e),{},{selected:null==a?void 0:a.includes(e.id)})})),total:Z.meta.count}));case 15:case"end":return o.stop()}}),o)})));return function(e,t,r,n){return u.apply(this,arguments)}}()},y=function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,o=arguments.length>4?arguments[4]:void 0,i=Math.ceil(t/a)||1;return Promise.all((0,n.Z)(new Array(i)).map((function(t,n){return e(d(d({},r),{},{page:n+1,per_page:a,rule:o}))})))},b=function(e,t,r,n){return(0,o.Z)(s().mark((function a(){var o,i;return s().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(!0),a.next=3,y(v,t,e,100,r);case 3:return a.next=5,a.sent.map((function(e){return e.data}));case 5:return o=a.sent,i=[].concat.apply([],o).map((function(e){return e.system_uuid})),n(!1),a.abrupt("return",i);case 9:case"end":return a.stop()}}),a)})))}},58016:(e,t,r)=>{"use strict";r.d(t,{J:()=>c,W:()=>l});var n=r(4942),a=r(75472),o=r.n(a),i=r(97109);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=function(e,t,r,n,a,o,s,c,l,p){var f,d,v;return u(u(u(u(u(u(u(u(u({},e),{},{limit:r,offset:t*r-r,sort:n},(null==o?void 0:o.hostnameOrId)&&!a&&!p&&{name:null==o?void 0:o.hostnameOrId}),(null==o?void 0:o.hostnameOrId)&&!a&&p&&{display_name:null==o?void 0:o.hostnameOrId}),o.hostnameOrId&&a&&{display_name:null==o?void 0:o.hostnameOrId}),(null===(f=o.osFilter)||void 0===f?void 0:f.length)>0&&{rhel_version:o.osFilter.map((function(e){return e.value})).join(",")}),(null==o||null===(d=o.hostGroupFilter)||void 0===d?void 0:d.length)&&{groups:o.hostGroupFilter.join(",")}),(null===(v=o.tagFilters)||void 0===v?void 0:v.length)&&(0,i.gh)(o.tagFilters)),c?(0,i.s0)(c,l):{}),(null==s?void 0:s.length)>0?{tags:s.join(",")}:{})},l=function(e,t,r){var n;return n=0===t?"name":2===t?"featured":"impacted_systems_count",o()(e,[function(e){return e[n]}],r)}},16694:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>T});var n=r(42982),a=r(4942),o=r(70885),i=r(93264),s=r.n(i),u=r(59303),c=r(7732),l=r(46818),p=r(97109),f=r(28216),d=r(15861),v=r(87757),m=r.n(v),y=r(58016),b=r(64016),g=r(71094);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w=r(45697),j=r.n(w),P=r(30893),_=r(46655),x=r(41131),k=r(86896),D=r(22663),S=r(91607),Z=r(62012);function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var I=function(e){var t,r=e.rule,v=e.pathway,O=e.selectedTags,w=(0,f.useStore)(),j=(0,k.Z)(),E=(0,Z.useNavigate)(),I=(0,S.y)("advisor.edge_parity"),T=(0,i.useState)(F({limit:20,offset:0,sort:"-last_seen",name:""},I?{"filter[system_profile][host_type]":"edge"}:{})),N=(0,o.Z)(T,2),A=N[0],C=N[1],W=function(e,t,r){return function(){var n=(0,d.Z)(m().mark((function n(a,o,i,s){var c,l,f,d,v,O,w,j,P,_,x,k,D,S,Z,E,F,I,T,N,A;return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l=o.per_page,f=o.page,d=o.orderBy,v=o.orderDirection,O=o.advisorFilters,w=o.filters,j=o.workloads,P=o.SID,_=o.selectedTags,x="operating_system"===d?"rhel_version":"".concat("ASC"===v?"":"-").concat("updated"===d?"last_seen":d),k=(0,y.J)(O,f,l,x,t,w,_,j,P),e(k),D=h(h({},o),{},{pathway:t,rule:r,sort:x}),n.next=7,(0,b.kx)(D);case 7:return S=n.sent,Z=null==S||null===(c=S.data)||void 0===c?void 0:c.map((function(e){return e.system_uuid})),n.next=11,s(Z,{per_page:l,hasItems:!0,fields:{system_profile:["operating_system"]}},i);case 11:if(E=n.sent,F=[],null==Z||!Z.length){n.next=19;break}return n.next=16,(0,g.SO)("".concat(u.pA,"/devices/devicesview"),{},{devices_uuid:Z});case 16:N=n.sent,A=N.data,F=null==A||null===(I=A.data)||void 0===I||null===(T=I.devices)||void 0===T?void 0:T.map((function(e){return h(h({},E.results.find((function(t){return e.DeviceUUID===t.id}))),e)}));case 19:return n.abrupt("return",Promise.resolve({results:(0,p.E9)(S.data,F),total:S.meta.count}));case 20:case"end":return n.stop()}}),n)})));return function(e,t,r,a){return n.apply(this,arguments)}}()}((function(e){var t=e.name,r=e.display_name,n=F(F(F({},e),t&&{name:t}),r&&{display_name:r});!v&&(0,p.Y4)(n,O)}),v,r),J={deleteTitle:j.formatMessage(P.Z.resetFilters),filters:(t=F({},A),delete t.sort,delete t.offset,delete t.limit,(0,p.yK)(t,u.Ut)),onDelete:function(e,t,r){r?C({sort:A.sort,limit:A.limit,offset:A.offset}):t.map((function(e){var t,r,n=(0,a.Z)({},e.urlParam,Array.isArray(A[e.urlParam])?A[e.urlParam].filter((function(t){return String(t)!==String(e.chips[0].value)})):"");n[e.urlParam].length>0?C(F(F({},A),n)):(t=e.urlParam,delete(r=F(F({},A),{},{offset:0}))[t],C(r))}))}};return s().createElement(D.Z,{appName:"inventory",module:"./ImmutableDevices",fallback:s().createElement("div",null),store:w,onLoad:function(e){var t=e.mergeWithEntities,r=e.INVENTORY_ACTION_TYPES,n=e.mergeWithDetail;w.replaceReducer((0,x.U)(F(F({},t((0,_.V)([],r),{page:Number(A.offset/A.limit+1||1),perPage:Number(A.limit||20)})),n())))},key:"inventory",customFilters:{advisorFilters:A},getEntities:W,showActions:!1,hideFilters:{all:!0,name:!1,operatingSystem:!1},noSystemsTable:s().createElement("div",null),mergeAppColumns:function(e){var t=e.find((function(e){return"updated"===e.key})),r={key:"impacted_date",title:"First Impacted",sortKey:"impacted_date",transforms:[c.p,l.WT],props:{width:15},renderFunc:t.renderFunc};return e.find((function(e){return"system_profile"===e.key})).props={isStatic:!0},[].concat((0,n.Z)(e),[r])},activeFiltersConfig:J,onRowClick:function(e,t){E("/insights/inventory/".concat(t,"?appName=advisor"))}})};I.propTypes={tableProps:j().any,rule:j().object,afterDisableFn:j().func,pathway:j().object,selectedTags:j().any,workloads:j().any,SID:j().any,permsExport:j().bool,exportTable:j().string,showTags:j().bool};const T=I},89881:(e,t,r)=>{var n=r(47816),a=r(99291)(n);e.exports=a},69199:(e,t,r)=>{var n=r(89881),a=r(98612);e.exports=function(e,t){var r=-1,o=a(e)?Array(e.length):[];return n(e,(function(e,n,a){o[++r]=t(e,n,a)})),o}},82689:(e,t,r)=>{var n=r(29932),a=r(97786),o=r(67206),i=r(69199),s=r(71131),u=r(7518),c=r(85022),l=r(6557),p=r(1469);e.exports=function(e,t,r){t=t.length?n(t,(function(e){return p(e)?function(t){return a(t,1===e.length?e[0]:e)}:e})):[l];var f=-1;t=n(t,u(o));var d=i(e,(function(e,r,a){return{criteria:n(t,(function(t){return t(e)})),index:++f,value:e}}));return s(d,(function(e,t){return c(e,t,r)}))}},71131:e=>{e.exports=function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}},26393:(e,t,r)=>{var n=r(33448);e.exports=function(e,t){if(e!==t){var r=void 0!==e,a=null===e,o=e==e,i=n(e),s=void 0!==t,u=null===t,c=t==t,l=n(t);if(!u&&!l&&!i&&e>t||i&&s&&c&&!u&&!l||a&&s&&c||!r&&c||!o)return 1;if(!a&&!i&&!l&&e<t||l&&r&&o&&!a&&!i||u&&r&&o||!s&&o||!c)return-1}return 0}},85022:(e,t,r)=>{var n=r(26393);e.exports=function(e,t,r){for(var a=-1,o=e.criteria,i=t.criteria,s=o.length,u=r.length;++a<s;){var c=n(o[a],i[a]);if(c)return a>=u?c:c*("desc"==r[a]?-1:1)}return e.index-t.index}},99291:(e,t,r)=>{var n=r(98612);e.exports=function(e,t){return function(r,a){if(null==r)return r;if(!n(r))return e(r,a);for(var o=r.length,i=t?o:-1,s=Object(r);(t?i--:++i<o)&&!1!==a(s[i],i,s););return r}}},75472:(e,t,r)=>{var n=r(82689),a=r(1469);e.exports=function(e,t,r,o){return null==e?[]:(a(t)||(t=null==t?[]:[t]),a(r=o?void 0:r)||(r=null==r?[]:[r]),n(e,t,r))}}}]);
//# sourceMappingURL=../sourcemaps/ImmutableDevices.929c9ae78af9a8ae5a4e27cf38033b7d.js.map