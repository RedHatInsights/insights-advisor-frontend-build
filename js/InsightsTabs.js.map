{"version":3,"sources":["webpack:///./src/PresentationalComponents/Loading/Loading.js","webpack:///./src/SmartComponents/InsightsTabs/InsightsTabs.scss","webpack:///./src/SmartComponents/InsightsTabs/InsightsTabs.js","webpack:///./src/SmartComponents/InsightsTabs/InsightsTabs.scss?3254","webpack:///./node_modules/@patternfly/react-core/dist/js/components/Tabs/index.js"],"names":["Loading","module","exports","push","i","RulesTable","lazy","SystemsTable","TagsToolbar","cveAlertShown","InsightsTabs","intl","history","useState","activeTab","setActiveTab","cveAlert","setCveAlert","tabs","recommendations","title","formatMessage","messages","to","component","fallback","systems","useEffect","tabType","location","pathname","slice","indexOf","split","Fragment","className","variant","isInline","cveAlertTitle","action","onClose","href","UI_BASE","mountOnEnter","unmountOnExit","activeKey","toLowerCase","onSelect","event","tabKey","aria-label","TabsVariant","nav","Object","entries","map","item","key","eventKey","displayName","propTypes","PropTypes","object","any","injectIntl","routerParams","content","options","transform","undefined","update","locals","hot","accept","newContent","a","b","idx","Error","dispose","defineProperty","value","_Tab","keys","forEach","enumerable","get","_Tabs","_TabContent"],"mappings":"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","file":"js/InsightsTabs.js","sourcesContent":["import { Card } from '@patternfly/react-core/dist/js/components/Card/Card';\nimport { CardBody } from '@patternfly/react-core/dist/js/components/Card/CardBody';\nimport { List } from 'react-content-loader';\nimport React from 'react';\nconst Loading = () => <>\n    <Card>\n        <CardBody>\n            <List />\n        </CardBody>\n    </Card></>;\n\nexport default Loading;\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".pf-c-tabs.insights-tabs{background-color:var(--pf-global--BackgroundColor--100);padding-left:var(--pf-c-page__main-section--md--PaddingLeft)}.alertOverride{margin-top:24px}\\n\", \"\"]);\n\n","import './InsightsTabs.scss';\n\nimport { PageHeader, PageHeaderTitle } from '@redhat-cloud-services/frontend-components/components/PageHeader';\nimport React, { Suspense, lazy, useEffect, useState } from 'react';\nimport { Tab, TabsVariant } from '@patternfly/react-core/dist/js/components/Tabs/index';\n\nimport { Alert } from '@patternfly/react-core/dist/js/components/Alert/Alert';\nimport { AlertActionCloseButton } from '@patternfly/react-core/dist/js/components/Alert/AlertActionCloseButton';\nimport Loading from '../../PresentationalComponents/Loading/Loading';\nimport { Main } from '@redhat-cloud-services/frontend-components/components/Main';\nimport PropTypes from 'prop-types';\nimport { Tabs } from '@patternfly/react-core/dist/js/components/Tabs/Tabs';\nimport { UI_BASE } from '../../AppConstants';\nimport { injectIntl } from 'react-intl';\nimport messages from '../../Messages';\nimport routerParams from '@redhat-cloud-services/frontend-components-utilities/files/RouterParams';\n\nconst RulesTable = lazy(() => import(/* webpackChunkName: \"RulesTable\" */ '../../PresentationalComponents/RulesTable/RulesTable'));\nconst SystemsTable = lazy(() => import(/* webpackChunkName: \"SystemsTable\" */ '../../PresentationalComponents/SystemsTable/SystemsTable'));\nconst TagsToolbar = lazy(() => import(/* webpackChunkName: \"TagsToolbar\" */ '../../PresentationalComponents/TagsToolbar/TagsToolbar'));\n\nlet cveAlertShown = true;\nconst InsightsTabs = ({ intl, history }) => {\n    const [activeTab, setActiveTab] = useState({});\n    const [cveAlert, setCveAlert] = useState(cveAlertShown);\n    const tabs = {\n        recommendations: {\n            title: intl.formatMessage(messages.recommendations), to: '/recommendations',\n            component: <Suspense fallback={<Loading />}><RulesTable /></Suspense>\n        },\n        systems: {\n            title: intl.formatMessage(messages.systems), to: '/recommendations/systems',\n            component: <Suspense fallback={<Loading />}><SystemsTable /></Suspense>\n        }\n    };\n\n    useEffect(() => {\n        const tabType = location.pathname.slice(location.pathname.indexOf('advisor/')).split('/')[2] === 'systems' ? 'systems' : 'recommendations';\n        const activeTab = tabs[tabType];\n        setActiveTab(activeTab);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const handleTabClick = (event, tabKey) => {\n        const activeTab = tabs[tabKey];\n        setActiveTab(activeTab);\n        history.push(activeTab.to);\n    };\n\n    return <React.Fragment>\n        <Suspense fallback={<Loading />}> <TagsToolbar /> </Suspense>\n        <PageHeader>\n            <PageHeaderTitle title={intl.formatMessage(messages.recommendations)} />\n            {cveAlert && <Alert\n                className='alertOverride'\n                variant=\"warning\"\n                isInline\n                title={intl.formatMessage(messages.cveAlertTitle)}\n                action={<AlertActionCloseButton onClose={() => {cveAlertShown = false; setCveAlert(false);}} />}\n            >\n                {intl.formatMessage(messages.cveAlert)}&nbsp; <a href={`${UI_BASE}/vulnerability/cves?page=1&sort=-public_date`}>View CVEs</a>\n            </Alert>}\n        </PageHeader>\n        {activeTab.title && <Tabs mountOnEnter unmountOnExit\n            className='insights-tabs'\n            activeKey={activeTab.title.toLowerCase()}\n            onSelect={handleTabClick}\n            aria-label=\"Insights Tabs\"\n            variant={TabsVariant.nav}\n        >\n            {Object.entries(tabs).map((item) =>\n                <Tab key={item[0]} eventKey={item[0]} title={item[1].title}>\n                    <Main>\n                        {activeTab.title === item[1].title && item[1].component}\n                    </Main>\n                </Tab>)\n            }\n        </Tabs>\n        }\n    </React.Fragment>;\n\n};\n\nInsightsTabs.displayName = 'insights-tabs';\nInsightsTabs.propTypes = {\n    location: PropTypes.object,\n    history: PropTypes.object,\n    intl: PropTypes.any\n};\n\nexport default injectIntl(routerParams(InsightsTabs));\n","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./InsightsTabs.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./InsightsTabs.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./InsightsTabs.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Tab = require(\"./Tab\");\n\nObject.keys(_Tab).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Tab[key];\n    }\n  });\n});\n\nvar _Tabs = require(\"./Tabs\");\n\nObject.keys(_Tabs).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Tabs[key];\n    }\n  });\n});\n\nvar _TabContent = require(\"./TabContent\");\n\nObject.keys(_TabContent).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _TabContent[key];\n    }\n  });\n});\n//# sourceMappingURL=index.js.map"],"sourceRoot":""}