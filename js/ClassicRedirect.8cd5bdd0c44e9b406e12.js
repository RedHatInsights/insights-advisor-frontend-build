(self.webpackChunkadvisor_frontend=self.webpackChunkadvisor_frontend||[]).push([[5748],{12735:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var a=n(92137),r=n(28481),s=n(87757),c=n.n(s),i=n(93264),o=n.n(i),l=n(60248),u=n(13317),d=n(32830),f=n(16530),m=n(77669),v=n(30781),p=n(60578),h=n(77121),Z=n(59458);const g=function(){var e=(0,i.useState)("pending"),t=(0,r.Z)(e,2),n=t[0],s=t[1],g=(0,i.useState)(),w=(0,r.Z)(g,2),k=w[0],E=w[1],b=(0,Z.Z)(),y=(0,h.useDispatch)(),x=function(e){var t=e.split("/"),n=t.some((function(e){return"beta"===e}))?6:5;switch(null==t?void 0:t[3]){case"systems":return[null==t?void 0:t[n],"/systems"];case"recommendations":return[null==t?void 0:t[n+1],"/recommendations/".concat(null==t?void 0:t[n])];default:throw new Error(b.formatMessage(p.Z.invalidPathname))}};return(0,i.useEffect)((function(){(0,a.Z)(c().mark((function e(){var t,n,a,i,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=x(window.location.pathname),n=(0,r.Z)(t,2),a=n[0],i=n[1],e.next=4,l.Z.get("/api/inventory/v1/hosts?insights_id=".concat(a));case 4:o=e.sent.data.results[0].id,E("".concat(i,"/").concat(o)),s("fulfilled"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),y((0,v.addNotification)({variant:"danger",dismissable:!0,title:b.formatMessage(p.Z.error),description:"".concat(e.t0)})),s("rejected");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))()}),[E,s,b,y]),o().createElement(o().Fragment,null,"pending"===n&&o().createElement(u.Z,null),"fulfilled"===n&&o().createElement(f.Redirect,{to:k}),"rejected"===n&&o().createElement(d.Z,{icon:m.ZP,title:b.formatMessage(p.Z.inventoryIdNotFound)}))}}}]);