{"version":3,"sources":["webpack:///./src/PresentationalComponents/RuleRating/_RuleRating.scss?866f","webpack:///./src/Utilities/_BarDividedList.scss?7c1d","webpack:///./src/PresentationalComponents/RuleLabels/RuleLabels.js","webpack:///./src/PresentationalComponents/RuleLabels/_RuleLabels.scss?9fb3","webpack:///./src/PresentationalComponents/Modals/ViewHostAcks.js","webpack:///./src/PresentationalComponents/Common/DownloadHelper.js","webpack:///./src/PresentationalComponents/RuleRating/RuleRating.js","webpack:///./src/Utilities/BarDividedList.js","webpack:///./src/PresentationalComponents/RuleDetails/RuleDetails.js","webpack:///./src/PresentationalComponents/RulesTable/_RulesTable.scss?9877","webpack:///./src/PresentationalComponents/RulesTable/RulesTable.js","webpack:///./src/AppActions.js","webpack:///./src/PresentationalComponents/RuleDetails/_RuleDetails.scss","webpack:///./src/PresentationalComponents/RuleRating/_RuleRating.scss","webpack:///./src/Utilities/_BarDividedList.scss","webpack:///./src/PresentationalComponents/RuleLabels/_RuleLabels.scss","webpack:///./src/PresentationalComponents/Common/Tables.js","webpack:///./src/PresentationalComponents/MessageState/MessageState.js","webpack:///./src/PresentationalComponents/Loading/Failed.js","webpack:///./src/Utilities/Debounce.js","webpack:///./src/PresentationalComponents/RulesTable/_RulesTable.scss","webpack:///./src/PresentationalComponents/Modals/DisableRule.js","webpack:///./src/PresentationalComponents/RuleDetails/_RuleDetails.scss?ed93"],"names":["content","module","i","options","transform","undefined","update","locals","exports","hot","accept","newContent","a","b","key","idx","Error","dispose","RuleLabels","intl","rule","Fragment","tags","search","formatMessage","messages","incidentTooltip","position","TooltipPosition","right","isCompact","className","incident","reports_shown","ruleIsDisabledTooltip","size","disabled","propTypes","PropTypes","any","object","injectIntl","ViewHostAcks","fetchHostAcks","hostAcksFetchStatus","handleModalToggle","isModalOpen","hostAcks","afterFn","columns","systemName","justificationNote","dateDisabled","useState","rows","setRows","unclean","setUnclean","deleteAck","host","API","BASE_URL","id","rule_id","limit","hosts_acked_count","addNotification","variant","dismissable","title","error","description","useEffect","data","map","item","cells","display_name","system_uuid","justification","none","date","Date","updated_at","type","isInline","onClick","enable","asMutable","length","width","hostAckModalTitle","isOpen","onClose","isFooterLeftAligned","aria-label","props","colSpan","bool","func","string","defaultProps","connect","AdvisorStore","ownProps","dispatch","setAck","fileName","exportTable","defaultParams","toISOString","replace","split","downloadHelper","format","params","get","payload","JSON","stringify","downloadFile","RuleRating","rating","setRating","submitted","setSubmitted","feedbackThankyou","thankYou","setThankYou","updateRuleRating","newRating","calculatedRating","post","AppConstants","setTimeout","console","ruleHelpful","Button","BarDividedList","list","element","index","RuleDetails","children","topics","header","isDetailsPage","resolutionRisk","resolution","resolution_set","find","system_type","rhel","ocp","resolution_risk","risk","ruleResolutionRisk","topicLinks","topic","tag","slug","to","name","ruleDescription","isGeneric","Boolean","source","escapeHtml","Split","gutter","Stack","generic","summary","node_id","rel","target","href","knowledgebaseArticle","Card","CardBody","topicRelatedToRule","barDividedList","impacted_systems_count","viewAffectedSystems","systems","totalRisk","Battery","label","severity","total_risk","TextContent","Text","component","TextVariants","small","rulesDetailsTotalriskBody","likelihood","impact","strong","str","riskofchange","Shield","hasTooltip","reboot_required","Reboot","red","array","RulesTable","rules","filters","rulesFetchStatus","setFilters","fetchRules","selectedTags","transforms","sortable","added","cellWidth","ansible","dataLabel","cols","sortBy","setSortBy","filterBuilding","setFilterBuilding","text","searchText","setSearchText","disableRuleOpen","setDisableRuleOpen","selectedRule","setSelectedRule","viewSystemsModalOpen","setViewSystemsModalOpen","viewSystemsModalRule","setViewSystemsModalRule","debouncedSearchText","debounce","DEBOUNCE_DELAY","results","meta","count","sortIndices","1","2","3","4","5","fetchRulesFn","useCallback","urlBuilder","join","filterFetchBuilder","onSetPage","pageNumber","newOffset","offset","toggleRulesDisabled","param","impacting","hideReports","rowId","rulesTableHideReportsErrorDisabled","rulesTableHideReportsErrorEnabled","window","location","paramsObject","paramParser","sort","has_playbook","Array","isArray","Number","reboot","sortIndex","Object","entries","sortDirection","direction","icon","CheckCircleIcon","iconClass","rulesTableNoRuleHitsTitle","rulesTableNoRuleHitsEnabledRulesBody","rulesTableNoRuleHitsAnyRulesBody","style","paddingTop","rulesTableNoRuleHitsAddDisabledButton","flatMap","value","publish_date","bottom","toLocaleString","nA","playbook_count","no","parent","fullWidth","ruleIsDisabledForAllSystems","ruleIsDisabledForSystemsBody","viewSystems","filter","localFilters","removeFilterParam","addFilterParam","values","actions","rulesTableActionShow","rulesTableActionHide","filterConfigItems","toLowerCase","filterValues","onChange","event","FC","urlParam","items","res_risk","category","activeFiltersConfig","pruneFilters","onDelete","itemsToRemove","isAll","newFilter","String","chips","toggleModal","pagination","itemCount","page","perPage","onPerPageSelect","exportConfig","exportCsv","exportJson","_e","fileType","downloadReport","actionsConfig","filterConfig","actionResolver","rowData","rowIndex","disableRule","enableRule","onCollapse","collapseRows","onSort","_event","orderParam","message","rulesTableFetchRulesError","widgetId","PaginationVariant","routerParams","state","url","AppActions","fetchData","headers","insights","chrome","auth","getUser","response","setData","ActionTypes","fetchRule","fetchSystem","ruleId","encodeURI","fetchTopics","fetchTopicsAdmin","fetchTopic","topic_id","fetchSystems","fetchRuleAck","setFiltersSystems","setSelectedTags","setRule","setSystem","system","___CSS_LOADER_API_IMPORT___","push","URL","queryString","keys","URLSearchParams","set","history","replaceState","origin","pathname","toString","assign","filterName","filterValue","searchParams","from","reduce","acc","parse","capitalize","toUpperCase","substring","filterCategories","prunedFilters","selectedCategoryValue","MessageState","iconStyle","headingLevel","marginBottom","CubesIcon","EmptyStateVariant","full","Failed","Debounce","delay","debouncedValue","setDebouncedValue","handler","clearTimeout","DisableRule","hosts","setJustificaton","singleSystem","setSingleSystem","bulkHostActions","host_ids","isSmall","onKeyPress","save","cancel","disableRuleBody","fieldId","isChecked","disableRuleForSystems","disableRuleSingleSystem","aria-describedby"],"mappings":"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","file":"js/RulesTable.js","sourcesContent":["\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./_RuleRating.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./_RuleRating.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./_RuleRating.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!./_BarDividedList.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!./_BarDividedList.scss\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!./_BarDividedList.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import './_RuleLabels.scss';\n\nimport { Tooltip, TooltipPosition } from '@patternfly/react-core/dist/js/components/Tooltip/Tooltip';\n\nimport BellSlashIcon from '@patternfly/react-icons/dist/js/icons/bell-slash-icon';\nimport { Label } from '@patternfly/react-core/dist/js/components/Label/Label';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { injectIntl } from 'react-intl';\nimport messages from '../../Messages';\n\nconst RuleLabels = ({ intl, rule }) => <React.Fragment >\n    {rule.tags.search('incident') !== -1 && <Tooltip content={intl.formatMessage(messages.incidentTooltip)} position={TooltipPosition.right}>\n        <Label isCompact className='incidentLabel'>{intl.formatMessage(messages.incident)}</Label>\n    </Tooltip>}\n    {!rule.reports_shown && <Tooltip content={intl.formatMessage(messages.ruleIsDisabledTooltip)} position={TooltipPosition.right}>\n        <Label isCompact className='disabledLabel'><BellSlashIcon size='sm' />&nbsp;{intl.formatMessage(messages.disabled)}</Label>\n    </Tooltip>}\n</React.Fragment>;\n\nRuleLabels.propTypes = {\n    intl: PropTypes.any,\n    rule: PropTypes.object\n};\n\nexport default injectIntl(RuleLabels);\n","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./_RuleLabels.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./_RuleLabels.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./_RuleLabels.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/* eslint-disable camelcase */\nimport React, { useEffect, useState } from 'react';\nimport { Table, TableBody, TableHeader } from '@patternfly/react-table';\nimport { fetchHostAcks, setAck } from '../../AppActions';\n\nimport API from '../../Utilities/Api';\nimport { BASE_URL } from '../../AppConstants';\nimport { Button } from '@patternfly/react-core/dist/js/components/Button/Button';\nimport { DateFormat } from '@redhat-cloud-services/frontend-components/components/DateFormat';\nimport { List } from 'react-content-loader';\nimport { Modal } from '@patternfly/react-core/dist/js/components/Modal/Modal';\nimport OutlinedBellIcon  from '@patternfly/react-icons/dist/js/icons/outlined-bell-icon';\nimport PropTypes from 'prop-types';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications';\nimport { connect } from 'react-redux';\nimport { injectIntl } from 'react-intl';\nimport messages from '../../Messages';\n\nconst ViewHostAcks = ({ fetchHostAcks, hostAcksFetchStatus, handleModalToggle, intl, isModalOpen, hostAcks, rule, afterFn }) => {\n    const columns = [\n        intl.formatMessage(messages.systemName),\n        intl.formatMessage(messages.justificationNote),\n        intl.formatMessage(messages.dateDisabled),\n        ''\n    ];\n    const [rows, setRows] = useState([]);\n    const [unclean, setUnclean] = useState(false);\n\n    const deleteAck = async (host) => {\n        try {\n            await API.delete(`${BASE_URL}/hostack/${host.id}/`);\n            fetchHostAcks({ rule_id: rule.rule_id, limit: rule.hosts_acked_count });\n            setUnclean(true);\n        } catch (error) {\n            handleModalToggle(false);\n            addNotification({\n                variant: 'danger',\n                dismissable: true,\n                title: intl.formatMessage(messages.error),\n                description: `${error}`\n            });\n        }\n    };\n\n    useEffect(() => {\n        if (hostAcks.data) {\n            const rows = hostAcks.data.map(item => ({\n                cells: [\n                    item.display_name || item.system_uuid,\n                    item.justification || intl.formatMessage(messages.none),\n                    { title: <DateFormat date={new Date(item.updated_at)} type=\"onlyDate\" /> },\n                    {\n                        title: <Button key={item.system_uuid} isInline variant='link' onClick={() => deleteAck(item)}>\n                            <OutlinedBellIcon size='sm' /> &nbsp; {intl.formatMessage(messages.enable)}\n                        </Button >\n                    }\n                ]\n            })).asMutable();\n\n            if (!rows.length) { afterFn(); handleModalToggle(false); }\n\n            setRows(rows);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [hostAcks]);\n\n    useEffect(() => {\n        fetchHostAcks({ rule_id: rule.rule_id, limit: rule.hosts_acked_count });\n    }, [fetchHostAcks, rule.hosts_acked_count, rule.rule_id]);\n\n    return <Modal\n        width={'50%'}\n        title={intl.formatMessage(messages.hostAckModalTitle)}\n        isOpen={isModalOpen}\n        onClose={() => { unclean && afterFn(); handleModalToggle(false); }}\n        isFooterLeftAligned\n    >\n        {hostAcksFetchStatus === 'fulfilled' && <Table aria-label=\"host-ack-table\" rows={rows} cells={columns}>\n            <TableHeader />\n            <TableBody />\n        </Table>}\n        {hostAcksFetchStatus !== 'fulfilled' && <Table aria-label=\"host-ack-table\" rows={[{\n            cells: [{ props: { colSpan: 3 }, title: (<List />) }]\n        }]} cells={columns}>\n            <TableHeader />\n            <TableBody />\n        </Table>}\n    </Modal>;\n};\n\nViewHostAcks.propTypes = {\n    isModalOpen: PropTypes.bool,\n    handleModalToggle: PropTypes.func,\n    intl: PropTypes.any,\n    rule: PropTypes.object,\n    fetchHostAcks: PropTypes.func,\n    hostAcks: PropTypes.object,\n    hostAcksFetchStatus: PropTypes.string,\n    addNotification: PropTypes.func,\n    afterFn: PropTypes.func\n\n};\n\nViewHostAcks.defaultProps = {\n    isModalOpen: false,\n    handleModalToggle: () => undefined,\n    rule: {},\n    afterFn: () => undefined\n};\n\nconst mapStateToProps = ({ AdvisorStore, ownProps }) => ({\n    hostAcks: AdvisorStore.hostAcks,\n    hostAcksFetchStatus: AdvisorStore.hostAcksFetchStatus,\n    ...ownProps\n});\n\nconst mapDispatchToProps = dispatch => ({\n    setAck: data => dispatch(setAck(data)),\n    fetchHostAcks: data => dispatch(fetchHostAcks(data)),\n    addNotification: data => dispatch(addNotification(data))\n\n});\n\nexport default injectIntl(connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ViewHostAcks));\n","import API from '../../Utilities/Api';\nimport { BASE_URL } from '../../AppConstants';\nimport { downloadFile } from '@redhat-cloud-services/frontend-components-utilities/files/helpers';\n\nconst fileName = (exportTable) => {\n    const defaultParams = {\n        date: new Date().toISOString().replace(/[T:]/g, '-').split('.')[0] + '-utc'\n    };\n\n    return `Insights-Advisor_${exportTable}--${defaultParams.date}`;\n};\n\nconst downloadHelper = async (exportTable, format, params) => {\n    try {\n        const payload = await API.get(`${BASE_URL}/export/${exportTable}.${format === 'json' ? 'json' : 'csv'}${params}`);\n        let data = format === 'json' ? JSON.stringify(payload.data) : payload.data;\n        downloadFile(data, fileName(exportTable), format);\n    } catch (error) {\n        throw `${error}`;\n    }\n};\n\nexport default downloadHelper;\n","import './_RuleRating.scss';\n\nimport * as AppConstants from '../../AppConstants';\n\nimport React, { useState } from 'react';\n\nimport API from '../../Utilities/Api';\nimport { Button } from '@patternfly/react-core/dist/js/components/Button/Button';\nimport OutlinedThumbsDownIcon from '@patternfly/react-icons/dist/js/icons/outlined-thumbs-down-icon';\nimport OutlinedThumbsUpIcon from '@patternfly/react-icons/dist/js/icons/outlined-thumbs-up-icon';\nimport PropTypes from 'prop-types';\nimport ThumbsDownIcon from '@patternfly/react-icons/dist/js/icons/thumbs-down-icon';\nimport ThumbsUpIcon from '@patternfly/react-icons/dist/js/icons/thumbs-up-icon';\nimport { injectIntl } from 'react-intl';\nimport messages from '../../Messages';\n\nconst RuleRating = ({ intl, rule }) => {\n    const [rating, setRating] = useState(rule.rating);\n    const [submitted, setSubmitted] = useState(false);\n    const [thankYou, setThankYou] = useState(intl.formatMessage(messages.feedbackThankyou));\n    const updateRuleRating = async (newRating) => {\n        const calculatedRating = rating === newRating ? 0 : newRating;\n        try {\n            await API.post(`${AppConstants.BASE_URL}/rating/`, {}, { rule: rule.rule_id, rating: calculatedRating });\n            setRating(calculatedRating);\n            setSubmitted(true);\n            setTimeout(() => setThankYou(''), 3000);\n        } catch (error) {\n            console.error(error); // eslint-disable-line no-console\n        }\n    };\n\n    return <span className='ratingSpanOverride'>\n        {intl.formatMessage(messages.ruleHelpful)}\n        <Button variant=\"plain\" aria-label=\"thumbs-up\" onClick={() => updateRuleRating(1)}>\n            {rating === 1 ? <ThumbsUpIcon className='like' size='sm' /> :\n                <OutlinedThumbsUpIcon size='sm' />}\n        </Button>\n        <Button variant=\"plain\" aria-label=\"thumbs-down\" onClick={() => updateRuleRating(-1)}>\n            {rating === -1 ? <ThumbsDownIcon className='dislike' size='sm' /> :\n                <OutlinedThumbsDownIcon size='sm' />}\n        </Button>\n        {submitted && thankYou}\n    </span>;\n};\n\nRuleRating.propTypes = {\n    intl: PropTypes.any,\n    rule: PropTypes.object\n};\n\nexport default injectIntl(RuleRating);\n","import React from 'react';\nimport './_BarDividedList.scss';\n\nconst BarDividedList = (list) => list.map((element, index) => <React.Fragment key={index}>\n    {element}{index + 1 !== list.length && <strong className='verticalDivider'>&nbsp;&#124;&nbsp;</strong>}\n</React.Fragment>\n);\n\nexport default BarDividedList;\n","/* eslint max-len: 0 */\nimport './_RuleDetails.scss';\n\nimport * as AppConstants from '../../AppConstants';\n\nimport { Split, SplitItem } from '@patternfly/react-core/dist/js/layouts/Split/index';\nimport { Stack, StackItem } from '@patternfly/react-core/dist/js/layouts/Stack/index';\nimport { Text, TextVariants } from '@patternfly/react-core/dist/js/components/Text/Text';\nimport { compact, intersection } from 'lodash';\n\nimport { Battery } from '@redhat-cloud-services/frontend-components/components/Battery';\nimport { Card } from '@patternfly/react-core/dist/js/components/Card/Card';\nimport { CardBody } from '@patternfly/react-core/dist/js/components/Card/CardBody';\nimport ExternalLinkAltIcon from '@patternfly/react-icons/dist/js/icons/external-link-alt-icon';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactMarkdown from 'react-markdown/with-html';\nimport { Reboot } from '@redhat-cloud-services/frontend-components/components/Reboot';\nimport RuleRating from '../RuleRating/RuleRating';\nimport { Shield } from '@redhat-cloud-services/frontend-components/components/Shield';\nimport { TextContent } from '@patternfly/react-core/dist/js/components/Text/TextContent';\nimport barDividedList from '../../Utilities/BarDividedList';\nimport { injectIntl } from 'react-intl';\nimport messages from '../../Messages';\n\nconst RuleDetails = ({ children, rule, intl, topics, header, isDetailsPage }) => {\n    const ruleResolutionRisk = (rule) => {\n        const resolution = rule.resolution_set.find(resolution => resolution.system_type ===\n            AppConstants.SYSTEM_TYPES.rhel ||\n            AppConstants.SYSTEM_TYPES.ocp);\n        return resolution ? resolution.resolution_risk.risk : undefined;\n    };\n\n    const resolutionRisk = ruleResolutionRisk(rule);\n\n    const topicLinks = () => topics && compact(topics.map((topic) =>\n        intersection(topic.tag.split(' '), rule.tags.split(' ')).length &&\n        <React.Fragment key={topic.slug}>\n            <Link to={`/topics/${topic.slug}`}>\n                {`${topic.name}`}\n            </Link>\n        </React.Fragment>\n    ));\n\n    const ruleDescription = (data, isGeneric) => typeof data === 'string' && Boolean(data) && <span className={isGeneric && 'genericOverride'}>\n        <ReactMarkdown source={data} escapeHtml={false} />\n    </span>;\n\n    return <Split gutter='sm'>\n        <SplitItem>\n            <Stack gutter='sm'>\n                {header && <StackItem>\n                    {header}\n                </StackItem>}\n                <StackItem>{isDetailsPage ? ruleDescription(rule.generic, true) : ruleDescription(rule.summary)}</StackItem>\n                {rule.node_id && (\n                    <StackItem>\n                        <a rel=\"noopener noreferrer\" target=\"_blank\" href={`https://access.redhat.com/node/${rule.node_id}`}>\n                            {intl.formatMessage(messages.knowledgebaseArticle)}&nbsp;<ExternalLinkAltIcon size='sm' />\n                        </a>\n                    </StackItem>\n                )}\n                {topics && rule.tags && topicLinks().length > 0 &&\n                    <StackItem>\n                        <Card className=\"topicsCard\" isCompact>\n                            <CardBody>\n                                <strong>{intl.formatMessage(messages.topicRelatedToRule)}</strong>\n                                <br />\n                                {barDividedList(topicLinks())}\n                            </CardBody>\n                        </Card>\n                    </StackItem>\n                }\n                {isDetailsPage && <RuleRating rule={rule} />}\n                {!isDetailsPage && rule.impacted_systems_count > 0 &&\n                    <StackItem>\n                        <Link key={`${rule.rule_id}-link`} to={`/recommendations/${rule.rule_id}`}>\n                            {intl.formatMessage(messages.viewAffectedSystems, { systems: rule.impacted_systems_count })}\n                        </Link>\n                    </StackItem>\n                }\n            </Stack>\n        </SplitItem>\n        <SplitItem>\n            <Stack gutter='sm'>\n                {children && (\n                    <StackItem>\n                        {children}\n                    </StackItem>\n                )}\n                <StackItem>\n                    <Stack>\n                        <StackItem>{intl.formatMessage(messages.totalRisk)}</StackItem>\n                        <StackItem className='pf-u-display-inline-flex alignCenterOverride pf-u-pb-sm pf-u-pt-sm'>\n                            <span className='pf-u-display-inline-flex'>\n                                <Battery\n                                    label=''\n                                    severity={rule.total_risk} />\n                                <span className={`batteryTextMarginOverride pf-u-pl-sm ins-sev-clr-${rule.total_risk}`}>\n                                    {AppConstants.TOTAL_RISK_LABEL[rule.total_risk] || intl.formatMessage(messages.undefined)}\n                                </span>\n                            </span>\n                        </StackItem>\n                        <StackItem>\n                            <TextContent>\n                                <Text component={TextVariants.small}>{intl.formatMessage(messages.rulesDetailsTotalriskBody, {\n                                    likelihood: AppConstants.LIKELIHOOD_LABEL[rule.likelihood] || intl.formatMessage(messages.undefined),\n                                    impact: AppConstants.IMPACT_LABEL[rule.impact.impact] || intl.formatMessage(messages.undefined),\n                                    strong(str) { return <strong>{str}</strong>; }\n                                })}</Text>\n                            </TextContent>\n                        </StackItem>\n                        <hr></hr>\n                        <StackItem>{intl.formatMessage(messages.riskofchange)}</StackItem>\n                        <StackItem className='pf-u-display-inline-flex alignCenterOverride pf-u-pb-sm pf-u-pt-sm'>\n                            <span className='pf-u-display-inline-flex'>\n                                <Shield\n                                    hasTooltip={false}\n                                    impact={resolutionRisk}\n                                    size={'md'}\n                                    title={AppConstants.RISK_OF_CHANGE_LABEL[resolutionRisk] || intl.formatMessage(messages.undefined)} />\n                                <span className={`label pf-u-pl-sm ins-sev-clr-${resolutionRisk}`}>\n                                    {AppConstants.RISK_OF_CHANGE_LABEL[resolutionRisk] || intl.formatMessage(messages.undefined)}\n                                </span>\n                            </span>\n                        </StackItem>\n                        <StackItem>\n                            <TextContent>\n                                <Text component={TextVariants.small}>\n                                    {AppConstants.RISK_OF_CHANGE_DESC[resolutionRisk]}\n                                </Text>\n                            </TextContent>\n                        </StackItem>\n                    </Stack>\n                </StackItem>\n                {rule.reboot_required && <StackItem><Reboot red /> </StackItem>}\n            </Stack>\n        </SplitItem>\n    </Split>;\n};\n\nRuleDetails.propTypes = {\n    children: PropTypes.any,\n    rule: PropTypes.object,\n    intl: PropTypes.any,\n    topics: PropTypes.array,\n    header: PropTypes.any,\n    isDetailsPage: PropTypes.bool\n};\n\nexport default injectIntl(RuleDetails);\n","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./_RulesTable.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./_RulesTable.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./_RulesTable.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/* eslint camelcase: 0 */\nimport './_RulesTable.scss';\n\nimport * as AppActions from '../../AppActions';\nimport * as AppConstants from '../../AppConstants';\n\nimport { DEBOUNCE_DELAY, FILTER_CATEGORIES as FC } from '../../AppConstants';\nimport { Pagination, PaginationVariant } from '@patternfly/react-core/dist/js/components/Pagination/Pagination';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { Stack, StackItem } from '@patternfly/react-core/dist/js/layouts/Stack/index';\nimport { Table, TableBody, TableHeader, cellWidth, sortable } from '@patternfly/react-table';\nimport { Tooltip, TooltipPosition } from '@patternfly/react-core/dist/js/components/Tooltip/Tooltip';\nimport { filterFetchBuilder, paramParser, pruneFilters, urlBuilder } from '../Common/Tables';\n\nimport API from '../../Utilities/Api';\nimport AnsibeTowerIcon from '@patternfly/react-icons/dist/js/icons/ansibeTower-icon';\nimport { BASE_URL } from '../../AppConstants';\nimport { Battery } from '@redhat-cloud-services/frontend-components/components/Battery';\nimport BellSlashIcon from '@patternfly/react-icons/dist/js/icons/bell-slash-icon';\nimport { Button } from '@patternfly/react-core/dist/js/components/Button/Button';\nimport CheckCircleIcon from '@patternfly/react-icons/dist/js/icons/check-circle-icon';\nimport { DateFormat } from '@redhat-cloud-services/frontend-components/components/DateFormat';\nimport DisableRule from '../Modals/DisableRule';\nimport Failed from '../../PresentationalComponents/Loading/Failed';\nimport { Link } from 'react-router-dom';\nimport Loading from '../../PresentationalComponents/Loading/Loading';\nimport { Main } from '@redhat-cloud-services/frontend-components/components/Main';\nimport MessageState from '../MessageState/MessageState';\nimport { PrimaryToolbar } from '@redhat-cloud-services/frontend-components/components/PrimaryToolbar';\nimport PropTypes from 'prop-types';\nimport RuleDetails from '../RuleDetails/RuleDetails';\nimport RuleLabels from '../RuleLabels/RuleLabels';\nimport { TableToolbar } from '@redhat-cloud-services/frontend-components/components/TableToolbar';\nimport ViewHostAcks from '../../PresentationalComponents/Modals/ViewHostAcks';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications';\nimport { connect } from 'react-redux';\nimport debounce from '../../Utilities/Debounce';\nimport downloadReport from '../Common/DownloadHelper';\nimport { injectIntl } from 'react-intl';\nimport messages from '../../Messages';\nimport routerParams from '@redhat-cloud-services/frontend-components-utilities/files/RouterParams';\n\nconst RulesTable = ({ rules, filters, rulesFetchStatus, setFilters, fetchRules, addNotification, intl, selectedTags }) => {\n    const [cols] = useState([\n        { title: intl.formatMessage(messages.description), transforms: [sortable] },\n        { title: intl.formatMessage(messages.added), transforms: [sortable, cellWidth(15)] },\n        { title: intl.formatMessage(messages.totalRisk), transforms: [sortable, cellWidth(15)] },\n        { title: intl.formatMessage(messages.systems), transforms: [sortable] },\n        {\n            title: <React.Fragment><AnsibeTowerIcon size='md' /> {intl.formatMessage(messages.ansible)}</React.Fragment>,\n            transforms: [sortable],\n            dataLabel: intl.formatMessage(messages.ansible)\n        }\n    ]);\n    const [rows, setRows] = useState([]);\n    const [sortBy, setSortBy] = useState({});\n    const [filterBuilding, setFilterBuilding] = useState(true);\n    const [searchText, setSearchText] = useState(filters.text || '');\n    const [disableRuleOpen, setDisableRuleOpen] = useState(false);\n    const [selectedRule, setSelectedRule] = useState({});\n    const [viewSystemsModalOpen, setViewSystemsModalOpen] = useState(false);\n    const [viewSystemsModalRule, setViewSystemsModalRule] = useState({});\n    const debouncedSearchText = debounce(searchText, DEBOUNCE_DELAY);\n    const results = rules.meta ? rules.meta.count : 0;\n    const sortIndices = { 1: 'description', 2: 'publish_date', 3: 'total_risk', 4: 'impacted_count', 5: 'playbook_count' };\n\n    const fetchRulesFn = useCallback(() => {\n        urlBuilder(filters, selectedTags);\n        const options = selectedTags.length && ({ tags: selectedTags.join() });\n        fetchRules({\n            ...filterFetchBuilder(filters),\n            ...options\n        });\n    }, [fetchRules, filters, selectedTags]);\n\n    const onSort = (_event, index, direction) => {\n        const orderParam = `${direction === 'asc' ? '' : '-'}${sortIndices[index]}`;\n        setSortBy({ index, direction });\n        setFilters({ ...filters, sort: orderParam, offset: 0 });\n    };\n\n    const onSetPage = (pageNumber) => {\n        const newOffset = pageNumber * filters.limit - filters.limit;\n        setFilters({ ...filters, offset: newOffset });\n    };\n\n    const toggleRulesWithHits = (impacting) => {\n        setFilters({ ...filters, impacting, offset: 0 });\n    };\n\n    const toggleRulesDisabled = (param) => {\n        const reports_shown = param === 'undefined' ? undefined : param;\n        setFilters({ ...filters, reports_shown, offset: 0, ...(reports_shown !== 'true' && { impacting: false }) });\n    };\n\n    const handleOnCollapse = (event, rowId, isOpen) => {\n        const collapseRows = [...rows];\n        collapseRows[rowId] = { ...collapseRows[rowId], isOpen };\n        setRows(collapseRows);\n    };\n\n    const hideReports = async (rowId) => {\n        const rule = rows[rowId].rule;\n\n        try {\n            if (rule.reports_shown) {\n                setSelectedRule(rule);\n                setDisableRuleOpen(true);\n            } else {\n                await API.delete(`${BASE_URL}/ack/${rule.rule_id}/`);\n                fetchRulesFn();\n            }\n        } catch (error) {\n            addNotification({\n                variant: 'danger',\n                dismissable: true,\n                title: rule.reports_shown ? intl.formatMessage(messages.rulesTableHideReportsErrorDisabled)\n                    : intl.formatMessage(messages.rulesTableHideReportsErrorEnabled),\n                description: `${error}`\n            });\n        }\n    };\n\n    const actionResolver = (rowData, { rowIndex }) => {\n        const rule = rows[rowIndex].rule ? rows[rowIndex].rule : null;\n        if (rowIndex % 2 !== 0 || !rule) {\n            return null;\n        }\n\n        return rule && rule.reports_shown ?\n            [{\n                title: intl.formatMessage(messages.disableRule),\n                onClick: (event, rowId) => hideReports(rowId)\n            }]\n            : [{\n                title: intl.formatMessage(messages.enableRule),\n                onClick: (event, rowId) => hideReports(rowId)\n            }];\n    };\n\n    const buildFilterChips = () => {\n        const localFilters = { ...filters };\n        delete localFilters.impacting;\n        delete localFilters.topic;\n        delete localFilters.sort;\n        delete localFilters.offset;\n        delete localFilters.limit;\n\n        return pruneFilters(localFilters, FC);\n    };\n\n    useEffect(() => { !filterBuilding && selectedTags !== null && fetchRulesFn(); }, [fetchRulesFn, filterBuilding, filters, selectedTags]);\n\n    // Builds table filters from url params\n    useEffect(() => {\n        if (window.location.search && filterBuilding) {\n            const paramsObject = paramParser();\n            delete paramsObject.tags;\n            paramsObject.text === undefined ? setSearchText('') : setSearchText(paramsObject.text);\n            paramsObject.reports_shown = paramsObject.reports_shown === undefined || paramsObject.reports_shown[0] === 'undefined' ? undefined\n                : paramsObject.reports_shown;\n            paramsObject.sort = paramsObject.sort === undefined ? '-total_risk' : paramsObject.sort[0];\n            paramsObject.has_playbook !== undefined && !Array.isArray(paramsObject.has_playbook) &&\n                (paramsObject.has_playbook = [`${paramsObject.has_playbook}`]);\n            paramsObject.incident !== undefined && !Array.isArray(paramsObject.incident) && (paramsObject.incident = [`${paramsObject.incident}`]);\n            paramsObject.offset === undefined ? paramsObject.offset = 0 : paramsObject.offset = Number(paramsObject.offset[0]);\n            paramsObject.limit === undefined ? paramsObject.limit = 10 : paramsObject.limit = Number(paramsObject.limit[0]);\n            paramsObject.reboot !== undefined && !Array.isArray(paramsObject.reboot) && (paramsObject.reboot = [`${paramsObject.reboot}`]);\n\n            setFilters({ ...filters, ...paramsObject });\n        }\n\n        setFilterBuilding(false);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    useEffect(() => {\n        if (filters.sort !== undefined) {\n            const sortIndex = Number(Object.entries(sortIndices).find(item => item[1] === filters.sort || `-${item[1]}` === filters.sort)[0]);\n            const sortDirection = filters.sort[0] === '-' ? 'desc' : 'asc';\n            setSortBy({ index: sortIndex, direction: sortDirection });\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [filters.sort]);\n\n    useEffect(() => {\n        if (rules.data) {\n            if (rules.data.length === 0) {\n                setRows([{\n                    cells: [{\n                        title: (\n                            <MessageState icon={CheckCircleIcon} iconClass='ansibleCheck' size='md'\n                                title={intl.formatMessage(messages.rulesTableNoRuleHitsTitle)} text={filters.reports_shown ?\n                                    intl.formatMessage(messages.rulesTableNoRuleHitsEnabledRulesBody) :\n                                    intl.formatMessage(messages.rulesTableNoRuleHitsAnyRulesBody)}>\n                                {filters.reports_shown && <Button variant=\"link\" style={{ paddingTop: 24 }}\n                                    onClick={() => toggleRulesDisabled('undefined')}>\n                                    {intl.formatMessage(messages.rulesTableNoRuleHitsAddDisabledButton)}\n                                </Button>}\n                            </MessageState>),\n                        props: { colSpan: 5 }\n                    }]\n                }]\n                );\n            } else {\n                const rows = rules.data.flatMap((value, key) => ([{\n                    isOpen: false,\n                    rule: value,\n                    cells: [{\n                        title:\n                            <span key={key}>\n                                <RuleLabels rule={value} />\n                                <Link key={key} to={`/recommendations/${value.rule_id}`}> {value.description} </Link>\n                            </span>\n                    }, {\n                        title: <DateFormat key={key} date={value.publish_date} variant='relative' />\n                    }, {\n                        title: <div className=\"pf-m-center\" key={key}>\n                            <Tooltip key={key} position={TooltipPosition.bottom} content={intl.formatMessage(messages.rulesDetailsTotalriskBody, {\n                                likelihood: AppConstants.LIKELIHOOD_LABEL[value.likelihood] || intl.formatMessage(messages.undefined),\n                                impact: AppConstants.IMPACT_LABEL[value.impact.impact] || intl.formatMessage(messages.undefined),\n                                strong(str) { return <strong>{str}</strong>; }\n                            })}>\n                                <Battery\n                                    label={AppConstants.TOTAL_RISK_LABEL[value.total_risk] || intl.formatMessage(messages.undefined)}\n                                    severity={value.total_risk}\n                                />\n                            </Tooltip>\n                        </div>\n                    }, {\n                        title: <div key={key}> {value.reports_shown ?\n                            `${value.impacted_systems_count.toLocaleString()}`\n                            : intl.formatMessage(messages.nA)}</div>\n                    }, {\n                        title: <div className=\"pf-m-center \" key={key}>\n                            {value.playbook_count ? <CheckCircleIcon className='ansibleCheck' /> : intl.formatMessage(messages.no)}\n                        </div>\n                    }]\n                }, {\n                    parent: key * 2,\n                    fullWidth: true,\n                    cells: [{\n                        title: <Main className='pf-m-light'>\n                            <Stack gutter=\"md\">\n                                {value.hosts_acked_count ? <StackItem>\n                                    <BellSlashIcon size='sm' />\n                                    &nbsp;{value.hosts_acked_count && !value.impacted_systems_count ?\n                                        intl.formatMessage(messages.ruleIsDisabledForAllSystems) :\n                                        intl.formatMessage(messages.ruleIsDisabledForSystemsBody, { systems: value.hosts_acked_count })}\n                                    &nbsp; <Button isInline variant='link'\n                                        onClick={() => { setViewSystemsModalRule(value); setViewSystemsModalOpen(true); }}>\n                                        {intl.formatMessage(messages.viewSystems)}\n                                    </Button>\n                                </StackItem>\n                                    : <React.Fragment></React.Fragment>}\n                                <RuleDetails rule={value} />\n                            </Stack>\n                        </Main>\n                    }]\n                }\n                ]));\n                setRows(rows.asMutable());\n            }\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [rules]);\n\n    // Debounced function, sets text filter after specified time (800ms)\n    useEffect(() => {\n        if (!filterBuilding && rulesFetchStatus !== 'pending') {\n            const filter = { ...filters };\n            const text = searchText.length ? { text: searchText } : {};\n            delete filter.text;\n            setFilters({ ...filter, ...text, offset: 0 });\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [debouncedSearchText]);\n\n    const removeFilterParam = (param) => {\n        const filter = { ...filters, offset: 0 };\n        param === 'text' && setSearchText('');\n        delete filter[param];\n        setFilters(filter);\n    };\n\n    const addFilterParam = (param, values) => {\n        values.length > 0 ? setFilters({ ...filters, offset: 0, ...{ [param]: values } }) : removeFilterParam(param);\n    };\n\n    const actions = [\n        '', {\n            label: intl.formatMessage(filters.impacting ? messages.rulesTableActionShow : messages.rulesTableActionHide),\n            onClick: () => toggleRulesWithHits(!filters.impacting)\n        }\n    ];\n\n    const filterConfigItems = [{\n        label: intl.formatMessage(messages.description).toLowerCase(),\n        filterValues: {\n            key: 'text-filter',\n            onChange: (event, value) => setSearchText(value),\n            value: searchText\n        }\n    }, {\n        label: FC.total_risk.title,\n        type: FC.total_risk.type,\n        id: FC.total_risk.urlParam,\n        value: `checkbox-${FC.total_risk.urlParam}`,\n        filterValues: {\n            key: `${FC.total_risk.urlParam}-filter`,\n            onChange: (event, values) => addFilterParam(FC.total_risk.urlParam, values),\n            value: filters.total_risk,\n            items: FC.total_risk.values\n        }\n    }, {\n        label: FC.res_risk.title,\n        type: FC.res_risk.type,\n        id: FC.res_risk.urlParam,\n        value: `checkbox-${FC.res_risk.urlParam}`,\n        filterValues: {\n            key: `${FC.res_risk.urlParam}-filter`,\n            onChange: (event, values) => addFilterParam(FC.res_risk.urlParam, values),\n            value: filters.res_risk,\n            items: FC.res_risk.values\n        }\n    }, {\n        label: FC.impact.title,\n        type: FC.impact.type,\n        id: FC.impact.urlParam,\n        value: `checkbox-${FC.impact.urlParam}`,\n        filterValues: {\n            key: `${FC.impact.urlParam}-filter`,\n            onChange: (event, values) => addFilterParam(FC.impact.urlParam, values),\n            value: filters.impact,\n            items: FC.impact.values\n        }\n    }, {\n        label: FC.likelihood.title,\n        type: FC.likelihood.type,\n        id: FC.likelihood.urlParam,\n        value: `checkbox-${FC.likelihood.urlParam}`,\n        filterValues: {\n            key: `${FC.likelihood.urlParam}-filter`,\n            onChange: (event, values) => addFilterParam(FC.likelihood.urlParam, values),\n            value: filters.likelihood,\n            items: FC.likelihood.values\n        }\n    }, {\n        label: FC.category.title,\n        type: FC.category.type,\n        id: FC.category.urlParam,\n        value: `checkbox-${FC.category.urlParam}`,\n        filterValues: {\n            key: `${FC.category.urlParam}-filter`,\n            onChange: (event, values) => addFilterParam(FC.category.urlParam, values),\n            value: filters.category,\n            items: FC.category.values\n        }\n    }, {\n        label: FC.incident.title,\n        type: FC.incident.type,\n        id: FC.incident.urlParam,\n        value: `checkbox-${FC.incident.urlParam}`,\n        filterValues: {\n            key: `${FC.incident.urlParam}-filter`,\n            onChange: (event, values) => addFilterParam(FC.incident.urlParam, values),\n            value: filters.incident,\n            items: FC.incident.values\n        }\n    }, {\n        label: FC.has_playbook.title,\n        type: FC.has_playbook.type,\n        id: FC.has_playbook.urlParam,\n        value: `checkbox-${FC.has_playbook.urlParam}`,\n        filterValues: {\n            key: `${FC.has_playbook.urlParam}-filter`,\n            onChange: (event, values) => addFilterParam(FC.has_playbook.urlParam, values),\n            value: filters.has_playbook,\n            items: FC.has_playbook.values\n        }\n    },  {\n        label: FC.reboot.title,\n        type: FC.reboot.type,\n        id: FC.reboot.urlParam,\n        value: `checkbox-${FC.reboot.urlParam}`,\n        filterValues: {\n            key: `${FC.reboot.urlParam}-filter`,\n            onChange: (event, values) => addFilterParam(FC.reboot.urlParam, values),\n            value: filters.reboot,\n            items: FC.reboot.values\n        }\n    }, {\n        label: FC.reports_shown.title,\n        type: FC.reports_shown.type,\n        id: FC.reports_shown.urlParam,\n        value: `radio-${FC.reports_shown.urlParam}`,\n        filterValues: {\n            key: `${FC.reports_shown.urlParam}-filter`,\n            onChange: (event, value) => toggleRulesDisabled(value),\n            value: filters.reports_shown === undefined ? 'undefined' : `${filters.reports_shown}`,\n            items: FC.reports_shown.values\n        }\n    }];\n\n    const activeFiltersConfig = {\n        filters: buildFilterChips(),\n        onDelete: (event, itemsToRemove, isAll) => {\n            if (isAll) {\n                setSearchText('');\n                setFilters({\n                    ...(filters.topic && { topic: filters.topic }),\n                    impacting: true, reports_shown: 'true', limit: filters.limit, offset: filters.offset\n                });\n            } else {\n                itemsToRemove.map(item => {\n                    const newFilter = {\n                        [item.urlParam]: Array.isArray(filters[item.urlParam]) ?\n                            filters[item.urlParam].filter(value => String(value) !== String(item.chips[0].value))\n                            : ''\n                    };\n                    newFilter[item.urlParam].length > 0 ? setFilters({ ...filters, ...newFilter }) : removeFilterParam(item.urlParam);\n                });\n            }\n        }\n    };\n\n    const afterViewSystemsFn = () => {\n        fetchRulesFn();\n    };\n\n    return <React.Fragment>\n        {viewSystemsModalOpen && <ViewHostAcks\n            handleModalToggle={(toggleModal) => setViewSystemsModalOpen(toggleModal)}\n            isModalOpen={viewSystemsModalOpen}\n            afterFn={afterViewSystemsFn}\n            rule={viewSystemsModalRule}\n        />}\n        {disableRuleOpen && <DisableRule\n            handleModalToggle={setDisableRuleOpen}\n            isModalOpen={disableRuleOpen}\n            rule={selectedRule}\n            afterFn={fetchRulesFn}\n        />}\n        <PrimaryToolbar\n            pagination={{\n                itemCount: results,\n                page: filters.offset / filters.limit + 1,\n                perPage: Number(filters.limit),\n                onSetPage(event, page) { onSetPage(page); },\n                onPerPageSelect(event, perPage) { setFilters({ ...filters, limit: perPage, offset: 0 }); },\n                isCompact: false\n            }}\n            exportConfig={{\n                label: intl.formatMessage(messages.exportCsv),\n                // eslint-disable-next-line no-dupe-keys\n                label: intl.formatMessage(messages.exportJson),\n                onSelect: (_e, fileType) => downloadReport('hits', fileType, urlBuilder(filters, selectedTags)),\n                isDisabled: !filters.impacting\n            }}\n            actionsConfig={{ actions }}\n            filterConfig={{ items: filterConfigItems }}\n            activeFiltersConfig={activeFiltersConfig}\n        />\n        {rulesFetchStatus === 'fulfilled' &&\n            <Table aria-label={'rule-table'}\n                actionResolver={actionResolver} onCollapse={handleOnCollapse} sortBy={sortBy}\n                onSort={onSort} cells={cols} rows={rows}>\n                <TableHeader />\n                <TableBody />\n            </Table>}\n        {rulesFetchStatus === 'pending' && (<Loading />)}\n        {rulesFetchStatus === 'failed' && (<Failed message={intl.formatMessage(messages.rulesTableFetchRulesError)} />)}\n        <TableToolbar>\n            <Pagination\n                itemCount={results}\n                page={(filters.offset / filters.limit + 1)}\n                perPage={Number(filters.limit)}\n                onSetPage={(event, page) => { onSetPage(page); }}\n                onPerPageSelect={(event, perPage) => { setFilters({ ...filters, limit: perPage, offset: 0 }); }}\n                widgetId={`pagination-options-menu-bottom`}\n                variant={PaginationVariant.bottom}\n            />\n        </TableToolbar>\n    </React.Fragment>;\n};\n\nRulesTable.propTypes = {\n    fetchRules: PropTypes.func,\n    rulesFetchStatus: PropTypes.string,\n    rules: PropTypes.object,\n    filters: PropTypes.object,\n    addNotification: PropTypes.func,\n    setFilters: PropTypes.func,\n    intl: PropTypes.any,\n    selectedTags: PropTypes.array\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n    rules: state.AdvisorStore.rules,\n    rulesFetchStatus: state.AdvisorStore.rulesFetchStatus,\n    filters: state.AdvisorStore.filters,\n    selectedTags: state.AdvisorStore.selectedTags,\n    ...ownProps\n});\n\nconst mapDispatchToProps = dispatch => ({\n    fetchRules: (url) => dispatch(AppActions.fetchRules(url)),\n    addNotification: data => dispatch(addNotification(data)),\n    setFilters: (filters) => dispatch(AppActions.setFilters(filters))\n});\n\nexport default injectIntl(routerParams(connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(RulesTable)));\n","import * as ActionTypes from './AppConstants';\n\nimport API from './Utilities/Api';\n\nconst fetchData = async (url, headers, options) => {\n    await insights.chrome.auth.getUser();\n    const response = await API.get(url, headers, options);\n    return response.data;\n};\n\nconst setData = async (url, headers, options) => {\n    await insights.chrome.auth.getUser();\n    const response = await API.post(url, headers, options);\n    return response.data;\n};\n\nexport const fetchStatsRules = (options) => ({\n    type: ActionTypes.STATS_RULES_FETCH,\n    payload: fetchData(ActionTypes.STATS_RULES_FETCH_URL, {}, options)\n});\nexport const fetchStatsSystems = (options) => ({\n    type: ActionTypes.STATS_SYSTEMS_FETCH,\n    payload: fetchData(ActionTypes.STATS_SYSTEMS_FETCH_URL, {}, options)\n});\nexport const fetchStatsStaleHosts = (options) => ({\n    type: ActionTypes.STATS_STALEHOSTS_FETCH,\n    payload: fetchData(ActionTypes.STATS_STALEHOSTS_FETCH_URL, {}, options)\n});\nexport const fetchRules = (options) => ({\n    type: ActionTypes.RULES_FETCH,\n    payload: fetchData(ActionTypes.RULES_FETCH_URL, {}, options)\n});\nexport const fetchRule = (options) => ({\n    type: ActionTypes.RULE_FETCH,\n    payload: fetchData(`${ActionTypes.RULES_FETCH_URL}${options.rule_id}/`, {}, options.tags && { tags: options.tags })\n});\nexport const fetchSystem = (ruleId, options) => ({\n    type: ActionTypes.SYSTEM_FETCH,\n    payload: fetchData(`${ActionTypes.RULES_FETCH_URL}${encodeURI(ruleId)}/systems`, {}, options)\n});\nexport const setFilters = (filters) => ({\n    type: ActionTypes.FILTERS_SET,\n    payload: filters\n});\nexport const fetchTopics = (options) => ({\n    type: ActionTypes.TOPICS_FETCH,\n    payload: fetchData(ActionTypes.TOPICS_FETCH_URL, {}, options)\n});\nexport const fetchTopicsAdmin = () => ({\n    type: ActionTypes.TOPICS_FETCH,\n    payload: fetchData(`${ActionTypes.TOPICS_FETCH_URL}?show_disabled=true`)\n});\nexport const fetchTopic = (options) => ({\n    type: ActionTypes.TOPIC_FETCH,\n    payload: fetchData(`${ActionTypes.TOPICS_FETCH_URL}${options.topic_id}/`)\n});\nexport const fetchSystems = (options) => ({\n    type: ActionTypes.SYSTEMS_FETCH,\n    payload: fetchData(ActionTypes.SYSTEMS_FETCH_URL, {}, options)\n});\nexport const fetchRuleAck = (options) => ({\n    type: ActionTypes.RULE_ACK_FETCH,\n    payload: fetchData(`${ActionTypes.RULE_ACK_URL}${options.rule_id}/`)\n});\nexport const setAck = (options) => ({\n    type: ActionTypes[`${options.type}_ACK_SET`],\n    payload: setData(ActionTypes[`${options.type}_ACK_URL`], {}, options.options)\n});\nexport const fetchHostAcks = (options) => ({\n    type: ActionTypes.HOST_ACK_FETCH,\n    payload: fetchData(`${ActionTypes.HOST_ACK_URL}`, {}, options)\n});\nexport const setFiltersSystems = (filters) => ({\n    type: ActionTypes.FILTERS_SYSTEMS_SET,\n    payload: filters\n});\nexport const setSelectedTags = (tags) => ({\n    type: ActionTypes.SELECTED_TAGS_SET,\n    payload: tags\n});\nexport const setRule = (rule) => ({\n    type: ActionTypes.RULE_SET,\n    payload: rule\n});\nexport const setSystem = (system) => ({\n    type: ActionTypes.SYSTEM_SET,\n    payload: system\n});\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"hr{border:0.01rem solid #ccc;margin:var(--pf-global--spacer--md) 0 var(--pf-global--spacer--md) 0}.ins-sev-clr-1{color:var(--pf-global--Color--200)}.ins-sev-clr-2{color:var(--pf-global--warning-color--100)}.ins-sev-clr-3{color:var(--ins-color--orange)}.ins-sev-clr-4{color:var(--pf-global--danger-color--100)}.ansibleCol svg{vertical-align:text-bottom}.ansibleCheck{color:var(--pf-global--success-color--200)}.topicsCard{background-color:var(--pf-global--BackgroundColor--150);box-shadow:none;word-break:break-word}.alignCenterOverride{align-items:center}.batteryTextMarginOverride{padding-top:3px}.genericOverride p{margin-top:0;margin-bottom:var(--pf-global--spacer--md)}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".like{color:var(--pf-global--success-color--200)}.dislike{color:var(--pf-global--primary-color--100)}.ratingSpanOverride{font-size:var(--pf-global--FontSize--sm) !important}.ratingSpanOverride button{padding:8px}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".verticalDivider{color:var(--pf-global--BorderColor--100)}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".incidentLabel{background-color:var(--pf-global--danger-color--100) !important}.disabledLabel{background-color:var(--pf-global--Color--200) !important}.pf-c-label{margin-right:var(--pf-global--spacer--xs)}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Builds returns url params from table filters, pushes to url if history object is passed\nexport const urlBuilder = (filters, selectedTags) => {\n    const url = new URL(window.location);\n    const queryString = `${Object.keys(filters).map(key => `${key}=${Array.isArray(filters[key]) ? filters[key].join() : filters[key]}`).join('&')}`;\n    const params = new URLSearchParams(queryString);\n    selectedTags !== null && selectedTags.length ? params.set('tags', selectedTags.join()) : params.delete('tags');\n    window.history.replaceState(null, null, `${url.origin}${url.pathname}?${params.toString()}`);\n    return `?${queryString}`;\n};\n\n// transforms array of strings -> comma seperated strings, required by advisor api\nexport const filterFetchBuilder = (filters) => Object.assign({},\n    ...Object.entries(filters).map(([filterName, filterValue]) => Array.isArray(filterValue) ?\n        ((filterValue[0] === 'true') || (filterValue[0] === 'false')) && filterValue.length > 1 ? null\n            : { [filterName]: filterValue.join() }\n        : { [filterName]: filterValue })\n);\n\n// parses url params for use in table/filter chips\nexport const paramParser = () => {\n    const searchParams = new URLSearchParams(window.location.search);\n    return Array.from(searchParams).reduce((acc, [key, value]) => ({\n        ...acc, [key]: (value === 'true' || value === 'false') ? JSON.parse(value) : value.split(',')\n    }), {});\n};\n\n// capitalizes text string\nexport const capitalize = (string) => string[0].toUpperCase() + string.substring(1);\n\nexport const pruneFilters = (localFilters, filterCategories) => {\n    const prunedFilters = Object.entries(localFilters);\n    return prunedFilters.length > 0 ? prunedFilters.map(item => {\n        if (filterCategories[item[0]]) {\n            const category = filterCategories[item[0]];\n            const chips = Array.isArray(item[1]) ? item[1].map(value => {\n                const selectedCategoryValue = category.values.find(values => values.value === String(value));\n                return { name: selectedCategoryValue.text || selectedCategoryValue.label, value };\n            })\n                : [{ name: category.values.find(values => values.value === String(item[1])).label, value: item[1] }];\n            return { category: capitalize(category.title), chips, urlParam: category.urlParam };\n        } else {\n            return { category: 'Description', chips: [{ name: item[1], value: item[1] }], urlParam: item[0] };\n        }\n    })\n        : [];\n};\n","import { EmptyState, EmptyStateVariant } from '@patternfly/react-core/dist/js/components/EmptyState/EmptyState';\n\nimport  CubesIcon  from '@patternfly/react-icons/dist/js/icons/cubes-icon';\nimport { EmptyStateBody } from '@patternfly/react-core/dist/js/components/EmptyState/EmptyStateBody';\nimport { EmptyStateIcon } from '@patternfly/react-core/dist/js/components/EmptyState/EmptyStateIcon';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Title } from '@patternfly/react-core/dist/js/components/Title/Title';\n\nconst MessageState = ({ className, children, icon, iconClass, iconStyle, size, text, title, variant }) => (\n    <EmptyState className={className} variant={variant}>\n        {icon !== 'none' && <EmptyStateIcon className={iconClass} style={iconStyle} icon={icon} size={size} />}\n        <Title headingLevel=\"h5\" size='lg'>\n            {title}\n        </Title>\n        <EmptyStateBody style={{ marginBottom: '16px' }}>\n            {text}\n        </EmptyStateBody>\n        {children}\n    </EmptyState>\n);\n\nMessageState.propTypes = {\n    children: PropTypes.any,\n    icon: PropTypes.any,\n    iconClass: PropTypes.any,\n    iconStyle: PropTypes.any,\n    size: PropTypes.string,\n    text: PropTypes.any,\n    title: PropTypes.string,\n    variant: PropTypes.any,\n    className: PropTypes.string\n};\n\nMessageState.defaultProps = {\n    icon: CubesIcon,\n    title: '',\n    variant: EmptyStateVariant.full,\n    size: 'md'\n};\n\nexport default MessageState;\n","import { Card } from '@patternfly/react-core/dist/js/components/Card/Card';\nimport { CardBody } from '@patternfly/react-core/dist/js/components/Card/CardBody';\nimport { CardHeader } from '@patternfly/react-core/dist/js/components/Card/CardHeader';\nimport  FrownOpenIcon  from '@patternfly/react-icons/dist/js/icons/frown-open-icon';\nimport React from 'react';\nimport propTypes from 'prop-types';\n\nconst Failed = ({ message }) => <>\n    <Card className=\"ins-empty-rule-cards\">\n        <CardHeader>\n            <FrownOpenIcon size='lg'/>\n        </CardHeader>\n        <CardBody>\n            { message }\n        </CardBody>\n    </Card></>;\n\nexport default Failed;\n\nFailed.propTypes = {\n    message: propTypes.string\n};\n\n","import { useEffect, useState } from 'react';\n\nconst Debounce = (value, delay) => {\n    const [debouncedValue, setDebouncedValue] = useState(value);\n    useEffect(() => {\n        const handler = setTimeout(() => {setDebouncedValue(value);}, delay);\n        return () => {\n            clearTimeout(handler);\n        };\n    }, [delay, value]);\n\n    return debouncedValue;\n};\n\nexport default Debounce;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".pf-c-check__label #battery_svg{height:1.25rem}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","/* eslint-disable camelcase */\n\nimport React, { useState } from 'react';\nimport { setAck, setRule, setSystem } from '../../AppActions';\n\nimport API from '../../Utilities/Api';\nimport { BASE_URL } from '../../AppConstants';\nimport { Button } from '@patternfly/react-core/dist/js/components/Button/Button';\nimport { Checkbox } from '@patternfly/react-core/dist/js/components/Checkbox/Checkbox';\nimport { Form } from '@patternfly/react-core/dist/js/components/Form/Form';\nimport { FormGroup } from '@patternfly/react-core/dist/js/components/Form/FormGroup';\nimport { Modal } from '@patternfly/react-core/dist/js/components/Modal/Modal';\nimport PropTypes from 'prop-types';\nimport { TextInput } from '@patternfly/react-core/dist/js/components/TextInput/TextInput';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications';\nimport { connect } from 'react-redux';\nimport { injectIntl } from 'react-intl';\nimport messages from '../../Messages';\n\nconst DisableRule = ({ handleModalToggle, intl, isModalOpen, host, hosts, rule, afterFn, setAck, addNotification, setSystem, setRule,\n    selectedTags }) => {\n    const [justification, setJustificaton] = useState('');\n    const [singleSystem, setSingleSystem] = useState(host !== undefined || hosts.length > 0);\n\n    const bulkHostActions = async () => {\n        const data = { systems: hosts, justification };\n        try {\n            const response = await API.post(`${BASE_URL}/rule/${rule.rule_id}/ack_hosts/`,\n                {}, data);\n            if (selectedTags.length > 0) {\n                afterFn && afterFn();\n            } else {\n                setSystem({ host_ids: response.data.host_ids });\n                setRule({ ...rule, hosts_acked_count: response.data.count + rule.hosts_acked_count });\n            }\n\n        } catch (error) {\n            addNotification({ variant: 'danger', dismissable: true, title: intl.formatMessage(messages.error), description: `${error}` });\n        }\n    };\n\n    const disableRule = async () => {\n        if (rule.reports_shown && !hosts.length) {\n            const options = singleSystem\n                ? { type: 'HOST', options: { rule: rule.rule_id, system_uuid: host.id, justification } }\n                : { type: 'RULE', options: { rule_id: rule.rule_id, ...(justification && { justification }) } };\n            await setAck(options);\n            setJustificaton('');\n            afterFn && afterFn();\n        } else {\n            bulkHostActions();\n        }\n\n        handleModalToggle(false);\n    };\n\n    const handleKeyPress = (event) => {\n        if (event.key === 'Enter') { disableRule(); }\n    };\n\n    return <Modal\n        isSmall\n        title={intl.formatMessage(messages.disableRule)}\n        isOpen={isModalOpen}\n        onClose={() => { handleModalToggle(false); setJustificaton(''); }}\n        onKeyPress={handleKeyPress}\n        actions={[\n            <Button key=\"confirm\" variant=\"primary\" onClick={() => disableRule()}>\n                {intl.formatMessage(messages.save)}\n            </Button>,\n            <Button key=\"cancel\" variant=\"link\" onClick={() => { handleModalToggle(false); setJustificaton(''); }}>\n                {intl.formatMessage(messages.cancel)}\n            </Button>\n        ]}\n        isFooterLeftAligned\n    >\n        {intl.formatMessage(messages.disableRuleBody)}\n        <Form>\n            <FormGroup fieldId='blank-form' />\n            {(host !== undefined || hosts.length > 0) && <FormGroup fieldId='disable-rule-one-system'>\n                <Checkbox\n                    isChecked={singleSystem}\n                    onChange={() => { setSingleSystem(!singleSystem); }}\n                    label={hosts.length ? intl.formatMessage(messages.disableRuleForSystems) : intl.formatMessage(messages.disableRuleSingleSystem)}\n                    id=\"disable-rule-one-system\"\n                    name=\"disable-rule-one-system\" />\n            </FormGroup>}\n            <FormGroup\n                label={intl.formatMessage(messages.justificationNote)}\n                fieldId=\"disable-rule-justification\">\n                <TextInput\n                    type=\"text\"\n                    id=\"disable-rule-justification\"\n                    name=\"disable-rule-justification\"\n                    aria-describedby=\"disable-rule-justification\"\n                    value={justification}\n                    onChange={(text) => { setJustificaton(text); }}\n                />\n            </FormGroup>\n        </Form>\n    </Modal>;\n};\n\nDisableRule.propTypes = {\n    isModalOpen: PropTypes.bool,\n    host: PropTypes.object,\n    handleModalToggle: PropTypes.func,\n    intl: PropTypes.any,\n    rule: PropTypes.object,\n    afterFn: PropTypes.func,\n    setAck: PropTypes.func,\n    hosts: PropTypes.array,\n    addNotification: PropTypes.func,\n    setRule: PropTypes.func,\n    setSystem: PropTypes.func,\n    selectedTags: PropTypes.array\n};\n\nDisableRule.defaultProps = {\n    isModalOpen: false,\n    handleModalToggle: () => undefined,\n    system: undefined,\n    rule: {},\n    afterFn: () => undefined,\n    host: undefined,\n    hosts: []\n};\n\nconst mapDispatchToProps = dispatch => ({\n    addNotification: data => dispatch(addNotification(data)),\n    setAck: data => dispatch(setAck(data)),\n    setRule: data => dispatch(setRule(data)),\n    setSystem: data => dispatch(setSystem(data))\n});\n\nexport default injectIntl(connect(({ AdvisorStore }) => ({\n    selectedTags: AdvisorStore.selectedTags\n}), mapDispatchToProps)(DisableRule));\n","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./_RuleDetails.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./_RuleDetails.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./_RuleDetails.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}"],"sourceRoot":""}