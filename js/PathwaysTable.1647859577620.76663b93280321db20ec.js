(self.webpackChunkadvisor_frontend=self.webpackChunkadvisor_frontend||[]).push([[9573],{95511:(e,t,r)=>{"use strict";t.__esModule=!0,t.AngleRightIconConfig={name:"AngleRightIcon",height:512,width:256,svgPath:"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34z",yOffset:0,xOffset:0},t.AngleRightIcon=r(35183).createIcon(t.AngleRightIconConfig),t.default=t.AngleRightIcon},71070:(e,t,r)=>{"use strict";t.xQ={name:"SearchIcon",height:512,width:512,svgPath:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z",yOffset:0,xOffset:0},t.W1=r(35183).createIcon(t.xQ),t.ZP=t.W1},66584:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b});var n=r(63732),a=r(15914),o=r(42293),i=r(26407),l=r(99332),c=r(69507),s=r(45697),u=r.n(s),f=r(93264),m=r.n(f),d=r(30893),g=r(86896),p=function(e){var t,r=e.labelList,s=(0,g.Z)(),u=(t=r.map((function(e){return e.id})),Object.entries(t.reduce((function(e,t){return e[t]=(e[t]||0)+1,e}),{})).sort((function(e,t){return t[1]-e[1]}))),f=function(e,t){return m().createElement(o.Label,{icon:e,variant:"outline",color:"blue"},t)};return m().createElement(i.e,{numLabels:1},u.map((function(e){return function(e){return 1===e?f(m().createElement(n.ZP,null),s.formatMessage(d.Z.availability)):2===e?f(m().createElement(l.ZP,null),s.formatMessage(d.Z.security)):3===e?f(m().createElement(a.ZP,null),s.formatMessage(d.Z.stability)):4===e?f(m().createElement(c.ZP,null),s.formatMessage(d.Z.performance)):void 0}(Number(e[0]))})))};p.propTypes={labelList:u().array};const b=p},24130:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(42293),a=r(45697),o=r.n(a),i=r(93264),l=r.n(i),c=r(30893),s=r(86896),u=function(e){var t=(0,s.Z)(),r=e.recommendation_level,a=function(e,t,r){return l().createElement(n.Label,{color:r},"".concat(e," - ").concat(t,"%"))};return r>=80?a(t.formatMessage(c.Z.high),r,"red"):r<80&&r>=50?a(t.formatMessage(c.Z.medium),r,"orange"):a(t.formatMessage(c.Z.low),r,"blue")};u.propTypes={props:o().array};const f=u},76341:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(2095),a=r(85962),o=r(21015),i=r(62965),l=r(93264),c=r.n(l),s=r(45697),u=function(e){var t=e.message;return c().createElement(c().Fragment,null,c().createElement(n.Card,{className:"ins-empty-rule-cards"},c().createElement(o.CardHeader,null,c().createElement(i.ZP,{size:"lg"})),c().createElement(a.CardBody,null,t)))};const f=u;u.propTypes={message:r.n(s)().string}},79930:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w});var n=r(87462),a=r(70885),o=r(4942),i=r(59303),l=r(75662),c=r(13877),s=r(93264),u=r.n(s),f=r(27577),m=r(97109),d=r(28216),g=r(66584),p=r(76341),b=r(46891),y=r(34702),v=r(7887),h=r(24130),Z=r(87516),P=r(71070),E=r(40609),_=r(30893),M=r(28672),S=r(8377),O=r(86896);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const w=function(){var e,t,r=(0,O.Z)(),k=(0,d.useDispatch)(),w=(0,l.useLocation)().search,x=(0,d.useSelector)((function(e){return e.filters.selectedTags})),q=(0,d.useSelector)((function(e){return e.filters.workloads})),j=(0,d.useSelector)((function(e){return e.filters.SID})),L=(0,d.useSelector)((function(e){return e.filters.pathState})),W=function(e){return k((0,M.lW)(e))},X={};(null==x?void 0:x.length)&&(X=C(C({},X),{tags:x.join(",")})),q&&(X=C(C({},X),(0,m.s0)(q,j)));var T,I=(0,S.Lv)(C(C({},(0,m.qW)(L)),X)),A=I.data,R=void 0===A?[]:A,D=I.isFetching,F=I.isLoading,N=I.isError,V=[{title:r.formatMessage(_.Z.pathway),transforms:[f.sortable,(0,f.cellWidth)(45)]},{title:r.formatMessage(_.Z.category)},{title:r.formatMessage(_.Z.systems),transforms:[f.sortable,(0,f.cellWidth)(10)]},{title:r.formatMessage(_.Z.reboot)},{title:r.formatMessage(_.Z.reclvl),transforms:[(0,f.cellWidth)(20),f.fitContent,(0,f.info)({tooltip:r.formatMessage(_.Z.reclvldetails),tooltipProps:{isContentLeftAligned:!0}})]}],z={0:"name",2:"impacted_systems_count"},B=(0,s.useState)({}),H=(0,a.Z)(B,2),Q=H[0],G=H[1],K=(0,s.useState)(!0),Y=(0,a.Z)(K,2),$=Y[0],J=Y[1],U=(0,s.useState)((null==L?void 0:L.text)||""),ee=(0,a.Z)(U,2),te=ee[0],re=ee[1],ne=(0,E.Z)(te,i.$x),ae=function(e){var t=e*L.limit-L.limit;W(C(C({},L),{},{offset:t}))},oe=function(e){var t=C(C({},L),{},{offset:0});"text"===e&&re(""),delete t[e],W(t)},ie=function(e,t){t.length>0?W(C(C({},L),{},{offset:0},(0,o.Z)({},e,t))):oe(e)},le=[{label:r.formatMessage(_.Z.name).toLowerCase(),filterValues:{key:"text-filter",onChange:function(e,t){return re(t)},value:te,placeholder:r.formatMessage(_.Z.filterBy)}},{label:i.W2.category.title,type:i.W2.category.type,id:i.W2.category.urlParam,value:"checkbox-".concat(i.W2.category.urlParam),filterValues:{key:"".concat(i.W2.category.urlParam,"-filter"),onChange:function(e,t){return ie(i.W2.category.urlParam,t)},value:L.category,items:i.W2.category.values}},{label:i.dX.has_incident.title,type:i.dX.has_incident.type,id:i.dX.has_incident.urlParam,value:"checkbox-".concat(i.dX.has_incident.urlParam),filterValues:{key:"".concat(i.dX.has_incident.urlParam,"-filter"),onChange:function(e,t){return ie(i.dX.has_incident.urlParam,t)},value:L.has_incident,items:i.dX.has_incident.values}},{label:i.dX.reboot_required.title,type:i.dX.reboot_required.type,id:i.dX.reboot_required.urlParam,value:"checkbox-".concat(i.dX.reboot_required.urlParam),filterValues:{key:"".concat(i.dX.reboot_required.urlParam,"-filter"),onChange:function(e,t){return ie(i.dX.reboot_required.urlParam,t)},value:L.reboot_required,items:i.dX.reboot_required.values}}],ce={deleteTitle:r.formatMessage(_.Z.resetFilters),filters:(T=C({},L),delete T.sort,delete T.offset,delete T.limit,(0,m.yK)(T,C(C({},i.W2),i.dX))),onDelete:function(e,t,r){r?(re(""),W({limit:L.limit,offset:L.offset})):t.map((function(e){var t=(0,o.Z)({},e.urlParam,Array.isArray(L[e.urlParam])?L[e.urlParam].filter((function(t){return String(t)!==String(e.chips[0].value)})):"");t[e.urlParam].length>0?W(C(C({},L),t)):oe(e.urlParam)}))}};return(0,s.useEffect)((function(){$||null===x||(0,m.Y4)(L,x)}),[L,x,q,j]),(0,s.useEffect)((function(){if(w&&$){var e=(0,m.yG)();delete e.tags,void 0===e.text?re(""):re(e.text),e.sort=void 0===e.sort?"-impacted_systems_count":e.sort[0],void 0===e.offset?e.offset=0:e.offset=Number(e.offset[0]),void 0===e.limit?e.limit=20:e.limit=Number(e.limit[0]),void 0!==e.reboot_required&&!Array.isArray(e.reboot_required)&&(e.reboot_required=["".concat(e.reboot_required)]),W(C(C({},L),e))}J(!1)}),[]),(0,s.useEffect)((function(){if(void 0!==L.sort&&z){var e=L.sort,t=Number(Object.entries(z).find((function(t){return t[1]===e||"-".concat(t[1])===e}))[0]),r="-"===L.sort[0]?"desc":"asc";G({index:t,direction:r})}}),[L.sort]),(0,s.useEffect)((function(){if(!$&&!F){var e=C({},L),t=te.length?{text:te}:{};delete e.text,W(C(C(C({},e),t),{},{offset:0}))}}),[ne]),u().createElement(u().Fragment,null,u().createElement(v.Z,{pagination:{itemCount:(null==R||null===(e=R.meta)||void 0===e?void 0:e.count)||0,page:L.offset/L.limit+1,perPage:Number(L.limit),onSetPage:function(e,t){ae(t)},onPerPageSelect:function(e,t){W(C(C({},L),{},{limit:t,offset:0}))},isCompact:!0},filterConfig:{items:le},activeFiltersConfig:ce}),D?u().createElement(b.Z,null):N?u().createElement(p.Z,{message:r.formatMessage(_.Z.rulesTableFetchRulesError)}):u().createElement(f.Table,{"aria-label":"pathways-table",variant:f.TableVariant.compact,sortBy:Q,onSort:function(e,t,r){var n="".concat("asc"===r?"":"-").concat(z[t]);G({index:t,direction:r}),W(C(C({},L),{},{sort:n,offset:0}))},cells:V,rows:function(e){return 0===e.length?[{cells:[{title:u().createElement(y.Z,{icon:P.ZP,title:r.formatMessage(_.Z.noResults),text:r.formatMessage(_.Z.adjustFilters)}),props:{colSpan:6}}]}]:e.flatMap((function(e,t){return[{cells:[{title:u().createElement("span",{key:t},u().createElement(l.Link,{key:t,to:"/recommendations/pathways/".concat(e.slug)}," ",e.name," "),e.has_incident&&u().createElement(Z.Z,{rule:{tags:"incident"}}))},{title:u().createElement(g.Z,{key:t,labelList:e.categories})},{title:u().createElement("div",{key:t},"".concat(e.impacted_systems_count.toLocaleString()))},{title:u().createElement("span",{key:t},r.formatMessage(e.reboot_required?_.Z.required:_.Z.notRequired))},{title:u().createElement(h.Z,(0,n.Z)({key:t},e))}]}]}))}(null==R?void 0:R.data),isStickyHeader:!0},u().createElement(f.TableHeader,null),u().createElement(f.TableBody,null)),u().createElement(c.tl,{ouiaId:"page",itemCount:(null==R||null===(t=R.meta)||void 0===t?void 0:t.count)||0,page:L.offset/L.limit+1,perPage:Number(L.limit),onSetPage:function(e,t){ae(t)},onPerPageSelect:function(e,t){W(C(C({},L),{},{limit:t,offset:0}))},widgetId:"pagination-options-menu-bottom",variant:c.aM.bottom}))}},40609:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(70885),a=r(93264);const o=function(e,t){var r=(0,a.useState)(e),o=(0,n.Z)(r,2),i=o[0],l=o[1];return(0,a.useEffect)((function(){var r=setTimeout((function(){l(e)}),t);return function(){clearTimeout(r)}}),[t,e]),i}},11452:()=>{}}]);
//# sourceMappingURL=../sourcemaps/PathwaysTable.c3f79b1777886fb82e0789b494d53e98.js.map