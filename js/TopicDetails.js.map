{"version":3,"sources":["webpack:///./src/PresentationalComponents/RulesTable/_RulesTable.scss","webpack:///./src/PresentationalComponents/Breadcrumbs/Breadcrumbs.js","webpack:///./src/SmartComponents/Topics/_Details.scss","webpack:///./src/PresentationalComponents/RulesTable/RulesTable.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./src/PresentationalComponents/RulesTable/_RulesTable.scss?9877","webpack:///./src/SmartComponents/Topics/Details.js","webpack:///./src/SmartComponents/Topics/_Details.scss?e817"],"names":["module","exports","push","i","titleCase","str","charAt","toUpperCase","toLowerCase","substr","Breadcrumbs","current","fetchRule","match","ruleFetchStatus","rule","intl","useState","items","setItems","ruleDescriptionLoaded","setRuleDescription","buildBreadcrumbs","useCallback","crumbs","splitUrl","url","split","title","navigate","formatMessage","messages","rules","systems","undefined","params","id","inventoryId","description","useEffect","rule_id","Fragment","length","map","oneLink","key","to","isActive","loading","propTypes","PropTypes","string","func","object","any","injectIntl","routerParams","connect","state","ownProps","AdvisorStore","dispatch","AppActions","RulesTable","filters","rulesFetchStatus","setFilters","fetchRules","addNotification","history","transforms","sortable","added","cellWidth","totalRisk","size","ansible","dataLabel","cols","rows","setRows","sortBy","setSortBy","impacting","setImpacting","limit","setLimit","offset","setOffset","filterBuilding","setFilterBuilding","queryString","setQueryString","searchText","setSearchText","disableRuleOpen","setDisableRuleOpen","selectedRule","setSelectedRule","viewSystemsModalOpen","setViewSystemsModalOpen","viewSystemsModalRule","setViewSystemsModalRule","debouncedSearchText","debounce","results","meta","count","sortIndices","1","2","3","4","5","filterFetchBuilder","Object","assign","entries","filter","filterName","filterValue","Array","isArray","join","fetchRulesFn","onSetPage","pageNumber","toggleRulesDisabled","param","reports_shown","hideReports","rowId","a","API","BASE_URL","variant","dismissable","rulesTableHideReportsErrorDisabled","rulesTableHideReportsErrorEnabled","fetchAction","location","search","searchParams","URLSearchParams","paramsObject","from","reduce","acc","value","JSON","parse","sort","incident","keys","replace","sortIndex","Number","find","item","sortDirection","index","direction","data","cells","icon","CheckIcon","iconClass","rulesTableNoRuleHitsTitle","text","rulesTableNoRuleHitsEnabledRulesBody","rulesTableNoRuleHitsAnyRulesBody","style","paddingTop","onClick","rulesTableNoRuleHitsAddDisabledButton","props","colSpan","flatMap","isOpen","moment","publish_date","fromNow","className","position","TooltipPosition","bottom","content","rulesDetailsTotalriskBody","likelihood","AppConstants","impact","strong","label","total_risk","severity","impacted_systems_count","toLocaleString","nA","playbook_count","no","parent","fullWidth","gutter","hosts_acked_count","ruleIsDisabledForAllSystems","ruleIsDisabledForSystemsBody","isInline","viewSystems","asMutable","removeFilterParam","addFilterParam","values","actions","rulesTableActionShow","rulesTableActionHide","toggleRulesWithHits","filterConfigItems","filterValues","onChange","event","FC","type","urlParam","res_risk","category","activeFiltersConfig","localFilters","topic","prunedFilters","chips","selectedCategoryValue","String","name","buildFilterChips","onDelete","itemsToRemove","isAll","newFilter","handleModalToggle","toggleModal","isModalOpen","afterFn","pagination","itemCount","page","perPage","onPerPageSelect","isCompact","exportConfig","onSelect","exportType","window","isDisabled","actionsConfig","filterConfig","aria-label","actionResolver","rowData","rowIndex","disableRule","enableRule","onCollapse","collapseRows","onSort","_event","orderParam","message","rulesTableFetchRulesError","widgetId","PaginationVariant","arrayWithoutHoles","iterableToArray","nonIterableSpread","arr","arr2","iter","Symbol","iterator","prototype","toString","call","TypeError","options","transform","update","locals","hot","accept","newContent","b","idx","Error","dispose","Details","fetchTopic","topicFetchStatus","topic_id","featured","component","TextVariants","p","expandText","readmore","collapseText","readless","inline","headingLevel","TimesCircleIcon","topicDetailslNodetailsTitle","topicDetailslNodetailsBody"],"mappings":"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","file":"js/TopicDetails.js","sourcesContent":["exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".pf-c-check__label #battery_svg{height:1.25rem}\\n\", \"\"]);\n\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport * as AppActions from '../../AppActions';\n\nimport { Breadcrumb, BreadcrumbItem } from '@patternfly/react-core';\nimport React, { useCallback, useEffect, useState } from 'react';\n\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { injectIntl } from 'react-intl';\nimport messages from '../../Messages';\nimport routerParams from '@redhat-cloud-services/frontend-components-utilities/files/RouterParams';\n\nconst titleCase = (str = '') => str.charAt(0).toUpperCase() + str.toLowerCase().substr(1);\n\nconst Breadcrumbs = ({ current, fetchRule, match, ruleFetchStatus, rule, intl }) => {\n    const [items, setItems] = useState([]);\n    const [ruleDescriptionLoaded, setRuleDescription] = useState(false);\n    const buildBreadcrumbs = useCallback(() => {\n        const crumbs = [];\n        const splitUrl = match.url.split('/');\n\n        // add rules base\n        crumbs.push({ title: titleCase(splitUrl[1]), navigate: `/${splitUrl[1]}` });\n        // if applicable, add tab\n        if (splitUrl[1] === 'rules') {\n            splitUrl[1] + splitUrl[2] !== 'rulessystems' ?\n                crumbs.push({ title: intl.formatMessage(messages.rules), navigate: '/rules' })\n                : crumbs.push({ title: intl.formatMessage(messages.systems), navigate: '/rules/systems' });\n        }\n\n        // if applicable, add :id breadcrumb\n        if (match.params.id !== undefined && match.params.inventoryId !== undefined) {\n            crumbs.push({\n                title: titleCase(rule.description),\n                navigate: `/${match.url.split('/')[1]}/${match.params.id}`\n            });\n        }\n\n        setItems(crumbs);\n    }, [intl, match.params.id, match.params.inventoryId, match.url, rule.description]);\n\n    useEffect(() => {\n        const splitUrl = match.url.split('/');\n        match.params.inventoryId !== undefined && splitUrl[2] !== 'systems' ?\n            fetchRule({ rule_id: match.params.id }) // eslint-disable-line camelcase\n            : buildBreadcrumbs();\n    }, [buildBreadcrumbs, fetchRule, match.params.id, match.params.inventoryId, match.url]);\n\n    useEffect(() => {\n        if (ruleFetchStatus === 'fulfilled' && !ruleDescriptionLoaded) {\n            setRuleDescription(true);\n            buildBreadcrumbs();\n        }\n    }, [buildBreadcrumbs, ruleFetchStatus, ruleDescriptionLoaded]);\n\n    return (\n        <React.Fragment>\n            {(ruleFetchStatus === 'fulfilled' || items.length > 0) && (\n                <Breadcrumb>\n                    {items.map((oneLink, key) => (\n                        <BreadcrumbItem key={key}>\n                            <Link to={oneLink.navigate}>{titleCase(oneLink.title)}</Link>\n                        </BreadcrumbItem>\n                    ))}\n                    <BreadcrumbItem isActive>{titleCase(current)}</BreadcrumbItem>\n                </Breadcrumb>\n            )}\n            {ruleFetchStatus === 'pending' && intl.formatMessage(messages.loading)}\n        </React.Fragment>\n    );\n};\n\nBreadcrumbs.propTypes = {\n    current: PropTypes.string,\n    fetchRule: PropTypes.func,\n    match: PropTypes.object,\n    rule: PropTypes.object,\n    ruleFetchStatus: PropTypes.string,\n    intl: PropTypes.any\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n    rule: state.AdvisorStore.rule,\n    ruleFetchStatus: state.AdvisorStore.ruleFetchStatus,\n    ...ownProps\n});\n\nconst mapDispatchToProps = dispatch => ({\n    fetchRule: (url) => dispatch(AppActions.fetchRule(url))\n});\n\nexport default injectIntl(routerParams(connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Breadcrumbs)));\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \":root{--ins-color--orange: #ec7a08}.pf-c-label.labelOverride{vertical-align:middle;margin-left:20px}.textOverride{margin-top:var(--pf-global--spacer--md)}\\n\", \"\"]);\n\n","/* eslint camelcase: 0 */\nimport './_RulesTable.scss';\n\nimport * as AppActions from '../../AppActions';\nimport * as AppConstants from '../../AppConstants';\n\nimport { AnsibeTowerIcon, BellSlashIcon, CheckCircleIcon, CheckIcon } from '@patternfly/react-icons';\nimport { Battery, Main, PrimaryToolbar, TableToolbar } from '@redhat-cloud-services/frontend-components';\nimport { Button, Pagination, PaginationVariant, Stack, StackItem, Tooltip, TooltipPosition } from '@patternfly/react-core';\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { Table, TableBody, TableHeader, cellWidth, sortable } from '@patternfly/react-table';\n\nimport API from '../../Utilities/Api';\nimport { BASE_URL } from '../../AppConstants';\nimport DisableRule from '../Modals/DisableRule';\nimport { FILTER_CATEGORIES as FC } from '../../AppConstants';\nimport Failed from '../../PresentationalComponents/Loading/Failed';\nimport { Link } from 'react-router-dom';\nimport Loading from '../../PresentationalComponents/Loading/Loading';\nimport MessageState from '../MessageState/MessageState';\nimport PropTypes from 'prop-types';\nimport RuleDetails from '../RuleDetails/RuleDetails';\nimport RuleLabels from '../RuleLabels/RuleLabels';\nimport ViewHostAcks from '../../PresentationalComponents/Modals/ViewHostAcks';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications';\nimport { connect } from 'react-redux';\nimport debounce from '../../Utilities/Debounce';\nimport { injectIntl } from 'react-intl';\nimport messages from '../../Messages';\nimport moment from 'moment';\nimport routerParams from '@redhat-cloud-services/frontend-components-utilities/files/RouterParams';\n\nconst RulesTable = ({ rules, filters, rulesFetchStatus, setFilters, fetchRules, addNotification, history, intl }) => {\n    const [cols] = useState([\n        { title: intl.formatMessage(messages.description), transforms: [sortable] },\n        { title: intl.formatMessage(messages.added), transforms: [sortable, cellWidth(15)] },\n        { title: intl.formatMessage(messages.totalRisk), transforms: [sortable, cellWidth(15)] },\n        { title: intl.formatMessage(messages.systems), transforms: [sortable] },\n        {\n            title: <><AnsibeTowerIcon size='md' /> {intl.formatMessage(messages.ansible)}</>,\n            transforms: [sortable],\n            dataLabel: intl.formatMessage(messages.ansible)\n        }\n    ]);\n    const [rows, setRows] = useState([]);\n    const [sortBy, setSortBy] = useState({});\n    const [impacting, setImpacting] = useState(filters.impacting);\n    const [limit, setLimit] = useState(10);\n    const [offset, setOffset] = useState(0);\n    const [filterBuilding, setFilterBuilding] = useState(true);\n    const [queryString, setQueryString] = useState('');\n    const [searchText, setSearchText] = useState('');\n    const [disableRuleOpen, setDisableRuleOpen] = useState(false);\n    const [selectedRule, setSelectedRule] = useState({});\n    const [viewSystemsModalOpen, setViewSystemsModalOpen] = useState(false);\n    const [viewSystemsModalRule, setViewSystemsModalRule] = useState({});\n    const debouncedSearchText = debounce(searchText, 800);\n    const results = rules.meta ? rules.meta.count : 0;\n    const sortIndices = { 1: 'description', 2: 'publish_date', 3: 'total_risk', 4: 'impacted_count', 5: 'playbook_count' };\n\n    // transforms array of strings -> comma seperated strings, required by advisor api\n    const filterFetchBuilder = (filters) => (Object.assign({},\n        ...Object.entries(filters).map((filter) => {\n            const filterName = filter[0];\n            const filterValue = filter[1];\n\n            return (Array.isArray(filterValue) ?\n                (filterValue[0] === 'true' || 'false') && filterValue.length > 1 ? null : { [filterName]: filterValue.join() }\n                : { [filterName]: filterValue });\n        }))\n    );\n\n    const fetchRulesFn = () => {\n        fetchRules({\n            ...filterFetchBuilder(filters),\n            offset: 0,\n            limit,\n            impacting\n        });\n    };\n\n    const onSort = (_event, index, direction) => {\n        const orderParam = `${direction === 'asc' ? '' : '-'}${sortIndices[index]}`;\n        setSortBy({ index, direction });\n        setFilters({ ...filters, sort: orderParam });\n        setOffset(0);\n    };\n\n    const onSetPage = (pageNumber) => {\n        const newOffset = pageNumber * limit - limit;\n        setOffset(newOffset);\n    };\n\n    const toggleRulesWithHits = (impacting) => {\n        setFilters({ ...filters, impacting });\n        setImpacting(impacting);\n        setOffset(0);\n    };\n\n    const toggleRulesDisabled = (param) => {\n        const reports_shown = param === 'undefined' ? undefined : param;\n        setFilters({ ...filters, reports_shown, ...(reports_shown !== 'true' && { impacting: false }) });\n        reports_shown !== 'true' && setImpacting(false);\n        setOffset(0);\n    };\n\n    const handleOnCollapse = (event, rowId, isOpen) => {\n        const collapseRows = [...rows];\n        collapseRows[rowId] = { ...collapseRows[rowId], isOpen };\n        setRows(collapseRows);\n    };\n\n    const hideReports = async (rowId) => {\n        const rule = rows[rowId].rule;\n\n        try {\n            if (rule.reports_shown) {\n                setSelectedRule(rule);\n                setDisableRuleOpen(true);\n            } else {\n                await API.delete(`${BASE_URL}/ack/${rule.rule_id}/`);\n                fetchRulesFn();\n            }\n        } catch (error) {\n            addNotification({\n                variant: 'danger',\n                dismissable: true,\n                title: rule.reports_shown ? intl.formatMessage(messages.rulesTableHideReportsErrorDisabled)\n                    : intl.formatMessage(messages.rulesTableHideReportsErrorEnabled),\n                description: `${error}`\n            });\n        }\n    };\n\n    const actionResolver = (rowData, { rowIndex }) => {\n        const rule = rows[rowIndex].rule ? rows[rowIndex].rule : null;\n        if (rowIndex % 2 !== 0 || !rule) {\n            return null;\n        }\n\n        return rule && rule.reports_shown ?\n            [{\n                title: intl.formatMessage(messages.disableRule),\n                onClick: (event, rowId) => hideReports(rowId)\n            }]\n            : [{\n                title: intl.formatMessage(messages.enableRule),\n                onClick: (event, rowId) => hideReports(rowId)\n            }];\n    };\n\n    const fetchAction = useCallback(() => {\n        setOffset(0);\n    }, []);\n\n    const buildFilterChips = () => {\n        const localFilters = { ...filters };\n        delete localFilters.impacting;\n        delete localFilters.topic;\n        delete localFilters.sort;\n        const prunedFilters = Object.entries(localFilters);\n\n        return prunedFilters.length > 0 ? prunedFilters.map(item => {\n            if (FC[item[0]]) {\n                const category = FC[item[0]];\n                const chips = Array.isArray(item[1]) ? item[1].map(value => {\n                    const selectedCategoryValue = category.values.find(values => values.value === String(value));\n                    return { name: selectedCategoryValue.text || selectedCategoryValue.label, value };\n                })\n                    : [{ name: category.values.find(values => values.value === String(item[1])).label, value: item[1] }];\n                return { category: category.title, chips, urlParam: category.urlParam };\n            } else {\n                return { category: 'Description', chips: [{ name: item[1], value: item[1] }], urlParam: item[0] };\n            }\n        })\n            : [];\n    };\n\n    // Builds table filters from url params\n    useEffect(() => {\n        if (history.location.search) {\n            const searchParams = new URLSearchParams(history.location.search);\n            const paramsObject = Array.from(searchParams).reduce((acc, [key, value]) => ({\n                ...acc, [key]: (value === 'true' || value === 'false') ? JSON.parse(value) : value.split(',')\n            }), {});\n            paramsObject.reports_shown = paramsObject.reports_shown === undefined || paramsObject.reports_shown[0] === 'undefined' ? undefined\n                : paramsObject.reports_shown;\n            paramsObject.sort = paramsObject.sort === undefined ? '-publish_date'\n                : paramsObject.sort[0];\n            paramsObject.incident !== undefined && !Array.isArray(paramsObject.incident) && (paramsObject.incident = [`${paramsObject.incident}`]);\n\n            setImpacting(paramsObject.impacting);\n            setFilters({ ...paramsObject });\n        }\n\n        setFilterBuilding(false);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    // Builds and pushes url params from table filters\n    useEffect(() => {\n        const queryString = Object.keys(filters).map(key => `${key}=${Array.isArray(filters[key]) ? filters[key].join() : filters[key]}`).join('&');\n        setQueryString(`?${queryString}`);\n        history.replace({\n            search: `?${queryString}`\n        });\n    }, [filters, history]);\n\n    useEffect(() => {\n        if (!filterBuilding) {\n            fetchRules({\n                ...filterFetchBuilder(filters),\n                offset,\n                limit\n            });\n        }\n    }, [fetchRules, filterBuilding, filters, limit, offset]);\n\n    useEffect(() => {\n        if (filters.sort !== undefined) {\n            const sortIndex = Number(Object.entries(sortIndices).find(item => item[1] === filters.sort || `-${item[1]}` === filters.sort)[0]);\n            const sortDirection = filters.sort[0] === '-' ? 'desc' : 'asc';\n            setSortBy({ index: sortIndex, direction: sortDirection });\n        }\n\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [filters, filters.sort]);\n\n    useEffect(() => {\n        if (rules.data) {\n            if (rules.data.length === 0) {\n                setRows([{\n                    cells: [{\n                        title: (\n                            <MessageState icon={CheckIcon} iconClass='ansibleCheck' size='sm'\n                                title={intl.formatMessage(messages.rulesTableNoRuleHitsTitle)} text={filters.reports_shown ?\n                                    intl.formatMessage(messages.rulesTableNoRuleHitsEnabledRulesBody) :\n                                    intl.formatMessage(messages.rulesTableNoRuleHitsAnyRulesBody)}>\n                                {filters.reports_shown && <Button variant=\"link\" style={{ paddingTop: 24 }} onClick={() => {\n                                    toggleRulesDisabled('undefined');\n                                    fetchAction();\n                                }}>\n                                    {intl.formatMessage(messages.rulesTableNoRuleHitsAddDisabledButton)}\n                                </Button>}\n                            </MessageState>),\n                        props: { colSpan: 5 }\n                    }]\n                }]\n                );\n            } else {\n                const rows = rules.data.flatMap((value, key) => ([{\n                    isOpen: false,\n                    rule: value,\n                    cells: [{\n                        title:\n                            <span key={key}>\n                                <RuleLabels rule={value} />\n                                <Link key={key} to={`/rules/${value.rule_id}`}> {value.description} </Link>\n                            </span>\n                    }, {\n                        title: <div key={key}>\n                            {moment(value.publish_date).fromNow()}\n                        </div>\n                    }, {\n                        title: <div className=\"pf-m-center\" key={key}>\n                            <Tooltip key={key} position={TooltipPosition.bottom} content={intl.formatMessage(messages.rulesDetailsTotalriskBody, {\n                                likelihood: AppConstants.LIKELIHOOD_LABEL[value.likelihood] || intl.formatMessage(messages.undefined),\n                                impact: AppConstants.IMPACT_LABEL[value.impact.impact] || intl.formatMessage(messages.undefined),\n                                strong(str) { return <strong>{str}</strong>; }\n                            })}>\n                                <Battery\n                                    label={AppConstants.TOTAL_RISK_LABEL[value.total_risk] || intl.formatMessage(messages.undefined)}\n                                    severity={value.total_risk}\n                                />\n                            </Tooltip>\n                        </div>\n                    }, {\n                        title: <div key={key}> {value.reports_shown ?\n                            `${value.impacted_systems_count.toLocaleString()}`\n                            : intl.formatMessage(messages.nA)}</div>\n                    }, {\n                        title: <div className=\"pf-m-center \" key={key}>\n                            {value.playbook_count ? <CheckCircleIcon className='ansibleCheck' /> : intl.formatMessage(messages.no)}\n                        </div>\n                    }]\n                }, {\n                    parent: key * 2,\n                    fullWidth: true,\n                    cells: [{\n                        title: <Main className='pf-m-light'>\n                            <Stack gutter=\"md\">\n                                {value.hosts_acked_count ? <StackItem>\n                                    <BellSlashIcon size='sm' />\n                                    &nbsp;{value.hosts_acked_count && !value.impacted_systems_count ?\n                                        intl.formatMessage(messages.ruleIsDisabledForAllSystems) :\n                                        intl.formatMessage(messages.ruleIsDisabledForSystemsBody, { systems: value.hosts_acked_count })}\n                                    &nbsp; <Button isInline variant='link'\n                                        onClick={() => { setViewSystemsModalRule(value); setViewSystemsModalOpen(true); }}>\n                                        {intl.formatMessage(messages.viewSystems)}\n                                    </Button>\n                                </StackItem>\n                                    : <React.Fragment></React.Fragment>}\n                                <RuleDetails rule={value} />\n                            </Stack>\n                        </Main>\n                    }]\n                }\n                ]));\n                setRows(rows.asMutable());\n            }\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [fetchAction, filters, rules, setFilters]);\n\n    useEffect(() => {\n        filters.text === undefined ? setSearchText('') : setSearchText(filters.text);\n    }, [filters.text]);\n\n    // Debounced function, sets text filter after specified time (800ms)\n    useEffect(() => {\n        if (!filterBuilding) {\n            const filter = { ...filters };\n            const text = searchText.length ? { text: searchText } : {};\n            delete filter.text;\n            setFilters({ ...filter, ...text });\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [debouncedSearchText]);\n\n    const removeFilterParam = (param) => {\n        const filter = { ...filters };\n        delete filter[param];\n        setFilters(filter);\n    };\n\n    const addFilterParam = (param, values) => {\n        values.length > 0 ? setFilters({ ...filters, ...{ [param]: values } }) : removeFilterParam(param);\n    };\n\n    const actions = [\n        '', {\n            label: intl.formatMessage(impacting ? messages.rulesTableActionShow : messages.rulesTableActionHide),\n            onClick: () => toggleRulesWithHits(!impacting)\n        }\n    ];\n\n    const filterConfigItems = [{\n        label: intl.formatMessage(messages.description),\n        filterValues: {\n            key: 'text-filter',\n            onChange: (event, value) => setSearchText(value),\n            value: searchText\n        }\n    }, {\n        label: FC.total_risk.title,\n        type: FC.total_risk.type,\n        id: FC.total_risk.urlParam,\n        value: `checkbox-${FC.total_risk.urlParam}`,\n        filterValues: {\n            key: `${FC.total_risk.urlParam}-filter`,\n            onChange: (event, values) => addFilterParam(FC.total_risk.urlParam, values),\n            value: filters.total_risk,\n            items: FC.total_risk.values\n        }\n    }, {\n        label: FC.res_risk.title,\n        type: FC.res_risk.type,\n        id: FC.res_risk.urlParam,\n        value: `checkbox-${FC.res_risk.urlParam}`,\n        filterValues: {\n            key: `${FC.res_risk.urlParam}-filter`,\n            onChange: (event, values) => addFilterParam(FC.res_risk.urlParam, values),\n            value: filters.res_risk,\n            items: FC.res_risk.values\n        }\n    }, {\n        label: FC.impact.title,\n        type: FC.impact.type,\n        id: FC.impact.urlParam,\n        value: `checkbox-${FC.impact.urlParam}`,\n        filterValues: {\n            key: `${FC.impact.urlParam}-filter`,\n            onChange: (event, values) => addFilterParam(FC.impact.urlParam, values),\n            value: filters.impact,\n            items: FC.impact.values\n        }\n    }, {\n        label: FC.likelihood.title,\n        type: FC.likelihood.type,\n        id: FC.likelihood.urlParam,\n        value: `checkbox-${FC.likelihood.urlParam}`,\n        filterValues: {\n            key: `${FC.likelihood.urlParam}-filter`,\n            onChange: (event, values) => addFilterParam(FC.likelihood.urlParam, values),\n            value: filters.likelihood,\n            items: FC.likelihood.values\n        }\n    }, {\n        label: FC.category.title,\n        type: FC.category.type,\n        id: FC.category.urlParam,\n        value: `checkbox-${FC.category.urlParam}`,\n        filterValues: {\n            key: `${FC.category.urlParam}-filter`,\n            onChange: (event, values) => addFilterParam(FC.category.urlParam, values),\n            value: filters.category,\n            items: FC.category.values\n        }\n    }, {\n        label: FC.incident.title,\n        type: FC.incident.type,\n        id: FC.incident.urlParam,\n        value: `checkbox-${FC.incident.urlParam}`,\n        filterValues: {\n            key: `${FC.incident.urlParam}-filter`,\n            onChange: (event, values) => addFilterParam(FC.incident.urlParam, values),\n            value: filters.incident,\n            items: FC.incident.values\n        }\n    }, {\n        label: FC.reports_shown.title,\n        type: FC.reports_shown.type,\n        id: FC.reports_shown.urlParam,\n        value: `radio-${FC.reports_shown.urlParam}`,\n        filterValues: {\n            key: `${FC.reports_shown.urlParam}-filter`,\n            onChange: (event, value) => toggleRulesDisabled(value),\n            value: filters.reports_shown === undefined ? 'undefined' : `${filters.reports_shown}`,\n            items: FC.reports_shown.values\n        }\n    }];\n\n    const activeFiltersConfig = {\n        filters: buildFilterChips(),\n        onDelete: (event, itemsToRemove, isAll) => {\n            if (isAll) {\n                setFilters({ ...(filters.topic && { topic: filters.topic }), impacting: true, reports_shown: 'true' });\n            } else {\n                itemsToRemove.map(item => {\n                    const newFilter = {\n                        [item.urlParam]: Array.isArray(filters[item.urlParam]) ?\n                            filters[item.urlParam].filter(value => String(value) !== String(item.chips[0].value))\n                            : ''\n                    };\n                    newFilter[item.urlParam].length > 0 ? setFilters({ ...filters, ...newFilter }) : removeFilterParam(item.urlParam);\n                });\n            }\n        }\n    };\n\n    const afterViewSystemsFn = () => {\n        fetchRulesFn();\n    };\n\n    return <React.Fragment>\n        {viewSystemsModalOpen && <ViewHostAcks\n            handleModalToggle={(toggleModal) => setViewSystemsModalOpen(toggleModal)}\n            isModalOpen={viewSystemsModalOpen}\n            afterFn={afterViewSystemsFn}\n            rule={viewSystemsModalRule}\n        />}\n        {disableRuleOpen && <DisableRule\n            handleModalToggle={setDisableRuleOpen}\n            isModalOpen={disableRuleOpen}\n            rule={selectedRule}\n            afterFn={fetchRulesFn}\n        />}\n        <PrimaryToolbar\n            pagination={{\n                itemCount: results,\n                page: offset / limit + 1,\n                perPage: limit,\n                onSetPage(event, page) { onSetPage(page); },\n                onPerPageSelect(event, perPage) { setLimit(perPage); },\n                isCompact: false\n            }}\n            exportConfig={{\n                onSelect: (event, exportType) => window.location = `${BASE_URL}/export/hits.${exportType === 'json' ? 'json' : 'csv'}/${queryString}`,\n                isDisabled: !impacting\n            }}\n            actionsConfig={{ actions }}\n            filterConfig={{ items: filterConfigItems }}\n            activeFiltersConfig={activeFiltersConfig}\n        />\n        {rulesFetchStatus === 'fulfilled' &&\n            <Table aria-label={'rule-table'}\n                actionResolver={actionResolver} onCollapse={handleOnCollapse} sortBy={sortBy}\n                onSort={onSort} cells={cols} rows={rows}>\n                <TableHeader />\n                <TableBody />\n            </Table>}\n        {rulesFetchStatus === 'pending' && (<Loading />)}\n        {rulesFetchStatus === 'failed' && (<Failed message={intl.formatMessage(messages.rulesTableFetchRulesError)} />)}\n        <TableToolbar>\n            <Pagination\n                itemCount={results}\n                perPage={limit}\n                page={(offset / limit + 1)}\n                onSetPage={(event, page) => { onSetPage(page); }}\n                widgetId={`pagination-options-menu-bottom`}\n                variant={PaginationVariant.bottom}\n            />\n        </TableToolbar>\n    </React.Fragment>;\n};\n\nRulesTable.propTypes = {\n    fetchRules: PropTypes.func,\n    rulesFetchStatus: PropTypes.string,\n    rules: PropTypes.object,\n    filters: PropTypes.object,\n    addNotification: PropTypes.func,\n    setFilters: PropTypes.func,\n    history: PropTypes.object,\n    intl: PropTypes.any\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n    rules: state.AdvisorStore.rules,\n    rulesFetchStatus: state.AdvisorStore.rulesFetchStatus,\n    filters: state.AdvisorStore.filters,\n    ...ownProps\n});\n\nconst mapDispatchToProps = dispatch => ({\n    fetchRules: (url) => dispatch(AppActions.fetchRules(url)),\n    addNotification: data => dispatch(addNotification(data)),\n    setFilters: (filters) => dispatch(AppActions.setFilters(filters))\n});\n\nexport default injectIntl(routerParams(connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(RulesTable)));\n","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./_RulesTable.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./_RulesTable.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./_RulesTable.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","/* eslint-disable camelcase */\nimport './_Details.scss';\n\nimport * as AppActions from '../../AppActions';\n\nimport { Label, Text, TextContent, TextVariants, Title } from '@patternfly/react-core';\nimport { Main, PageHeader, Truncate } from '@redhat-cloud-services/frontend-components';\nimport React, { useEffect } from 'react';\nimport { StarIcon, TimesCircleIcon } from '@patternfly/react-icons';\n\nimport Breadcrumbs from '../../PresentationalComponents/Breadcrumbs/Breadcrumbs';\nimport Loading from '../../PresentationalComponents/Loading/Loading';\nimport MessageState from '../../PresentationalComponents/MessageState/MessageState';\nimport PropTypes from 'prop-types';\nimport RulesTable from '../../PresentationalComponents/RulesTable/RulesTable';\nimport { connect } from 'react-redux';\nimport { injectIntl } from 'react-intl';\nimport messages from '../../Messages';\nimport routerParams from '@redhat-cloud-services/frontend-components-utilities/files/RouterParams';\n\nconst Details = ({ match, fetchTopic, setFilters, topic, topicFetchStatus, intl, filters }) => {\n    useEffect(() => {\n        if (typeof filters.topic === 'undefined') {\n            setFilters({ impacting: true, reports_shown: 'true', topic: match.params.id, sort: `-publish_date` });\n        }\n    });\n\n    useEffect(() => {\n        fetchTopic({ topic_id: match.params.id });\n        return () => {\n            setFilters({ impacting: true, reports_shown: 'true', sort: '-publish_date' });\n        };\n    }, [fetchTopic, match.params.id, setFilters]);\n\n    return <React.Fragment>\n        <PageHeader>\n            <Breadcrumbs\n                current={topic.name}\n                match={match}\n            />\n            {topicFetchStatus === 'fulfilled' &&\n                <React.Fragment>\n                    <Title size=\"2xl\" className='titleOverride'>\n                        {topic.name}{topic.featured && <Label className='labelOverride'><StarIcon />\n                            {intl.formatMessage(messages.featured)}\n                        </Label>}\n                    </Title>\n                    <TextContent className='textOverride'>\n                        <Text component={TextVariants.p}>\n                            <Truncate\n                                text={topic.description}\n                                length={600}\n                                expandText={intl.formatMessage(messages.readmore)}\n                                collapseText={intl.formatMessage(messages.readless)}\n                                inline\n                            />\n                        </Text>\n                    </TextContent>\n                </React.Fragment>\n            }\n            {topicFetchStatus === '' || topicFetchStatus === 'pending' && <Loading />}\n        </PageHeader>\n        <Main>\n            <React.Fragment>\n                {topicFetchStatus === '' || topicFetchStatus === 'pending' || topicFetchStatus === 'fulfilled' && <React.Fragment>\n                    <Title headingLevel=\"h3\" size=\"2xl\" className='titlePaddingOverride'> Rules</Title>\n                    {filters.topic && <RulesTable />}\n                </React.Fragment>}\n                {topicFetchStatus === 'failed' || topicFetchStatus === 'rejected' &&\n                    <MessageState icon={TimesCircleIcon} title={intl.formatMessage(messages.topicDetailslNodetailsTitle)}\n                        text={intl.formatMessage(messages.topicDetailslNodetailsBody)} />}\n            </React.Fragment>\n        </Main>\n    </React.Fragment>;\n};\n\nDetails.propTypes = {\n    match: PropTypes.any,\n    fetchTopic: PropTypes.func,\n    topic: PropTypes.object,\n    topicFetchStatus: PropTypes.string,\n    setFilters: PropTypes.func,\n    intl: PropTypes.any,\n    filters: PropTypes.object\n};\n\nconst mapStateToProps = (state) => ({\n    topic: state.AdvisorStore.topic,\n    topicFetchStatus: state.AdvisorStore.topicFetchStatus,\n    filters: state.AdvisorStore.filters\n});\n\nconst mapDispatchToProps = dispatch => ({\n    fetchTopic: (url) => dispatch(AppActions.fetchTopic(url)),\n    setFilters: (filters) => dispatch(AppActions.setFilters(filters))\n});\n\nexport default injectIntl(routerParams(connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Details)));\n","\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./_Details.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./_Details.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./_Details.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}"],"sourceRoot":""}