(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{518:function(e,t,r){(e.exports=r(5)(!1)).push([e.i,".pf-c-check__label #battery_svg{height:1.25rem}\n",""])},595:function(e,t,r){"use strict";var a=r(165),n=r.n(a),o=r(0);t.a=function(e,t){var r=Object(o.useState)(e),a=n()(r,2),l=a[0],i=a[1];return Object(o.useEffect)((function(){var r=setTimeout((function(){i(e)}),t);return function(){clearTimeout(r)}}),[t,e]),l}},596:function(e,t,r){var a;window,a=function(e,t,r,a){return function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./src/Components/TableToolbar/index.js")}({"../../node_modules/@babel/runtime/helpers/defineProperty.js":
/*!*******************************************************************************************************************!*\
  !*** /home/travis/build/RedHatInsights/frontend-components/node_modules/@babel/runtime/helpers/defineProperty.js ***!
  \*******************************************************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},"../../node_modules/@babel/runtime/helpers/extends.js":
/*!************************************************************************************************************!*\
  !*** /home/travis/build/RedHatInsights/frontend-components/node_modules/@babel/runtime/helpers/extends.js ***!
  \************************************************************************************************************/
/*! no static exports found */function(e,t){function r(){return e.exports=r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},r.apply(this,arguments)}e.exports=r},"../../node_modules/@babel/runtime/helpers/interopRequireDefault.js":
/*!**************************************************************************************************************************!*\
  !*** /home/travis/build/RedHatInsights/frontend-components/node_modules/@babel/runtime/helpers/interopRequireDefault.js ***!
  \**************************************************************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},"../../node_modules/@babel/runtime/helpers/interopRequireWildcard.js":
/*!***************************************************************************************************************************!*\
  !*** /home/travis/build/RedHatInsights/frontend-components/node_modules/@babel/runtime/helpers/interopRequireWildcard.js ***!
  \***************************************************************************************************************************/
/*! no static exports found */function(e,t,r){var a=r(/*! ../helpers/typeof */"../../node_modules/@babel/runtime/helpers/typeof.js");function n(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return n=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t=n();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}return r.default=e,t&&t.set(e,r),r}},"../../node_modules/@babel/runtime/helpers/objectWithoutProperties.js":
/*!****************************************************************************************************************************!*\
  !*** /home/travis/build/RedHatInsights/frontend-components/node_modules/@babel/runtime/helpers/objectWithoutProperties.js ***!
  \****************************************************************************************************************************/
/*! no static exports found */function(e,t,r){var a=r(/*! ./objectWithoutPropertiesLoose */"../../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js");e.exports=function(e,t){if(null==e)return{};var r,n,o=a(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}},"../../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js":
/*!*********************************************************************************************************************************!*\
  !*** /home/travis/build/RedHatInsights/frontend-components/node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js ***!
  \*********************************************************************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}},"../../node_modules/@babel/runtime/helpers/typeof.js":
/*!***********************************************************************************************************!*\
  !*** /home/travis/build/RedHatInsights/frontend-components/node_modules/@babel/runtime/helpers/typeof.js ***!
  \***********************************************************************************************************/
/*! no static exports found */function(e,t){function r(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=r=function(e){return typeof e}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(t)}e.exports=r},"./src/Components/TableToolbar/TableToolbar.js":
/*!*****************************************************!*\
  !*** ./src/Components/TableToolbar/TableToolbar.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,r){"use strict";var a=r(/*! @babel/runtime/helpers/interopRequireWildcard */"../../node_modules/@babel/runtime/helpers/interopRequireWildcard.js"),n=r(/*! @babel/runtime/helpers/interopRequireDefault */"../../node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(/*! @babel/runtime/helpers/extends */"../../node_modules/@babel/runtime/helpers/extends.js")),l=n(r(/*! @babel/runtime/helpers/defineProperty */"../../node_modules/@babel/runtime/helpers/defineProperty.js")),i=n(r(/*! @babel/runtime/helpers/objectWithoutProperties */"../../node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),s=a(r(/*! react */"react")),c=n(r(/*! prop-types */"prop-types")),u=r(/*! @patternfly/react-core/dist/js/layouts/Toolbar/Toolbar.js */"@patternfly/react-core/dist/js/layouts/Toolbar/Toolbar.js"),f=n(r(/*! classnames */"classnames"));r(/*! ./TableToolbar.scss */"./src/Components/TableToolbar/TableToolbar.scss");var p=function(e){var t=e.isFooter,r=e.results,a=e.className,n=e.selected,c=e.children,p=(0,i.default)(e,["isFooter","results","className","selected","children"]),d=(0,f.default)("ins-c-table__toolbar",(0,l.default)({},"ins-m-footer",t),a);return s.default.createElement(s.Fragment,null,s.default.createElement(u.Toolbar,(0,o.default)({className:d},p)," ",c),(r>=0||n>=0)&&s.default.createElement("div",{className:"ins-c-table__toolbar-results"},r>=0&&s.default.createElement("span",{className:"ins-c-table__toolbar-results-count"}," ",function(e){return"".concat(e,e>1||e<1?" Results":" Result")}(r)," "),n>=0&&s.default.createElement("span",{className:"ins-c-table__toolbar-results-selected"}," ",n," Selected ")))},d=p;t.default=d,p.propTypes={isFooter:c.default.bool,results:c.default.number,children:c.default.any,className:c.default.string,selected:c.default.number},p.defaultProps={isFooter:!1}},"./src/Components/TableToolbar/TableToolbar.scss":
/*!*******************************************************!*\
  !*** ./src/Components/TableToolbar/TableToolbar.scss ***!
  \*******************************************************/
/*! no static exports found */function(e,t,r){},"./src/Components/TableToolbar/index.js":
/*!**********************************************!*\
  !*** ./src/Components/TableToolbar/index.js ***!
  \**********************************************/
/*! no static exports found */function(e,t,r){"use strict";var a=r(/*! @babel/runtime/helpers/interopRequireDefault */"../../node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"TableToolbar",{enumerable:!0,get:function(){return n.default}});var n=a(r(/*! ./TableToolbar.js */"./src/Components/TableToolbar/TableToolbar.js"))},"@patternfly/react-core/dist/js/layouts/Toolbar/Toolbar.js":
/*!****************************************************************************!*\
  !*** external "@patternfly/react-core/dist/js/layouts/Toolbar/Toolbar.js" ***!
  \****************************************************************************/
/*! no static exports found */function(t,r){t.exports=e},classnames:
/*!*****************************!*\
  !*** external "classnames" ***!
  \*****************************/
/*! no static exports found */function(e,r){e.exports=t},"prop-types":
/*!*****************************!*\
  !*** external "prop-types" ***!
  \*****************************/
/*! no static exports found */function(e,t){e.exports=r},react:
/*!************************!*\
  !*** external "react" ***!
  \************************/
/*! no static exports found */function(e,t){e.exports=a}})},e.exports=a(r(597),r(29),r(1),r(0))},597:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Toolbar=void 0;var a,n=(a=r(1))&&a.__esModule?a:{default:a},o=function(e){if(e&&e.__esModule)return e;var t=i();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=a?Object.getOwnPropertyDescriptor(e,n):null;o&&(o.get||o.set)?Object.defineProperty(r,n,o):r[n]=e[n]}}r.default=e,t&&t.set(e,r);return r}(r(0)),l=r(2);function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}r(250);var u=function(e){var t=e.children,r=void 0===t?null:t,a=e.className,n=void 0===a?null:a,i=c(e,["children","className"]);return o.createElement("div",s({},i,{className:(0,l.css)("pf-l-toolbar",n)}),r)};t.Toolbar=u,u.propTypes={children:n.default.node,className:n.default.string}},761:function(e,t,r){var a=r(518);"string"==typeof a&&(a=[[e.i,a,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0},o=r(6)(a,n);a.locals&&(e.exports=a.locals),e.hot.accept(518,(function(){var t=r(518);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var r,a=0;for(r in e){if(!t||e[r]!==t[r])return!1;a++}for(r in t)a--;return 0===a}(a.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");o(t)})),e.hot.dispose((function(){o()}))},920:function(e,t,r){"use strict";r.r(t);var a=r(95),n=r.n(a),o=r(166),l=r.n(o),i=r(462),s=r.n(i),c=r(68),u=r.n(c),f=r(165),p=r.n(f),d=(r(761),r(451)),m=r(4),b=r(96),E=r(0),_=r.n(E),y=r(249),T=r(212),O=r(213),v=r(25),g=r(219),h=r(218),R=r(54),I=r(496),S=r(456),j=r(251),k=r.n(j),P=r(61),C=r(655),A=r.n(C),F=r(37),L=r(174),w=r.n(L),G=r(656),x=r(649),M=r(514),N=r(69),D=r(477),B=r(495),W=r(515),V=r(657),H=r(1),q=r.n(H),z=r(767),J=r(753),K=r(596),U=r(757),Q=r(46),X=r(67),Y=r(595),Z=r(14),$=r(10),ee=r(167),te=r.n(ee);function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ne=function(e){var t=e.rules,r=e.filters,a=e.rulesFetchStatus,o=e.setFilters,i=e.fetchRules,c=e.addNotification,f=e.intl,d=e.selectedTags,j=Object(E.useState)([{title:f.formatMessage($.a.description),transforms:[T.a]},{title:f.formatMessage($.a.added),transforms:[T.a,Object(O.a)(15)]},{title:f.formatMessage($.a.totalRisk),transforms:[T.a,Object(O.a)(15)]},{title:f.formatMessage($.a.systems),transforms:[T.a]},{title:_.a.createElement(_.a.Fragment,null,_.a.createElement(k.a,{size:"md"})," ",f.formatMessage($.a.ansible)),transforms:[T.a],dataLabel:f.formatMessage($.a.ansible)}]),C=p()(j,1)[0],L=Object(E.useState)([]),H=p()(L,2),q=H[0],Q=H[1],X=Object(E.useState)({}),Z=p()(X,2),ee=Z[0],te=Z[1],re=Object(E.useState)(r.impacting),ne=p()(re,2),oe=ne[0],le=ne[1],ie=Object(E.useState)(!0),se=p()(ie,2),ce=se[0],ue=se[1],fe=Object(E.useState)(""),pe=p()(fe,2),de=pe[0],me=pe[1],be=Object(E.useState)(""),Ee=p()(be,2),_e=Ee[0],ye=Ee[1],Te=Object(E.useState)(!1),Oe=p()(Te,2),ve=Oe[0],ge=Oe[1],he=Object(E.useState)({}),Re=p()(he,2),Ie=Re[0],Se=Re[1],je=Object(E.useState)(!1),ke=p()(je,2),Pe=ke[0],Ce=ke[1],Ae=Object(E.useState)({}),Fe=p()(Ae,2),Le=Fe[0],we=Fe[1],Ge=Object(Y.a)(_e,600),xe=t.meta?t.meta.count:0,Me={1:"description",2:"publish_date",3:"total_risk",4:"impacted_count",5:"playbook_count"},Ne=Object(E.useCallback)((function(){var e=Object(I.d)(r,d);me(e);var t=d.length&&{tags:d.join()};i(ae(ae({},Object(I.b)(r)),{},{impacting:oe},t))}),[i,r,oe,d]),De=function(e){var t=e*r.limit-r.limit;o(ae(ae({},r),{},{offset:t}))},Be=function(e){var t="undefined"===e?void 0:e;"true"!==t&&le(!1),o(ae(ae({},r),{},{reports_shown:t,offset:0},"true"!==t&&{impacting:!1}))},We=function(){var e=l()(n.a.mark((function e(t){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=q[t].rule,e.prev=1,!r.reports_shown){e.next=7;break}Se(r),ge(!0),e.next=10;break;case 7:return e.next=9,S.a.delete("".concat(m.BASE_URL,"/ack/").concat(r.rule_id,"/"));case 9:Ne();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),c({variant:"danger",dismissable:!0,title:r.reports_shown?f.formatMessage($.a.rulesTableHideReportsErrorDisabled):f.formatMessage($.a.rulesTableHideReportsErrorEnabled),description:"".concat(e.t0)});case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();Object(E.useEffect)((function(){!ce&&Ne()}),[Ne,ce,r,d]),Object(E.useEffect)((function(){if(window.location.search&&ce){var e=Object(I.c)();delete e.tags,void 0===e.text?ye(""):ye(e.text),e.reports_shown=void 0===e.reports_shown||"undefined"===e.reports_shown[0]?void 0:e.reports_shown,e.sort=void 0===e.sort?"-total_risk":e.sort[0],void 0!==e.has_playbook&&!Array.isArray(e.has_playbook)&&(e.has_playbook=["".concat(e.has_playbook)]),void 0!==e.incident&&!Array.isArray(e.incident)&&(e.incident=["".concat(e.incident)]),void 0===e.offset?e.offset=0:e.offset=Number(e.offset[0]),void 0===e.limit?e.limit=10:e.limit=Number(e.limit[0]),le(e.impacting),o(ae({},e))}ue(!1)}),[]),Object(E.useEffect)((function(){if(void 0!==r.sort){var e=Number(Object.entries(Me).find((function(e){return e[1]===r.sort||"-".concat(e[1])===r.sort}))[0]),t="-"===r.sort[0]?"desc":"asc";te({index:e,direction:t})}}),[r.sort]),Object(E.useEffect)((function(){if(t.data)if(0===t.data.length)Q([{cells:[{title:_.a.createElement(W.a,{icon:w.a,iconClass:"ansibleCheck",size:"md",title:f.formatMessage($.a.rulesTableNoRuleHitsTitle),text:r.reports_shown?f.formatMessage($.a.rulesTableNoRuleHitsEnabledRulesBody):f.formatMessage($.a.rulesTableNoRuleHitsAnyRulesBody)},r.reports_shown&&_.a.createElement(F.Button,{variant:"link",style:{paddingTop:24},onClick:function(){return Be("undefined")}},f.formatMessage($.a.rulesTableNoRuleHitsAddDisabledButton))),props:{colSpan:5}}]}]);else{var e=t.data.flatMap((function(e,t){return[{isOpen:!1,rule:e,cells:[{title:_.a.createElement("span",{key:t},_.a.createElement(J.a,{rule:e}),_.a.createElement(N.Link,{key:t,to:"/recommendations/".concat(e.rule_id)}," ",e.description," "))},{title:_.a.createElement(G.DateFormat,{key:t,date:e.publish_date,variant:"relative"})},{title:_.a.createElement("div",{className:"pf-m-center",key:t},_.a.createElement(R.Tooltip,{key:t,position:R.TooltipPosition.bottom,content:f.formatMessage($.a.rulesDetailsTotalriskBody,{likelihood:m.LIKELIHOOD_LABEL[e.likelihood]||f.formatMessage($.a.undefined),impact:m.IMPACT_LABEL[e.impact.impact]||f.formatMessage($.a.undefined),strong:function(e){return _.a.createElement("strong",null,e)}})},_.a.createElement(P.Battery,{label:m.TOTAL_RISK_LABEL[e.total_risk]||f.formatMessage($.a.undefined),severity:e.total_risk})))},{title:_.a.createElement("div",{key:t}," ",e.reports_shown?"".concat(e.impacted_systems_count.toLocaleString()):f.formatMessage($.a.nA))},{title:_.a.createElement("div",{className:"pf-m-center ",key:t},e.playbook_count?_.a.createElement(w.a,{className:"ansibleCheck"}):f.formatMessage($.a.no))}]},{parent:2*t,fullWidth:!0,cells:[{title:_.a.createElement(B.Main,{className:"pf-m-light"},_.a.createElement(y.Stack,{gutter:"md"},e.hosts_acked_count?_.a.createElement(y.StackItem,null,_.a.createElement(A.a,{size:"sm"})," ",e.hosts_acked_count&&!e.impacted_systems_count?f.formatMessage($.a.ruleIsDisabledForAllSystems):f.formatMessage($.a.ruleIsDisabledForSystemsBody,{systems:e.hosts_acked_count}),"  ",_.a.createElement(F.Button,{isInline:!0,variant:"link",onClick:function(){we(e),Ce(!0)}},f.formatMessage($.a.viewSystems))):_.a.createElement(_.a.Fragment,null),_.a.createElement(z.a,{rule:e})))}]}]}));Q(e.asMutable())}}),[t]),Object(E.useEffect)((function(){if(!ce&&"pending"!==a){var e=ae({},r),t=_e.length?{text:_e}:{};delete e.text,o(ae(ae(ae({},e),t),{},{offset:0}))}}),[Ge]);var Ve=function(e){var t=ae(ae({},r),{},{offset:0});"text"===e&&ye(""),delete t[e],o(t)},He=function(e,t){t.length>0?o(ae(ae({},r),{},{offset:0},u()({},e,t))):Ve(e)},qe=["",{label:f.formatMessage(oe?$.a.rulesTableActionShow:$.a.rulesTableActionHide),onClick:function(){return function(e){o(ae(ae({},r),{},{impacting:e,offset:0})),le(e)}(!oe)}}],ze=[{label:f.formatMessage($.a.description).toLowerCase(),filterValues:{key:"text-filter",onChange:function(e,t){return ye(t)},value:_e}},{label:m.FILTER_CATEGORIES.total_risk.title,type:m.FILTER_CATEGORIES.total_risk.type,id:m.FILTER_CATEGORIES.total_risk.urlParam,value:"checkbox-".concat(m.FILTER_CATEGORIES.total_risk.urlParam),filterValues:{key:"".concat(m.FILTER_CATEGORIES.total_risk.urlParam,"-filter"),onChange:function(e,t){return He(m.FILTER_CATEGORIES.total_risk.urlParam,t)},value:r.total_risk,items:m.FILTER_CATEGORIES.total_risk.values}},{label:m.FILTER_CATEGORIES.res_risk.title,type:m.FILTER_CATEGORIES.res_risk.type,id:m.FILTER_CATEGORIES.res_risk.urlParam,value:"checkbox-".concat(m.FILTER_CATEGORIES.res_risk.urlParam),filterValues:{key:"".concat(m.FILTER_CATEGORIES.res_risk.urlParam,"-filter"),onChange:function(e,t){return He(m.FILTER_CATEGORIES.res_risk.urlParam,t)},value:r.res_risk,items:m.FILTER_CATEGORIES.res_risk.values}},{label:m.FILTER_CATEGORIES.impact.title,type:m.FILTER_CATEGORIES.impact.type,id:m.FILTER_CATEGORIES.impact.urlParam,value:"checkbox-".concat(m.FILTER_CATEGORIES.impact.urlParam),filterValues:{key:"".concat(m.FILTER_CATEGORIES.impact.urlParam,"-filter"),onChange:function(e,t){return He(m.FILTER_CATEGORIES.impact.urlParam,t)},value:r.impact,items:m.FILTER_CATEGORIES.impact.values}},{label:m.FILTER_CATEGORIES.likelihood.title,type:m.FILTER_CATEGORIES.likelihood.type,id:m.FILTER_CATEGORIES.likelihood.urlParam,value:"checkbox-".concat(m.FILTER_CATEGORIES.likelihood.urlParam),filterValues:{key:"".concat(m.FILTER_CATEGORIES.likelihood.urlParam,"-filter"),onChange:function(e,t){return He(m.FILTER_CATEGORIES.likelihood.urlParam,t)},value:r.likelihood,items:m.FILTER_CATEGORIES.likelihood.values}},{label:m.FILTER_CATEGORIES.category.title,type:m.FILTER_CATEGORIES.category.type,id:m.FILTER_CATEGORIES.category.urlParam,value:"checkbox-".concat(m.FILTER_CATEGORIES.category.urlParam),filterValues:{key:"".concat(m.FILTER_CATEGORIES.category.urlParam,"-filter"),onChange:function(e,t){return He(m.FILTER_CATEGORIES.category.urlParam,t)},value:r.category,items:m.FILTER_CATEGORIES.category.values}},{label:m.FILTER_CATEGORIES.incident.title,type:m.FILTER_CATEGORIES.incident.type,id:m.FILTER_CATEGORIES.incident.urlParam,value:"checkbox-".concat(m.FILTER_CATEGORIES.incident.urlParam),filterValues:{key:"".concat(m.FILTER_CATEGORIES.incident.urlParam,"-filter"),onChange:function(e,t){return He(m.FILTER_CATEGORIES.incident.urlParam,t)},value:r.incident,items:m.FILTER_CATEGORIES.incident.values}},{label:m.FILTER_CATEGORIES.has_playbook.title,type:m.FILTER_CATEGORIES.has_playbook.type,id:m.FILTER_CATEGORIES.has_playbook.urlParam,value:"checkbox-".concat(m.FILTER_CATEGORIES.has_playbook.urlParam),filterValues:{key:"".concat(m.FILTER_CATEGORIES.has_playbook.urlParam,"-filter"),onChange:function(e,t){return He(m.FILTER_CATEGORIES.has_playbook.urlParam,t)},value:r.has_playbook,items:m.FILTER_CATEGORIES.has_playbook.values}},{label:m.FILTER_CATEGORIES.reports_shown.title,type:m.FILTER_CATEGORIES.reports_shown.type,id:m.FILTER_CATEGORIES.reports_shown.urlParam,value:"radio-".concat(m.FILTER_CATEGORIES.reports_shown.urlParam),filterValues:{key:"".concat(m.FILTER_CATEGORIES.reports_shown.urlParam,"-filter"),onChange:function(e,t){return Be(t)},value:void 0===r.reports_shown?"undefined":"".concat(r.reports_shown),items:m.FILTER_CATEGORIES.reports_shown.values}}],Je={filters:function(){var e=ae({},r);delete e.impacting,delete e.topic,delete e.sort,delete e.offset,delete e.limit;var t=Object.entries(e);return t.length>0?t.map((function(e){if(m.FILTER_CATEGORIES[e[0]]){var t=m.FILTER_CATEGORIES[e[0]],r=Array.isArray(e[1])?e[1].map((function(e){var r=t.values.find((function(t){return t.value===String(e)}));return{name:r.text||r.label,value:e}})):[{name:t.values.find((function(t){return t.value===String(e[1])})).label,value:e[1]}];return{category:Object(I.a)(t.title),chips:r,urlParam:t.urlParam}}return{category:"Description",chips:[{name:e[1],value:e[1]}],urlParam:e[0]}})):[]}(),onDelete:function(e,t,a){a?(ye(""),o(ae(ae({},r.topic&&{topic:r.topic}),{},{impacting:!0,reports_shown:"true",limit:r.limit,offset:r.offset}))):t.map((function(e){var t=u()({},e.urlParam,Array.isArray(r[e.urlParam])?r[e.urlParam].filter((function(t){return String(t)!==String(e.chips[0].value)})):"");t[e.urlParam].length>0?o(ae(ae({},r),t)):Ve(e.urlParam)}))}};return _.a.createElement(_.a.Fragment,null,Pe&&_.a.createElement(U.a,{handleModalToggle:function(e){return Ce(e)},isModalOpen:Pe,afterFn:function(){Ne()},rule:Le}),ve&&_.a.createElement(x.a,{handleModalToggle:ge,isModalOpen:ve,rule:Ie,afterFn:Ne}),_.a.createElement(V.PrimaryToolbar,{pagination:{itemCount:xe,page:r.offset/r.limit+1,perPage:Number(r.limit),onSetPage:function(e,t){De(t)},onPerPageSelect:function(e,t){o(ae(ae({},r),{},{limit:t,offset:0}))},isCompact:!1},exportConfig:{onSelect:function(e,t){return window.location="".concat(m.BASE_URL,"/export/hits.").concat("json"===t?"json":"csv","/").concat(de)},isDisabled:!oe},actionsConfig:{actions:qe},filterConfig:{items:ze},activeFiltersConfig:Je}),"fulfilled"===a&&_.a.createElement(v.b,{"aria-label":"rule-table",actionResolver:function(e,t){var r=t.rowIndex,a=q[r].rule?q[r].rule:null;return r%2==0&&a?a&&a.reports_shown?[{title:f.formatMessage($.a.disableRule),onClick:function(e,t){return We(t)}}]:[{title:f.formatMessage($.a.enableRule),onClick:function(e,t){return We(t)}}]:null},onCollapse:function(e,t,r){var a=s()(q);a[t]=ae(ae({},a[t]),{},{isOpen:r}),Q(a)},sortBy:ee,onSort:function(e,t,a){var n="".concat("asc"===a?"":"-").concat(Me[t]);te({index:t,direction:a}),o(ae(ae({},r),{},{sort:n,offset:0}))},cells:C,rows:q},_.a.createElement(g.a,null),_.a.createElement(h.a,null)),"pending"===a&&_.a.createElement(D.a,null),"failed"===a&&_.a.createElement(M.a,{message:f.formatMessage($.a.rulesTableFetchRulesError)}),_.a.createElement(K.TableToolbar,null,_.a.createElement(b.Pagination,{itemCount:xe,page:r.offset/r.limit+1,perPage:Number(r.limit),onSetPage:function(e,t){De(t)},onPerPageSelect:function(e,t){o(ae(ae({},r),{},{limit:t,offset:0}))},widgetId:"pagination-options-menu-bottom",variant:b.PaginationVariant.bottom})))};ne.propTypes={fetchRules:q.a.func,rulesFetchStatus:q.a.string,rules:q.a.object,filters:q.a.object,addNotification:q.a.func,setFilters:q.a.func,intl:q.a.any,selectedTags:q.a.array};t.default=Object(Z.c)(te()(Object(X.connect)((function(e,t){return ae({rules:e.AdvisorStore.rules,rulesFetchStatus:e.AdvisorStore.rulesFetchStatus,filters:e.AdvisorStore.filters,selectedTags:e.AdvisorStore.selectedTags},t)}),(function(e){return{fetchRules:function(t){return e(d.d(t))},addNotification:function(t){return e(Object(Q.addNotification)(t))},setFilters:function(t){return e(d.k(t))}}}))(ne)))}}]);
//# sourceMappingURL=RulesTable.js.map