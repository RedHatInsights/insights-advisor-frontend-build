(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{437:function(e,t,r){var n=r(469),a=r(470),o=r(231),l=r(471);e.exports=function(e){return n(e)||a(e)||o(e)||l()}},469:function(e,t,r){var n=r(232);e.exports=function(e){if(Array.isArray(e))return n(e)}},470:function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},471:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},472:function(e,t,r){(e.exports=r(5)(!1)).push([e.i,".pf-c-check__label #battery_svg{height:1.25rem}\n",""])},473:function(e,t,r){var n;window,n=function(e,t,r,n){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./src/Components/TableToolbar/index.js")}({"../../node_modules/@babel/runtime/helpers/defineProperty.js":
/*!*******************************************************************************************************************!*\
  !*** /home/travis/build/RedHatInsights/frontend-components/node_modules/@babel/runtime/helpers/defineProperty.js ***!
  \*******************************************************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},"../../node_modules/@babel/runtime/helpers/extends.js":
/*!************************************************************************************************************!*\
  !*** /home/travis/build/RedHatInsights/frontend-components/node_modules/@babel/runtime/helpers/extends.js ***!
  \************************************************************************************************************/
/*! no static exports found */function(e,t){function r(){return e.exports=r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r.apply(this,arguments)}e.exports=r},"../../node_modules/@babel/runtime/helpers/interopRequireDefault.js":
/*!**************************************************************************************************************************!*\
  !*** /home/travis/build/RedHatInsights/frontend-components/node_modules/@babel/runtime/helpers/interopRequireDefault.js ***!
  \**************************************************************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},"../../node_modules/@babel/runtime/helpers/interopRequireWildcard.js":
/*!***************************************************************************************************************************!*\
  !*** /home/travis/build/RedHatInsights/frontend-components/node_modules/@babel/runtime/helpers/interopRequireWildcard.js ***!
  \***************************************************************************************************************************/
/*! no static exports found */function(e,t,r){var n=r(/*! ../helpers/typeof */"../../node_modules/@babel/runtime/helpers/typeof.js");function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if(Object.prototype.hasOwnProperty.call(e,l)){var i=o?Object.getOwnPropertyDescriptor(e,l):null;i&&(i.get||i.set)?Object.defineProperty(r,l,i):r[l]=e[l]}return r.default=e,t&&t.set(e,r),r}},"../../node_modules/@babel/runtime/helpers/objectWithoutProperties.js":
/*!****************************************************************************************************************************!*\
  !*** /home/travis/build/RedHatInsights/frontend-components/node_modules/@babel/runtime/helpers/objectWithoutProperties.js ***!
  \****************************************************************************************************************************/
/*! no static exports found */function(e,t,r){var n=r(/*! ./objectWithoutPropertiesLoose */"../../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js");e.exports=function(e,t){if(null==e)return{};var r,a,o=n(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}},"../../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js":
/*!*********************************************************************************************************************************!*\
  !*** /home/travis/build/RedHatInsights/frontend-components/node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js ***!
  \*********************************************************************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}},"../../node_modules/@babel/runtime/helpers/typeof.js":
/*!***********************************************************************************************************!*\
  !*** /home/travis/build/RedHatInsights/frontend-components/node_modules/@babel/runtime/helpers/typeof.js ***!
  \***********************************************************************************************************/
/*! no static exports found */function(e,t){function r(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=r=function(e){return typeof e}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(t)}e.exports=r},"./src/Components/TableToolbar/TableToolbar.js":
/*!*****************************************************!*\
  !*** ./src/Components/TableToolbar/TableToolbar.js ***!
  \*****************************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! @babel/runtime/helpers/interopRequireWildcard */"../../node_modules/@babel/runtime/helpers/interopRequireWildcard.js"),a=r(/*! @babel/runtime/helpers/interopRequireDefault */"../../node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(r(/*! @babel/runtime/helpers/extends */"../../node_modules/@babel/runtime/helpers/extends.js")),l=a(r(/*! @babel/runtime/helpers/defineProperty */"../../node_modules/@babel/runtime/helpers/defineProperty.js")),i=a(r(/*! @babel/runtime/helpers/objectWithoutProperties */"../../node_modules/@babel/runtime/helpers/objectWithoutProperties.js")),s=n(r(/*! react */"react")),c=a(r(/*! prop-types */"prop-types")),u=r(/*! @patternfly/react-core/dist/js/layouts/Toolbar/Toolbar.js */"@patternfly/react-core/dist/js/layouts/Toolbar/Toolbar.js"),f=a(r(/*! classnames */"classnames"));r(/*! ./TableToolbar.scss */"./src/Components/TableToolbar/TableToolbar.scss");var p=function(e){var t=e.isFooter,r=e.results,n=e.className,a=e.selected,c=e.children,p=(0,i.default)(e,["isFooter","results","className","selected","children"]),d=(0,f.default)("ins-c-table__toolbar",(0,l.default)({},"ins-m-footer",t),n);return s.default.createElement(s.Fragment,null,s.default.createElement(u.Toolbar,(0,o.default)({className:d},p)," ",c),(r>=0||a>=0)&&s.default.createElement("div",{className:"ins-c-table__toolbar-results"},r>=0&&s.default.createElement("span",{className:"ins-c-table__toolbar-results-count"}," ",function(e){return"".concat(e,e>1||e<1?" Results":" Result")}(r)," "),a>=0&&s.default.createElement("span",{className:"ins-c-table__toolbar-results-selected"}," ",a," Selected ")))},d=p;t.default=d,p.propTypes={isFooter:c.default.bool,results:c.default.number,children:c.default.any,className:c.default.string,selected:c.default.number},p.defaultProps={isFooter:!1}},"./src/Components/TableToolbar/TableToolbar.scss":
/*!*******************************************************!*\
  !*** ./src/Components/TableToolbar/TableToolbar.scss ***!
  \*******************************************************/
/*! no static exports found */function(e,t,r){},"./src/Components/TableToolbar/index.js":
/*!**********************************************!*\
  !*** ./src/Components/TableToolbar/index.js ***!
  \**********************************************/
/*! no static exports found */function(e,t,r){"use strict";var n=r(/*! @babel/runtime/helpers/interopRequireDefault */"../../node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"TableToolbar",{enumerable:!0,get:function(){return a.default}});var a=n(r(/*! ./TableToolbar.js */"./src/Components/TableToolbar/TableToolbar.js"))},"@patternfly/react-core/dist/js/layouts/Toolbar/Toolbar.js":
/*!****************************************************************************!*\
  !*** external "@patternfly/react-core/dist/js/layouts/Toolbar/Toolbar.js" ***!
  \****************************************************************************/
/*! no static exports found */function(t,r){t.exports=e},classnames:
/*!*****************************!*\
  !*** external "classnames" ***!
  \*****************************/
/*! no static exports found */function(e,r){e.exports=t},"prop-types":
/*!*****************************!*\
  !*** external "prop-types" ***!
  \*****************************/
/*! no static exports found */function(e,t){e.exports=r},react:
/*!************************!*\
  !*** external "react" ***!
  \************************/
/*! no static exports found */function(e,t){e.exports=n}})},e.exports=n(r(474),r(27),r(1),r(0))},474:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Toolbar=void 0;var n,a=(n=r(1))&&n.__esModule?n:{default:n},o=function(e){if(e&&e.__esModule)return e;var t=i();if(t&&t.has(e))return t.get(e);var r={};if(null!=e){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(r,a,o):r[a]=e[a]}}r.default=e,t&&t.set(e,r);return r}(r(0)),l=r(2);function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}r(235);var u=function(e){var t=e.children,r=void 0===t?null:t,n=e.className,a=void 0===n?null:n,i=c(e,["children","className"]);return o.createElement("div",s({},i,{className:(0,l.css)("pf-l-toolbar",a)}),r)};t.Toolbar=u,u.propTypes={children:a.default.node,className:a.default.string}},525:function(e,t,r){"use strict";r.d(t,"d",(function(){return u})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return p})),r.d(t,"a",(function(){return d}));var n=r(92),a=r.n(n),o=r(158),l=r.n(o),i=r(437),s=r.n(i);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var u=function(e,t){var r="?".concat(Object.keys(e).map((function(t){return"".concat(t,"=").concat(Array.isArray(e[t])?e[t].join():e[t])})).join("&"));return t&&t.replace({search:r}),r},f=function(e){return Object.assign.apply(Object,[{}].concat(s()(Object.entries(e).map((function(e){var t=l()(e,2),r=t[0],n=t[1];return Array.isArray(n)?("true"===n[0]||"false"===n[0])&&n.length>1?null:a()({},r,n.join()):a()({},r,n)})))))},p=function(e){var t=new URLSearchParams(e.location.search);return Array.from(t).reduce((function(e,t){var r=l()(t,2),n=r[0],o=r[1];return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,a()({},n,"true"===o||"false"===o?JSON.parse(o):o.split(",")))}),{})},d=function(e){return e[0].toUpperCase()+e.substring(1)}},526:function(e,t,r){"use strict";var n=r(158),a=r.n(n),o=r(0);t.a=function(e,t){var r=Object(o.useState)(e),n=a()(r,2),l=n[0],i=n[1];return Object(o.useEffect)((function(){var r=setTimeout((function(){i(e)}),t);return function(){clearTimeout(r)}}),[t,e]),l}},690:function(e,t,r){"use strict";r.r(t);var n=r(93),a=r.n(n),o=r(159),l=r.n(o),i=r(437),s=r.n(i),c=r(92),u=r.n(c),f=r(158),p=r.n(f),d=(r(691),r(424)),m=r(4),b=r(94),E=r(0),y=r.n(E),O=r(234),_=r(202),T=r(203),v=r(23),h=r(206),g=r(205),R=r(65),j=r(525),I=r(429),S=r(242),k=r.n(S),P=r(56),C=r(478),A=r.n(C),F=r(33),L=r(166),w=r.n(L),x=r(445),G=r(484),M=r(443),N=r(64),D=r(428),B=r(440),W=r(444),V=r(524),H=r(1),q=r.n(H),U=r(532),z=r(528),J=r(473),K=r(529),Q=r(44),X=r(63),Y=r(526),Z=r(15),$=r(10),ee=r(160),te=r.n(ee);function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ae=function(e){var t=e.rules,r=e.filters,n=e.rulesFetchStatus,o=e.setFilters,i=e.fetchRules,c=e.addNotification,f=e.history,d=e.intl,S=e.selectedTags,C=Object(E.useState)([{title:d.formatMessage($.a.description),transforms:[_.a]},{title:d.formatMessage($.a.added),transforms:[_.a,Object(T.a)(15)]},{title:d.formatMessage($.a.totalRisk),transforms:[_.a,Object(T.a)(15)]},{title:d.formatMessage($.a.systems),transforms:[_.a]},{title:y.a.createElement(y.a.Fragment,null,y.a.createElement(k.a,{size:"md"})," ",d.formatMessage($.a.ansible)),transforms:[_.a],dataLabel:d.formatMessage($.a.ansible)}]),L=p()(C,1)[0],H=Object(E.useState)([]),q=p()(H,2),Q=q[0],X=q[1],Z=Object(E.useState)({}),ee=p()(Z,2),te=ee[0],re=ee[1],ae=Object(E.useState)(r.impacting),oe=p()(ae,2),le=oe[0],ie=oe[1],se=Object(E.useState)(!0),ce=p()(se,2),ue=ce[0],fe=ce[1],pe=Object(E.useState)(""),de=p()(pe,2),me=de[0],be=de[1],Ee=Object(E.useState)(""),ye=p()(Ee,2),Oe=ye[0],_e=ye[1],Te=Object(E.useState)(!1),ve=p()(Te,2),he=ve[0],ge=ve[1],Re=Object(E.useState)({}),je=p()(Re,2),Ie=je[0],Se=je[1],ke=Object(E.useState)(!1),Pe=p()(ke,2),Ce=Pe[0],Ae=Pe[1],Fe=Object(E.useState)({}),Le=p()(Fe,2),we=Le[0],xe=Le[1],Ge=Object(Y.a)(Oe,600),Me=t.meta?t.meta.count:0,Ne={1:"description",2:"publish_date",3:"total_risk",4:"impacted_count",5:"playbook_count"},De=Object(E.useCallback)((function(){var e=void 0===r.limit||void 0===r.offset,t=S.length&&{tags:S.join()},n=e?10:r.limit,a=e?0:r.offset;e&&o(ne({},r,{offset:0,limit:10})),i(ne({},Object(j.b)(r),{offset:a,limit:n,impacting:le},t))}),[i,r,le,S,o]),Be=function(e){var t=e*r.limit-r.limit;o(ne({},r,{offset:t}))},We=function(e){var t="undefined"===e?void 0:e;"true"!==t&&ie(!1),o(ne({},r,{reports_shown:t,offset:0},"true"!==t&&{impacting:!1}))},Ve=function(){var e=l()(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Q[t].rule,e.prev=1,!r.reports_shown){e.next=7;break}Se(r),ge(!0),e.next=10;break;case 7:return e.next=9,I.a.delete("".concat(m.BASE_URL,"/ack/").concat(r.rule_id,"/"));case 9:De();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),c({variant:"danger",dismissable:!0,title:r.reports_shown?d.formatMessage($.a.rulesTableHideReportsErrorDisabled):d.formatMessage($.a.rulesTableHideReportsErrorEnabled),description:"".concat(e.t0)});case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();Object(E.useEffect)((function(){!ue&&De()}),[De,ue,r,S]),Object(E.useEffect)((function(){if(f.location.search&&ue){var e=Object(j.c)(f);void 0===e.text?_e(""):_e(e.text),e.reports_shown=void 0===e.reports_shown||"undefined"===e.reports_shown[0]?void 0:e.reports_shown,e.sort=void 0===e.sort?"-publish_date":e.sort[0],void 0!==e.has_playbook&&!Array.isArray(e.has_playbook)&&(e.has_playbook=["".concat(e.has_playbook)]),void 0!==e.incident&&!Array.isArray(e.incident)&&(e.incident=["".concat(e.incident)]),void 0===e.offset?e.offset=0:e.offset=Number(e.offset[0]),void 0===e.limit?e.limit=10:e.limit=Number(e.limit[0]),ie(e.impacting),o(ne({},e))}fe(!1)}),[]),Object(E.useEffect)((function(){var e=Object(j.d)(r);be(e),f.replace({search:e})}),[r,f]),Object(E.useEffect)((function(){if(void 0!==r.sort){var e=Number(Object.entries(Ne).find((function(e){return e[1]===r.sort||"-".concat(e[1])===r.sort}))[0]),t="-"===r.sort[0]?"desc":"asc";re({index:e,direction:t})}}),[r,r.sort]),Object(E.useEffect)((function(){if(t.data)if(0===t.data.length)X([{cells:[{title:y.a.createElement(W.a,{icon:w.a,iconClass:"ansibleCheck",size:"md",title:d.formatMessage($.a.rulesTableNoRuleHitsTitle),text:r.reports_shown?d.formatMessage($.a.rulesTableNoRuleHitsEnabledRulesBody):d.formatMessage($.a.rulesTableNoRuleHitsAnyRulesBody)},r.reports_shown&&y.a.createElement(F.Button,{variant:"link",style:{paddingTop:24},onClick:function(){return We("undefined")}},d.formatMessage($.a.rulesTableNoRuleHitsAddDisabledButton))),props:{colSpan:5}}]}]);else{var e=t.data.flatMap((function(e,t){return[{isOpen:!1,rule:e,cells:[{title:y.a.createElement("span",{key:t},y.a.createElement(z.a,{rule:e}),y.a.createElement(N.Link,{key:t,to:"/recommendations/".concat(e.rule_id)}," ",e.description," "))},{title:y.a.createElement(x.DateFormat,{key:t,date:e.publish_date,variant:"relative"})},{title:y.a.createElement("div",{className:"pf-m-center",key:t},y.a.createElement(R.Tooltip,{key:t,position:R.TooltipPosition.bottom,content:d.formatMessage($.a.rulesDetailsTotalriskBody,{likelihood:m.LIKELIHOOD_LABEL[e.likelihood]||d.formatMessage($.a.undefined),impact:m.IMPACT_LABEL[e.impact.impact]||d.formatMessage($.a.undefined),strong:function(e){return y.a.createElement("strong",null,e)}})},y.a.createElement(P.Battery,{label:m.TOTAL_RISK_LABEL[e.total_risk]||d.formatMessage($.a.undefined),severity:e.total_risk})))},{title:y.a.createElement("div",{key:t}," ",e.reports_shown?"".concat(e.impacted_systems_count.toLocaleString()):d.formatMessage($.a.nA))},{title:y.a.createElement("div",{className:"pf-m-center ",key:t},e.playbook_count?y.a.createElement(w.a,{className:"ansibleCheck"}):d.formatMessage($.a.no))}]},{parent:2*t,fullWidth:!0,cells:[{title:y.a.createElement(B.Main,{className:"pf-m-light"},y.a.createElement(O.Stack,{gutter:"md"},e.hosts_acked_count?y.a.createElement(O.StackItem,null,y.a.createElement(A.a,{size:"sm"})," ",e.hosts_acked_count&&!e.impacted_systems_count?d.formatMessage($.a.ruleIsDisabledForAllSystems):d.formatMessage($.a.ruleIsDisabledForSystemsBody,{systems:e.hosts_acked_count}),"  ",y.a.createElement(F.Button,{isInline:!0,variant:"link",onClick:function(){xe(e),Ae(!0)}},d.formatMessage($.a.viewSystems))):y.a.createElement(y.a.Fragment,null),y.a.createElement(U.a,{rule:e})))}]}]}));X(e.asMutable())}}),[t]),Object(E.useEffect)((function(){if(!ue&&"pending"!==n){var e=ne({},r),t=Oe.length?{text:Oe}:{};delete e.text,o(ne({},e,{},t,{offset:0}))}}),[Ge]);var He=function(e){var t=ne({},r,{offset:0});delete t[e],o(t)},qe=function(e,t){t.length>0?o(ne({},r,{offset:0},u()({},e,t))):He(e)},Ue=["",{label:d.formatMessage(le?$.a.rulesTableActionShow:$.a.rulesTableActionHide),onClick:function(){return function(e){o(ne({},r,{impacting:e,offset:0})),ie(e)}(!le)}}],ze=[{label:d.formatMessage($.a.description).toLowerCase(),filterValues:{key:"text-filter",onChange:function(e,t){return _e(t)},value:Oe}},{label:m.FILTER_CATEGORIES.total_risk.title,type:m.FILTER_CATEGORIES.total_risk.type,id:m.FILTER_CATEGORIES.total_risk.urlParam,value:"checkbox-".concat(m.FILTER_CATEGORIES.total_risk.urlParam),filterValues:{key:"".concat(m.FILTER_CATEGORIES.total_risk.urlParam,"-filter"),onChange:function(e,t){return qe(m.FILTER_CATEGORIES.total_risk.urlParam,t)},value:r.total_risk,items:m.FILTER_CATEGORIES.total_risk.values}},{label:m.FILTER_CATEGORIES.res_risk.title,type:m.FILTER_CATEGORIES.res_risk.type,id:m.FILTER_CATEGORIES.res_risk.urlParam,value:"checkbox-".concat(m.FILTER_CATEGORIES.res_risk.urlParam),filterValues:{key:"".concat(m.FILTER_CATEGORIES.res_risk.urlParam,"-filter"),onChange:function(e,t){return qe(m.FILTER_CATEGORIES.res_risk.urlParam,t)},value:r.res_risk,items:m.FILTER_CATEGORIES.res_risk.values}},{label:m.FILTER_CATEGORIES.impact.title,type:m.FILTER_CATEGORIES.impact.type,id:m.FILTER_CATEGORIES.impact.urlParam,value:"checkbox-".concat(m.FILTER_CATEGORIES.impact.urlParam),filterValues:{key:"".concat(m.FILTER_CATEGORIES.impact.urlParam,"-filter"),onChange:function(e,t){return qe(m.FILTER_CATEGORIES.impact.urlParam,t)},value:r.impact,items:m.FILTER_CATEGORIES.impact.values}},{label:m.FILTER_CATEGORIES.likelihood.title,type:m.FILTER_CATEGORIES.likelihood.type,id:m.FILTER_CATEGORIES.likelihood.urlParam,value:"checkbox-".concat(m.FILTER_CATEGORIES.likelihood.urlParam),filterValues:{key:"".concat(m.FILTER_CATEGORIES.likelihood.urlParam,"-filter"),onChange:function(e,t){return qe(m.FILTER_CATEGORIES.likelihood.urlParam,t)},value:r.likelihood,items:m.FILTER_CATEGORIES.likelihood.values}},{label:m.FILTER_CATEGORIES.category.title,type:m.FILTER_CATEGORIES.category.type,id:m.FILTER_CATEGORIES.category.urlParam,value:"checkbox-".concat(m.FILTER_CATEGORIES.category.urlParam),filterValues:{key:"".concat(m.FILTER_CATEGORIES.category.urlParam,"-filter"),onChange:function(e,t){return qe(m.FILTER_CATEGORIES.category.urlParam,t)},value:r.category,items:m.FILTER_CATEGORIES.category.values}},{label:m.FILTER_CATEGORIES.incident.title,type:m.FILTER_CATEGORIES.incident.type,id:m.FILTER_CATEGORIES.incident.urlParam,value:"checkbox-".concat(m.FILTER_CATEGORIES.incident.urlParam),filterValues:{key:"".concat(m.FILTER_CATEGORIES.incident.urlParam,"-filter"),onChange:function(e,t){return qe(m.FILTER_CATEGORIES.incident.urlParam,t)},value:r.incident,items:m.FILTER_CATEGORIES.incident.values}},{label:m.FILTER_CATEGORIES.has_playbook.title,type:m.FILTER_CATEGORIES.has_playbook.type,id:m.FILTER_CATEGORIES.has_playbook.urlParam,value:"checkbox-".concat(m.FILTER_CATEGORIES.has_playbook.urlParam),filterValues:{key:"".concat(m.FILTER_CATEGORIES.has_playbook.urlParam,"-filter"),onChange:function(e,t){return qe(m.FILTER_CATEGORIES.has_playbook.urlParam,t)},value:r.has_playbook,items:m.FILTER_CATEGORIES.has_playbook.values}},{label:m.FILTER_CATEGORIES.reports_shown.title,type:m.FILTER_CATEGORIES.reports_shown.type,id:m.FILTER_CATEGORIES.reports_shown.urlParam,value:"radio-".concat(m.FILTER_CATEGORIES.reports_shown.urlParam),filterValues:{key:"".concat(m.FILTER_CATEGORIES.reports_shown.urlParam,"-filter"),onChange:function(e,t){return We(t)},value:void 0===r.reports_shown?"undefined":"".concat(r.reports_shown),items:m.FILTER_CATEGORIES.reports_shown.values}}],Je={filters:function(){var e=ne({},r);delete e.impacting,delete e.topic,delete e.sort,delete e.offset,delete e.limit;var t=Object.entries(e);return t.length>0?t.map((function(e){if(m.FILTER_CATEGORIES[e[0]]){var t=m.FILTER_CATEGORIES[e[0]],r=Array.isArray(e[1])?e[1].map((function(e){var r=t.values.find((function(t){return t.value===String(e)}));return{name:r.text||r.label,value:e}})):[{name:t.values.find((function(t){return t.value===String(e[1])})).label,value:e[1]}];return{category:Object(j.a)(t.title),chips:r,urlParam:t.urlParam}}return{category:"Description",chips:[{name:e[1],value:e[1]}],urlParam:e[0]}})):[]}(),onDelete:function(e,t,n){n?o(ne({},r.topic&&{topic:r.topic},{impacting:!0,reports_shown:"true"})):t.map((function(e){var t=u()({},e.urlParam,Array.isArray(r[e.urlParam])?r[e.urlParam].filter((function(t){return String(t)!==String(e.chips[0].value)})):"");t[e.urlParam].length>0?o(ne({},r,{},t)):He(e.urlParam)}))}};return y.a.createElement(y.a.Fragment,null,Ce&&y.a.createElement(K.a,{handleModalToggle:function(e){return Ae(e)},isModalOpen:Ce,afterFn:function(){De()},rule:we}),he&&y.a.createElement(G.a,{handleModalToggle:ge,isModalOpen:he,rule:Ie,afterFn:De}),y.a.createElement(V.PrimaryToolbar,{pagination:{itemCount:Me,page:r.offset/r.limit+1,perPage:Number(r.limit),onSetPage:function(e,t){Be(t)},onPerPageSelect:function(e,t){o(ne({},r,{limit:t,offset:0}))},isCompact:!1},exportConfig:{onSelect:function(e,t){return window.location="".concat(m.BASE_URL,"/export/hits.").concat("json"===t?"json":"csv","/").concat(me)},isDisabled:!le},actionsConfig:{actions:Ue},filterConfig:{items:ze},activeFiltersConfig:Je}),"fulfilled"===n&&y.a.createElement(v.b,{"aria-label":"rule-table",actionResolver:function(e,t){var r=t.rowIndex,n=Q[r].rule?Q[r].rule:null;return r%2==0&&n?n&&n.reports_shown?[{title:d.formatMessage($.a.disableRule),onClick:function(e,t){return Ve(t)}}]:[{title:d.formatMessage($.a.enableRule),onClick:function(e,t){return Ve(t)}}]:null},onCollapse:function(e,t,r){var n=s()(Q);n[t]=ne({},n[t],{isOpen:r}),X(n)},sortBy:te,onSort:function(e,t,n){var a="".concat("asc"===n?"":"-").concat(Ne[t]);re({index:t,direction:n}),o(ne({},r,{sort:a,offset:0}))},cells:L,rows:Q},y.a.createElement(h.a,null),y.a.createElement(g.a,null)),"pending"===n&&y.a.createElement(D.a,null),"failed"===n&&y.a.createElement(M.a,{message:d.formatMessage($.a.rulesTableFetchRulesError)}),y.a.createElement(J.TableToolbar,null,y.a.createElement(b.Pagination,{itemCount:Me,page:r.offset/r.limit+1,perPage:Number(r.limit),onSetPage:function(e,t){Be(t)},onPerPageSelect:function(e,t){o(ne({},r,{limit:t,offset:0}))},widgetId:"pagination-options-menu-bottom",variant:b.PaginationVariant.bottom})))};ae.propTypes={fetchRules:q.a.func,rulesFetchStatus:q.a.string,rules:q.a.object,filters:q.a.object,addNotification:q.a.func,setFilters:q.a.func,history:q.a.object,intl:q.a.any,selectedTags:q.a.array};t.default=Object(Z.c)(te()(Object(X.connect)((function(e,t){return ne({rules:e.AdvisorStore.rules,rulesFetchStatus:e.AdvisorStore.rulesFetchStatus,filters:e.AdvisorStore.filters,selectedTags:e.AdvisorStore.selectedTags},t)}),(function(e){return{fetchRules:function(t){return e(d.d(t))},addNotification:function(t){return e(Object(Q.addNotification)(t))},setFilters:function(t){return e(d.k(t))}}}))(ae)))},691:function(e,t,r){var n=r(472);"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0},o=r(7)(n,a);n.locals&&(e.exports=n.locals),e.hot.accept(472,(function(){var t=r(472);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var r,n=0;for(r in e){if(!t||e[r]!==t[r])return!1;n++}for(r in t)n--;return 0===n}(n.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");o(t)})),e.hot.dispose((function(){o()}))}}]);
//# sourceMappingURL=RulesTable.js.map