(self.webpackChunkadvisor_frontend=self.webpackChunkadvisor_frontend||[]).push([[7641],{43147:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>H});var r=n(59713),a=n.n(r),o=n(64169),s=n(84049),c=n(97522),l=n.n(c),i=n(47205),u=n(45697),f=n.n(u),p=n(63038),m=n.n(p),d=n(89734),g=n.n(d),b=n(33237),y=n(23218),E=n(55399),h=n(82141),v=n(75824),Z=n(47176),S=n(71070),w=n(47668),M=n(77669),T=n(86588),O=n(74806),P=n(18623),k=n(50448),j=n.n(k),D=function(e){var t=e.topics,n=e.topicsFetchStatus,r=e.intl,a=(0,c.useState)(""),o=m()(a,2),s=o[0],i=o[1],u=(0,c.useState)([{title:r.formatMessage(P.Z.name),transforms:[b.sortable]},"",{title:r.formatMessage(P.Z.featured),transforms:[b.sortable,b.wrappable]},{title:r.formatMessage(P.Z.affectedSystems),transforms:[b.sortable,b.wrappable]}]),f=m()(u,1)[0],p=(0,c.useState)([]),d=m()(p,2),T=d[0],O=d[1],k=(0,c.useState)({index:2,direction:"desc"}),j=m()(k,2),D=j[0],C=j[1],F=function(e){return e.flatMap((function(e,t){return 0===s.length||e.name.toLowerCase().includes(s.toLowerCase())?[{topic:e,cells:[{title:l().createElement("span",{key:t},l().createElement(E.Link,{key:t,to:"/topics/".concat(e.slug)}," ",e.name," ")),props:{colSpan:2}},{title:l().createElement("span",{key:t}," ",e.featured&&l().createElement(y._,{color:"blue",icon:l().createElement(w.ZP,null)},r.formatMessage(P.Z.featured))," ")},{title:l().createElement("span",{className:"pf-m-center",key:t}," ",e.impacted_systems_count,"                ")}]}]:[]}))},L=function(e,n,r){var a={0:g()(t,[function(e){return e.name}]),2:g()(t,[function(e){return e.featured}]),3:g()(t,[function(e){return e.impacted_systems_count}])},o=r===b.SortByDirection.asc?a[n]:a[n].reverse();C({index:n,direction:r}),O(F(o))},x={filters:s.length?[{category:"Description",chips:[{name:s,value:s}]}]:[],onDelete:function(){i(""),C({})}};(0,c.useEffect)((function(){D.index?L(0,D.index,D.direction):O(F(t).asMutable())}),[t,s]);var _=[{label:r.formatMessage(P.Z.name),filterValues:{key:"text-filter",onChange:function(e,t){i(t),C({})},value:s}}];return l().createElement(l().Fragment,null,""===n||"pending"===n&&l().createElement(h.Z,null),"fulfilled"===n&&t.length>0&&l().createElement(l().Fragment,null,l().createElement(Z.PrimaryToolbar,{filterConfig:{items:_},activeFiltersConfig:x}),l().createElement(b.Table,{"aria-label":"topics-table",sortBy:D,onSort:L,cells:f,rows:T,ouiaId:"topicTable"},l().createElement(b.TableHeader,null),l().createElement(b.TableBody,null),0===T.length&&"pending"!==n&&O([{cells:[{title:l().createElement(v.Z,{icon:S.ZP,title:r.formatMessage(P.Z.noHitsTitle,{item:r.formatMessage(P.Z.topics).toLowerCase()}),text:r.formatMessage(P.Z.noHitsBody,{item:r.formatMessage(P.Z.topics).toLowerCase()})}),props:{colSpan:4}}]}]))),"failed"===n||"rejected"===n||"fulfilled"===n&&0===t.length&&l().createElement(v.Z,{icon:M.ZP,title:r.formatMessage(P.Z.topicsListNotopicsTitle),text:r.formatMessage(P.Z.topicsListNotopicsBody)}))};D.propTypes={topics:f().array,topicsFetchStatus:f().string,intl:f().any};const C=(0,O.ZP)(j()((0,T.connect)((function(e){return{topics:e.AdvisorStore.topics,topicsFetchStatus:e.AdvisorStore.topicsFetchStatus}}),null)(D)));var F=n(26042);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=function(e){var t=e.fetchTopics,n=e.intl,r=e.selectedTags,a=e.workloads,o=e.SID;return document.title=n.formatMessage(P.Z.documentTitle,{subnav:P.Z.topics.defaultMessage}),(0,c.useEffect)((function(){var e=null!==r&&r.length&&{tags:r};a&&(e=x(x({},e),(0,F.s0)(a,o))),t(e)}),[t,r,a,o]),l().createElement(l().Fragment,null,l().createElement(s.PageHeader,null,l().createElement(s.PageHeaderTitle,{title:"".concat(n.formatMessage(P.Z.insightsHeader)," ").concat(n.formatMessage(P.Z.topics).toLowerCase())})),l().createElement(i.Main,null,l().createElement(C,null)))};_.displayName="list-topics",_.propTypes={fetchTopics:f().func,intl:f().any,selectedTags:f().array,workloads:f().object,SID:f().object};const H=(0,O.ZP)(j()((0,T.connect)((function(e){var t=e.AdvisorStore,n=e.ownProps;return x({selectedTags:t.selectedTags,workloads:t.workloads,SID:t.SID},n)}),(function(e){return{fetchTopics:function(t){return e(o.Qq(t))}}}))(_)))}}]);
//# sourceMappingURL=TopicsList.a798fc0a1cb713170434.js.map