"use strict";(self.webpackChunkadvisor=self.webpackChunkadvisor||[]).push([[9102],{34589:(e,t,r)=>{r.r(t),r.d(t,{default:()=>f});var n=r(93264),o=r.n(n),s=r(45697),i=r.n(s),a=r(43707),u=r(92224),c=r(28216),l=r(59303),d=r(15112),p=function(e){var t=e.rule,r=e.afterDisableFn,n=e.handleModalToggle,s=(0,c.useSelector)((function(e){return e.filters.selectedTags})),i=(0,c.useSelector)((function(e){return e.filters.workloads})),p=(0,c.useSelector)((function(e){return e.filters.SID})),f=(0,a.TE)("advisor",l.Gd.export).hasAccess,v=(0,d.GG)(n);return o().createElement(u.Z,{tableProps:{canSelectAll:!1,actionResolver:v,isStickyHeader:!0},rule:t,afterDisableFn:r,selectedTags:s,workloads:i,SID:p,permsExport:f,exportTable:"systems",showTags:!0})};p.propTypes={rule:i().object,afterDisableFn:i().func,handleModalToggle:i().func};const f=p},15112:(e,t,r)=>{r.d(t,{GG:()=>k,U:()=>O,Vw:()=>D,gp:()=>w});var n=r(42982),o=r(15861),s=r(4942),i=r(87757),a=r.n(i),u=r(58016),c=r(64016),l=r(71094),d=r(59303),p=r(93264),f=r(46655),v=r(41131),g=r(28216),m=r(46818);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0;return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).map((function(n){var o,s=t.find((function(e){return e.DeviceUUID===n.id})),i=e.find((function(e){return e.system_uuid===n.id}));return y(y(y(y({},n),i),s),{},{groups:r?(null===(o=s.DeviceGroups)||void 0===o?void 0:o.map((function(e){return{id:e.ID,name:e.Name}})))||[]:n.groups})}))},O=function(e,t,r){return function(){var n=(0,o.Z)(a().mark((function n(o,s,i,p){var f,v,g,m,b,O,k,w,D,_,S,T,j,P,x,I,E,C,F,G,N,A,Z;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return v=s.per_page,g=s.page,m=s.orderBy,b=s.orderDirection,O=s.advisorFilters,k=s.filters,w=s.workloads,D=s.SID,_=s.selectedTags,S="operating_system"===m?"rhel_version":"".concat("ASC"===b?"":"-").concat("updated"===m?"last_seen":m),T=(0,u.JD)(O,g,v,S,t,k,_,w,D),e(T),j=y(y({},s),{},{pathway:t,rule:r,sort:S}),n.next=7,(0,c.kx)(j);case 7:return P=n.sent,x=null==P||null===(f=P.data)||void 0===f?void 0:f.map((function(e){return e.system_uuid})),n.next=11,p(x,{per_page:v,hasItems:!0,fields:{system_profile:["operating_system"]}},i);case 11:if(I=n.sent,E=[],C=!1,null==x||!x.length){n.next=21;break}return n.next=17,(0,l.SO)("".concat(d.pA,"/devices/devicesview"),{},{devices_uuid:x});case 17:N=n.sent,A=N.data,E=(null==A||null===(F=A.data)||void 0===F?void 0:F.devices)||[],C=null==A||null===(G=A.data)||void 0===G?void 0:G.enforce_edge_groups;case 21:return Z=h(P.data,I.results,E,C),n.abrupt("return",Promise.resolve({results:Z,total:P.meta.count}));case 23:case"end":return n.stop()}}),n)})));return function(e,t,r,o){return n.apply(this,arguments)}}()},k=function(e){return(0,p.useCallback)((function(){return[{title:"Disable recommendation for system",onClick:function(t,r,n){return e(!0,n)}}]}),[])},w=function(e){var t=(0,g.useStore)();return(0,p.useCallback)((function(r){var n=r.mergeWithEntities,o=r.INVENTORY_ACTION_TYPES,s=r.mergeWithDetail;t.replaceReducer((0,v.U)(y(y({},n((0,f.V)([],o),{page:Number(e.offset/e.limit+1||1),perPage:Number(e.limit||20)})),s())))}),[e,t])},D=function(e,t){var r=e.find((function(e){return"updated"===e.key})),o={key:"impacted_date",title:"First Impacted",sortKey:"impacted_date",transforms:[m.WT],props:{width:15},renderFunc:r.renderFunc},s=e.find((function(e){return"system_profile"===e.key}));s.props=y(y({},s.props),{},{isStatic:!0});var i=e.find((function(e){return"groups"===e.key}));return i.props=y(y({},i.props),{},{isStatic:!0}),[].concat((0,n.Z)(e),(0,n.Z)(t?[o]:[]))}}}]);
//# sourceMappingURL=../sourcemaps/RecommendationSystems.fb39397c45c86d855f08fb2b06fb1b3c.js.map