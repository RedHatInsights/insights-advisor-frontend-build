{"version":3,"sources":["webpack://advisor-frontend/./src/PresentationalComponents/Common/Tables.js"],"names":["urlBuilder","filters","selectedTags","workloads","url","URL","window","location","queryString","Object","keys","map","key","Array","isArray","join","params","URLSearchParams","get","SAP","set","length","history","replaceState","origin","pathname","toString","hash","filterFetchBuilder","assign","entries","filterName","filterValue","paramParser","searchParams","search","from","reduce","acc","value","JSON","parse","split","encodeOptionsToURL","options","index","pruneFilters","localFilters","filterCategories","prunedFilters","arr","item","category","chips","selectedCategoryValue","values","find","String","name","text","label","string","title","toUpperCase","substring","urlParam","workloadQueryBuilder","SID","generateFilter","system_profile","isSelected","sap_system","sap_sids","undefined","arrayEnhancer"],"mappings":"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","file":"js/6042.d01e7505a04d23f08372.js","sourcesContent":["import { generateFilter } from '@redhat-cloud-services/frontend-components-utilities/helpers';\n\n// Builds returns url params from table filters, pushes to url if history object is passed\nexport const urlBuilder = (filters = {}, selectedTags = [], workloads = {}) => {\n    const url = new URL(window.location);\n    const queryString = `${Object.keys(filters).map(key => `${key}=${Array.isArray(filters[key]) ? filters[key].join() : filters[key]}`).join('&')}`;\n    const params = new URLSearchParams(queryString);\n\n    //Removes invalid 'undefined' url param value\n    params.get('reports_shown') === 'undefined' && params.delete('reports_shown');\n\n    workloads?.SAP ? params.set('sap_system', true) : params.delete('sap_system');\n    selectedTags?.length ? params.set('tags', selectedTags) : params.delete('tags');\n    window.history.replaceState(null, null, `${url.origin}${url.pathname}?${params.toString()}${window.location.hash}`);\n    return `?${queryString}`;\n};\n\n// transforms array of strings -> comma seperated strings, required by advisor api\nexport const filterFetchBuilder = (filters) => Object.assign({},\n    ...Object.entries(filters).map(([filterName, filterValue]) => Array.isArray(filterValue) ?\n        ((filterValue[0] === 'true') || (filterValue[0] === 'false')) && filterValue.length > 1 ? null\n            : { [filterName]: filterValue.join() }\n        : { [filterName]: filterValue })\n);\n\n// parses url params for use in table/filter chips\nexport const paramParser = () => {\n    const searchParams = new URLSearchParams(window.location.search);\n    return Array.from(searchParams).reduce((acc, [key, value]) => ({\n        ...acc, [key]: (value === 'true' || value === 'false') ? JSON.parse(value) : value.split(',')\n    }), {});\n};\n\n// create url from options\nexport const encodeOptionsToURL = (options) => {\n    return Object.entries(options).reduce((acc, [key, value], index) => {\n        return acc += index === 0 ? `${key}=${value}` : `&${key}=${value}`;\n    }, '');\n};\n\n// capitalizes text string\nexport const capitalize = (string) => string[0].toUpperCase() + string.substring(1);\n\nexport const pruneFilters = (localFilters, filterCategories) => {\n    const prunedFilters = Object.entries(localFilters);\n    return prunedFilters.length > 0 ? prunedFilters.reduce((arr, item) => {\n        if (filterCategories[item[0]]) {\n            const category = filterCategories[item[0]];\n            const chips = Array.isArray(item[1]) ? item[1].map(value => {\n                const selectedCategoryValue = category.values.find(values => values.value === String(value));\n                return selectedCategoryValue ? { name: selectedCategoryValue.text || selectedCategoryValue.label, value } : { name: value, value };\n            })\n                : [{ name: category.values.find(values => values.value === String(item[1])).label, value: item[1] }];\n            return [...arr, { category: capitalize(category.title), chips, urlParam: category.urlParam }];\n        } else if (item[0] === 'text') {\n            return [...arr, { category: 'Name', chips: [{ name: item[1], value: item[1] }], urlParam: item[0] }];\n        } else { return arr; }\n    }, []) : [];\n};\n\n// builds workload query filter\nexport const workloadQueryBuilder = (workloads, SID) => generateFilter({\n    system_profile: {\n        ...workloads?.SAP?.isSelected && { sap_system: true },\n        ...SID?.length > 0 && { sap_sids: SID }\n    }\n}, undefined, { arrayEnhancer: 'contains' });\n"],"sourceRoot":""}