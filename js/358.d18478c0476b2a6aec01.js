"use strict";(self.webpackChunkadvisor_frontend=self.webpackChunkadvisor_frontend||[]).push([[358],{95358:(e,t,a)=>{a.d(t,{Z:()=>T});var n=a(15861),l=a(29439),r=a(87757),s=a.n(r),o=a(93264),c=a.n(o),i=a(27577),u=a(59303),d=a(6202),f=a(62410),m=a(71094),p=a(24561),h=a(78826),b=a(6234),g=a(45697),k=a.n(g),v=a(30893),M=a(71355),Z=a(82041),E=a(77647),_=a(86896),y=function(e){var t=e.handleModalToggle,a=e.isModalOpen,r=e.rule,g=e.afterFn,k=(0,_.Z)(),y=(0,Z.useDispatch)(),T=[k.formatMessage(v.Z.systemName),k.formatMessage(v.Z.justificationNote),k.formatMessage(v.Z.dateDisabled),""],w=(0,o.useState)([]),C=(0,l.Z)(w,2),D=C[0],F=C[1],O=(0,o.useState)(!1),S=(0,l.Z)(O,2),j=S[0],x=S[1],B=(0,E.u7)({rule_id:r.rule_id,limit:r.hosts_acked_count}),N=B.data,H=void 0===N?[]:N,P=B.isFetching,z=B.isLoading,A=B.refetch,I=function(){var e=(0,n.Z)(s().mark((function e(a){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,m.Sp)("".concat(u._n,"/hostack/").concat(a.id,"/"));case 3:A(),x(!0),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),t(!1),n={variant:"danger",dismissable:!0,title:k.formatMessage(v.Z.error),description:"".concat(e.t0)},y((0,M.wN)(n));case 11:case"end":return e.stop()}var n}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){var e=null==H?void 0:H.map((function(e){return{cells:[e.display_name||e.system_uuid,e.justification||k.formatMessage(v.Z.none),{title:c().createElement(f.Z,{date:new Date(e.updated_at),type:"onlyDate"})},{title:c().createElement(d.Button,{key:e.system_uuid,isInline:!0,variant:"link",onClick:function(){return I(e)}},c().createElement(b.ZP,{size:"sm"})," ".concat(k.formatMessage(v.Z.enable)))}]}}));z||0!==H.length||(g(),t(!1)),F(e)}),[H]),c().createElement(h.u_,{width:"75%",title:k.formatMessage(v.Z.hostAckModalTitle),isOpen:a,onClose:function(){j&&g(),t(!1)}},P?c().createElement(i.Table,{"aria-label":"host-ack-table",rows:[{cells:[{props:{colSpan:3},title:c().createElement(p.aV,null)}]}],cells:T},c().createElement(i.TableHeader,null),c().createElement(i.TableBody,null)):c().createElement(i.Table,{"aria-label":"host-ack-table",rows:D,cells:T},c().createElement(i.TableHeader,null),c().createElement(i.TableBody,null)))};y.propTypes={isModalOpen:k().bool,handleModalToggle:k().func,rule:k().object,afterFn:k().func},y.defaultProps={isModalOpen:!1,handleModalToggle:function(){},rule:{},afterFn:function(){}};const T=y}}]);
//# sourceMappingURL=../sourcemaps/358.1be37054aa3a222b4004f650b2509518.js.map