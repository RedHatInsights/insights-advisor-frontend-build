(window.webpackJsonp=window.webpackJsonp||[]).push([[17,3,5,13],{1156:function(e,t,a){"use strict";var r=a(337),n=a(612),o=a(468),i=a(1),l=a.n(i);t.a=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(r.Card,null,l.a.createElement(n.CardBody,null,l.a.createElement(o.List,null))))}},1169:function(e,t,a){(t=a(5)(!1)).push([e.i,"hr{border:0.01rem solid #ccc;margin:var(--pf-global--spacer--md) 0 var(--pf-global--spacer--md) 0}.ins-c-rule-details__split{display:inline-flex;justify-content:space-around}.ins-c-rule-details__split .pf-l-split__item{position:relative}.ins-c-rule-details__stack{width:600px}.ins-c-rule-details__stack .ins-c-rule-details__stackitem{display:flex;justify-content:space-between;width:100%}.ins-c-rule-details__stack .ins-c-rule-details__stackitem .description-stack-override{width:452px}.ins-c-rule-details__stack .ins-c-rule-details__stackitem .description-stack-override .severity-line .ins-l-title{width:150px}.ins-c-rule-details__stack .ins-c-rule-details__stackitem .description-stack-override .severity-line .ins-l-title span{font-size:var(--pf-global-FontSize--md)}.system-reboot-message{display:inline-flex}.system-reboot-message .system-reboot-message__content{position:relative}.system-reboot-message .reboot-required-icon{margin-top:5px;margin-right:var(--pf-global--spacer--sm);color:var(--pf-global--palette--red-100)}.system-reboot-message .no-reboot-required-icon{margin-top:5px;margin-right:var(--pf-global--spacer--sm);color:var(--pf-global--palette--black-400)}.topicsCard{background-color:var(--pf-global--BackgroundColor--150);box-shadow:none;word-break:break-word}.alignCenterOverride{align-items:center;width:100%}.genericOverride p{margin-top:0;margin-bottom:var(--pf-global--spacer--md)}@media only screen and (max-width: 768px){.ins-c-center-text{text-align:left !important}.ins-c-rule-details__split{display:block}.ins-c-rule-details__split .pf-l-split__item{margin:var(--pf-global--spacer--md)}}\n",""]),e.exports=t},1170:function(e,t,a){(t=a(5)(!1)).push([e.i,".like{color:var(--pf-global--success-color--100)}.dislike{color:var(--pf-global--primary-color--100)}.ratingSpanOverride{font-size:var(--pf-global--FontSize--sm) !important}.ratingSpanOverride button{padding:8px}\n",""]),e.exports=t},1171:function(e,t,a){(t=a(5)(!1)).push([e.i,".verticalDivider{color:var(--pf-global--BorderColor--100)}\n",""]),e.exports=t},1172:function(e,t,a){(t=a(5)(!1)).push([e.i,".incidentLabel{background-color:#faeae8 !important}.pf-c-label{margin-right:var(--pf-global--spacer--xs)}\n",""]),e.exports=t},1176:function(e,t,a){"use strict";a.d(t,"e",(function(){return m})),a.d(t,"b",(function(){return d})),a.d(t,"c",(function(){return p})),a.d(t,"a",(function(){return b})),a.d(t,"d",(function(){return E})),a.d(t,"f",(function(){return g}));var r=a(258),n=a.n(r),o=a(335),i=a.n(o),l=a(466),s=a.n(l),c=a(469);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){n()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var m=function(e,t,a){var r=new URL(window.location),n="".concat(Object.keys(e).map((function(t){return"".concat(t,"=").concat(Array.isArray(e[t])?e[t].join():e[t])})).join("&")),o=new URLSearchParams(n);return"undefined"===o.get("reports_shown")&&o.delete("reports_shown"),null!=a&&a.SAP?o.set("sap_system",!0):o.delete("sap_system"),null!=t&&t.length?o.set("tags",t):o.delete("tags"),window.history.replaceState(null,null,"".concat(r.origin).concat(r.pathname,"?").concat(o.toString())),"?".concat(n)},d=function(e){return Object.assign.apply(Object,[{}].concat(s()(Object.entries(e).map((function(e){var t=i()(e,2),a=t[0],r=t[1];return Array.isArray(r)?("true"===r[0]||"false"===r[0])&&r.length>1?null:n()({},a,r.join()):n()({},a,r)})))))},p=function(){var e=new URLSearchParams(window.location.search);return Array.from(e).reduce((function(e,t){var a=i()(t,2),r=a[0],o=a[1];return f(f({},e),{},n()({},r,"true"===o||"false"===o?JSON.parse(o):o.split(",")))}),{})},b=function(e){return Object.entries(e).reduce((function(e,t,a){var r=i()(t,2),n=r[0],o=r[1];return e+(0===a?"".concat(n,"=").concat(o):"&".concat(n,"=").concat(o))}),"")},E=function(e,t){var a=Object.entries(e);return a.length>0?a.reduce((function(e,a){if(t[a[0]]){var r=t[a[0]],n=Array.isArray(a[1])?a[1].map((function(e){var t=r.values.find((function(t){return t.value===String(e)}));return t?{name:t.text||t.label,value:e}:{name:e,value:e}})):[{name:r.values.find((function(e){return e.value===String(a[1])})).label,value:a[1]}];return[].concat(s()(e),[{category:(o=r.title,o[0].toUpperCase()+o.substring(1)),chips:n,urlParam:r.urlParam}])}return"text"===a[0]?[].concat(s()(e),[{category:"Name",chips:[{name:a[1],value:a[1]}],urlParam:a[0]}]):e;var o}),[]):[]},g=function(e,t){var a;return Object(c.generateFilter)({system_profile:f(f({},(null==e||null===(a=e.SAP)||void 0===a?void 0:a.isSelected)&&{sap_system:!0}),(null==t?void 0:t.length)>0&&{sap_sids:t})},void 0,{arrayEnhancer:"contains"})}},1192:function(e,t,a){"use strict";var r=a(337),n=a(612),o=a(626),i=a(1106),l=a.n(i),s=a(1),c=a.n(s),u=a(13),f=a.n(u),m=function(e){var t=e.message;return c.a.createElement(c.a.Fragment,null,c.a.createElement(r.Card,{className:"ins-empty-rule-cards"},c.a.createElement(o.CardHeader,null,c.a.createElement(l.a,{size:"lg"})),c.a.createElement(n.CardBody,null,t)))};t.a=m,m.propTypes={message:f.a.string}},1194:function(e,t,a){(t=a(5)(!1)).push([e.i,".ansibleCheck{color:var(--pf-global--success-color--100)}@media screen and (min-width: 884px){.ins-c-conditional-filter .ins-c-conditional-filter__group .pf-c-dropdown__toggle-text{min-width:150px !important}}.ins-c-center-text{text-align:center}.pf-c-table tr>:last-child{--pf-c-table--cell--PaddingRight: 0px}\n",""]),e.exports=t},1205:function(e,t,a){"use strict";var r=a(138),n=a.n(r),o=a(258),i=a.n(o),l=a(233),s=a.n(l),c=a(335),u=a.n(c),f=a(1),m=a.n(f),d=a(260),p=a(259),b=a(8),E=a(611),g=a(1097),v=a(1095),h=a(1096),O=a(1088),y=a(13),_=a.n(y),k=a(1098),S=a(173),T=a(110),I=a(55),R=a(22);function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var C=function(e){var t=e.handleModalToggle,a=e.intl,r=e.isModalOpen,o=e.host,i=e.hosts,l=e.rule,c=e.afterFn,d=e.setAck,y=e.addNotification,_=e.setSystem,S=e.setRule,T=e.selectedTags,I=Object(f.useState)(""),j=u()(I,2),C=j[0],F=j[1],L=Object(f.useState)(void 0!==o||i.length>0),M=u()(L,2),P=M[0],x=M[1],w=function(){var e=s()(n.a.mark((function e(){var t,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={systems:i,justification:C},e.prev=1,e.next=4,p.a.post("".concat(b.BASE_URL,"/rule/").concat(l.rule_id,"/ack_hosts/"),{},t);case 4:r=e.sent,T.length>0?c&&c():(_({host_ids:r.data.host_ids}),S(A(A({},l),{},{hosts_acked_count:r.data.count+l.hosts_acked_count}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),y({variant:"danger",dismissable:!0,title:a.formatMessage(R.a.error),description:"".concat(e.t0)});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=s()(n.a.mark((function e(){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("enabled"!==l.rule_status||i.length){e.next=15;break}return r=P?{type:"HOST",options:{rule:l.rule_id,system_uuid:o.id,justification:C}}:{type:"RULE",options:A({rule_id:l.rule_id},C&&{justification:C})},e.prev=2,e.next=5,d(r);case 5:y({variant:"success",timeout:!0,dismissable:!0,title:a.formatMessage(R.a.ruleSuccessfullyDisabled)}),F(""),c&&c(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),y({variant:"danger",dismissable:!0,title:a.formatMessage(R.a.error),description:"".concat(e.t0)});case 13:e.next=16;break;case 15:w();case 16:t(!1);case 17:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();return m.a.createElement(O.Modal,{variant:"small",title:a.formatMessage(R.a.disableRule),isOpen:r,onClose:function(){t(!1),F("")},actions:[m.a.createElement(E.Button,{key:"confirm",variant:"primary",onClick:function(){return G()},ouiaId:"confirm"},a.formatMessage(R.a.save)),m.a.createElement(E.Button,{key:"cancel",variant:"link",onClick:function(){t(!1),F("")},ouiaId:"cancel"},a.formatMessage(R.a.cancel))]},a.formatMessage(R.a.disableRuleBody),m.a.createElement(v.Form,null,m.a.createElement(h.FormGroup,{fieldId:"blank-form"}),(void 0!==o||i.length>0)&&m.a.createElement(h.FormGroup,{fieldId:"disable-rule-one-system"},m.a.createElement(g.Checkbox,{isChecked:P,onChange:function(){x(!P)},label:i.length?a.formatMessage(R.a.disableRuleForSystems):a.formatMessage(R.a.disableRuleSingleSystem),id:"disable-rule-one-system",name:"disable-rule-one-system"})),m.a.createElement(h.FormGroup,{label:a.formatMessage(R.a.justificationNote),fieldId:"disable-rule-justification"},m.a.createElement(k.TextInput,{type:"text",id:"disable-rule-justification","aria-describedby":"disable-rule-justification",value:C,onChange:function(e){return F(e)},onKeyDown:function(e){return"Enter"===e.key&&(e.preventDefault(),G())}}))))};C.propTypes={isModalOpen:_.a.bool,host:_.a.object,handleModalToggle:_.a.func,intl:_.a.any,rule:_.a.object,afterFn:_.a.func,setAck:_.a.func,hosts:_.a.array,addNotification:_.a.func,setRule:_.a.func,setSystem:_.a.func,selectedTags:_.a.array},C.defaultProps={isModalOpen:!1,handleModalToggle:function(){},system:void 0,rule:{},afterFn:function(){},host:void 0,hosts:[]};t.a=Object(I.c)(Object(T.connect)((function(e){return{selectedTags:e.AdvisorStore.selectedTags}}),(function(e){return{addNotification:function(t){return e(Object(S.addNotification)(t))},setAck:function(t){return e(Object(d.j)(t))},setRule:function(t){return e(Object(d.m)(t))},setSystem:function(t){return e(Object(d.p)(t))}}}))(C))},1225:function(e,t,a){var r=a(617);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},1226:function(e,t){e.exports=function(e,t,a){for(var r=-1,n=null==e?0:e.length;++r<n;)if(a(t,e[r]))return!0;return!1}},1228:function(e,t,a){"use strict";var r=a(258),n=a.n(r),o=a(335),i=a.n(o),l=a(260),s=a(1),c=a.n(s),u=a(1104),f=a(1105),m=a(234),d=a(13),p=a.n(d),b=a(110),E=a(55),g=a(22),v=a(465),h=a.n(v);function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var y=function(e){var t=e.current,a=e.fetchRule,r=e.match,n=e.ruleFetchStatus,o=e.rule,l=e.intl,d=Object(s.useState)([]),p=i()(d,2),b=p[0],E=p[1],v=Object(s.useState)(!1),h=i()(v,2),O=h[0],y=h[1],_=Object(s.useCallback)((function(){var e=[],t=r.url.split("/");e.push({title:"".concat(l.formatMessage(g.a.insightsHeader)," ").concat(t[1]),navigate:"/".concat(t[1])}),void 0!==r.params.id&&void 0!==r.params.inventoryId&&e.push({title:o.description,navigate:"/".concat(r.url.split("/")[1],"/").concat(r.params.id)}),E(e)}),[l,r.params.id,r.params.inventoryId,r.url,o.description]);return Object(s.useEffect)((function(){var e=r.url.split("/");void 0!==r.params.inventoryId&&"systems"!==e[1]?a({rule_id:r.params.id}):_()}),[_,a,r.params.id,r.params.inventoryId,r.url]),Object(s.useEffect)((function(){"fulfilled"!==n||O||(y(!0),_())}),[_,n,O]),c.a.createElement(c.a.Fragment,null,("fulfilled"===n||b.length>0)&&c.a.createElement(u.Breadcrumb,{ouiaId:"detail"},b.map((function(e,t){return c.a.createElement(f.BreadcrumbItem,{key:t},c.a.createElement(m.Link,{to:e.navigate},e.title))})),c.a.createElement(f.BreadcrumbItem,{isActive:!0},t)),"pending"===n&&l.formatMessage(g.a.loading))};y.propTypes={current:p.a.string,fetchRule:p.a.func,match:p.a.object,rule:p.a.object,ruleFetchStatus:p.a.string,intl:p.a.any};t.a=Object(E.c)(h()(Object(b.connect)((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){n()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({rule:e.AdvisorStore.rule,ruleFetchStatus:e.AdvisorStore.ruleFetchStatus},t)}),(function(e){return{fetchRule:function(t){return e(l.b(t))}}}))(y)))},1229:function(e,t,a){var r=a(1169);"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0},o=a(7)(r,n);r.locals&&(e.exports=r.locals),e.hot.accept(1169,(function(){var t=a(1169);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var a,r=0;for(a in e){if(!t||e[a]!==t[a])return!1;r++}for(a in t)r--;return 0===r}(r.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");o(t)})),e.hot.dispose((function(){o()}))},1232:function(e,t,a){var r=a(1170);"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0},o=a(7)(r,n);r.locals&&(e.exports=r.locals),e.hot.accept(1170,(function(){var t=a(1170);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var a,r=0;for(a in e){if(!t||e[a]!==t[a])return!1;r++}for(a in t)r--;return 0===r}(r.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");o(t)})),e.hot.dispose((function(){o()}))},1233:function(e,t,a){var r=a(1171);"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0},o=a(7)(r,n);r.locals&&(e.exports=r.locals),e.hot.accept(1171,(function(){var t=a(1171);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var a,r=0;for(a in e){if(!t||e[a]!==t[a])return!1;r++}for(a in t)r--;return 0===r}(r.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");o(t)})),e.hot.dispose((function(){o()}))},1234:function(e,t,a){"use strict";a(1235);var r=a(616),n=a(1089),o=a(13),i=a.n(o),l=a(1),s=a.n(l),c=a(55),u=a(22),f=function(e){var t=e.intl,a=e.rule;return s.a.createElement(s.a.Fragment,null,-1!==a.tags.search("incident")&&s.a.createElement(r.Tooltip,{content:t.formatMessage(u.a.incidentTooltip),position:r.TooltipPosition.right},s.a.createElement(n.Label,{color:"red",className:"incidentLabel"},t.formatMessage(u.a.incident))),"disabled"===a.rule_status&&s.a.createElement(r.Tooltip,{content:t.formatMessage(u.a.ruleIsDisabledTooltip),position:r.TooltipPosition.right},s.a.createElement(n.Label,{color:"gray"},t.formatMessage(u.a.disabled))),"rhdisabled"===a.rule_status&&s.a.createElement(r.Tooltip,{content:t.formatMessage(u.a.ruleIsDisabledTooltip),position:r.TooltipPosition.right},s.a.createElement(n.Label,{color:"gray"},t.formatMessage(u.a.redhatDisabled))))};f.propTypes={intl:i.a.any,rule:i.a.object},t.a=Object(c.c)(f)},1235:function(e,t,a){var r=a(1172);"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0},o=a(7)(r,n);r.locals&&(e.exports=r.locals),e.hot.accept(1172,(function(){var t=a(1172);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var a,r=0;for(a in e){if(!t||e[a]!==t[a])return!1;r++}for(a in t)r--;return 0===r}(r.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");o(t)})),e.hot.dispose((function(){o()}))},1236:function(e,t,a){"use strict";var r=a(258),n=a.n(r),o=a(138),i=a.n(o),l=a(233),s=a.n(l),c=a(335),u=a.n(c),f=a(1),m=a.n(f),d=a(511),p=a(559),b=a(557),E=a(260),g=a(259),v=a(8),h=a(611),O=a(1090),y=a(468),_=a(1088),k=a(1115),S=a.n(k),T=a(13),I=a.n(T),R=a(173),j=a(110),A=a(55),C=a(22);function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var L=function(e){var t=e.fetchHostAcks,a=e.hostAcksFetchStatus,r=e.handleModalToggle,n=e.intl,o=e.isModalOpen,l=e.hostAcks,c=e.rule,E=e.afterFn,k=[n.formatMessage(C.a.systemName),n.formatMessage(C.a.justificationNote),n.formatMessage(C.a.dateDisabled),""],T=Object(f.useState)([]),I=u()(T,2),j=I[0],A=I[1],F=Object(f.useState)(!1),L=u()(F,2),M=L[0],P=L[1],x=function(){var e=s()(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.delete("".concat(v.BASE_URL,"/hostack/").concat(a.id,"/"));case 3:t({rule_id:c.rule_id,limit:c.hosts_acked_count}),P(!0),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),r(!1),Object(R.addNotification)({variant:"danger",dismissable:!0,title:n.formatMessage(C.a.error),description:"".concat(e.t0)});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.useEffect)((function(){if(l.data){var e=l.data.map((function(e){return{cells:[e.display_name||e.system_uuid,e.justification||n.formatMessage(C.a.none),{title:m.a.createElement(O.DateFormat,{date:new Date(e.updated_at),type:"onlyDate"})},{title:m.a.createElement(h.Button,{key:e.system_uuid,isInline:!0,variant:"link",onClick:function(){return x(e)}},m.a.createElement(S.a,{size:"sm"}),"   ",n.formatMessage(C.a.enable))}]}})).asMutable();e.length||(E(),r(!1)),A(e)}}),[l]),Object(f.useEffect)((function(){t({rule_id:c.rule_id,limit:c.hosts_acked_count})}),[t,c.hosts_acked_count,c.rule_id]),m.a.createElement(_.Modal,{width:"50%",title:n.formatMessage(C.a.hostAckModalTitle),isOpen:o,onClose:function(){M&&E(),r(!1)}},"fulfilled"===a&&m.a.createElement(d.a,{"aria-label":"host-ack-table",rows:j,cells:k},m.a.createElement(p.a,null),m.a.createElement(b.a,null)),"fulfilled"!==a&&m.a.createElement(d.a,{"aria-label":"host-ack-table",rows:[{cells:[{props:{colSpan:3},title:m.a.createElement(y.List,null)}]}],cells:k},m.a.createElement(p.a,null),m.a.createElement(b.a,null)))};L.propTypes={isModalOpen:I.a.bool,handleModalToggle:I.a.func,intl:I.a.any,rule:I.a.object,fetchHostAcks:I.a.func,hostAcks:I.a.object,hostAcksFetchStatus:I.a.string,addNotification:I.a.func,afterFn:I.a.func},L.defaultProps={isModalOpen:!1,handleModalToggle:function(){},rule:{},afterFn:function(){}};t.a=Object(A.c)(Object(j.connect)((function(e){var t=e.AdvisorStore,a=e.ownProps;return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(Object(a),!0).forEach((function(t){n()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({hostAcks:t.hostAcks,hostAcksFetchStatus:t.hostAcksFetchStatus},a)}),(function(e){return{setAck:function(t){return e(Object(E.j)(t))},fetchHostAcks:function(t){return e(Object(E.a)(t))},addNotification:function(t){return e(Object(R.addNotification)(t))}}}))(L))},1237:function(e,t,a){"use strict";var r=a(335),n=a.n(r),o=a(1);t.a=function(e,t){var a=Object(o.useState)(e),r=n()(a,2),i=r[0],l=r[1];return Object(o.useEffect)((function(){var a=setTimeout((function(){l(e)}),t);return function(){clearTimeout(a)}}),[t,e]),i}},1238:function(e,t,a){"use strict";var r=a(138),n=a.n(r),o=a(233),i=a.n(o),l=a(259),s=a(8),c=a(469),u=function(e){var t={date:(new Date).toISOString().replace(/[T:]/g,"-").split(".")[0]+"-utc"};return"Insights-Advisor_".concat(e,"--").concat(t.date)},f=function(){var e=i()(n.a.mark((function e(t,a,r){var o,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("".concat(s.BASE_URL,"/export/").concat(t,".").concat("json"===a?"json":"csv").concat(r));case 3:o=e.sent,i="json"===a?JSON.stringify(o.data):o.data,Object(c.downloadFile)(i,u(t),a),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),"".concat(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,r){return e.apply(this,arguments)}}();t.a=f},1240:function(e,t,a){"use strict";var r=a(1352),n=a.n(r),o=a(1353),i=a.n(o),l=(a(1229),a(8)),s=a(1099),c=a(1092),u=a(1101),f=a(337),m=a(612),d=a(1113),p=a.n(d),b=a(1093),E=a(234),g=a(1114),v=a.n(g),h=a(13),O=a.n(h),y=a(1),_=a.n(y),k=a(1354),S=a.n(k),T=a(138),I=a.n(T),R=a(233),j=a.n(R),A=a(335),C=a.n(A),F=(a(1232),a(259)),L=a(611),M=a(1112),P=a.n(M),x=a(1110),w=a.n(x),G=a(1111),N=a.n(G),D=a(1109),B=a.n(D),H=a(55),z=a(22),V=function(e){var t=e.intl,a=e.rule,r=Object(y.useState)(a.rating),n=C()(r,2),o=n[0],i=n[1],s=Object(y.useState)(!1),c=C()(s,2),u=c[0],f=c[1],m=Object(y.useState)(t.formatMessage(z.a.feedbackThankyou)),d=C()(m,2),p=d[0],b=d[1],E=function(){var e=j()(I.a.mark((function e(t){var r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o===t?0:t,e.prev=1,e.next=4,F.a.post("".concat(l.BASE_URL,"/rating/"),{},{rule:a.rule_id,rating:r});case 4:i(r),f(!0),setTimeout((function(){return b("")}),3e3),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return _.a.createElement("span",{className:"ratingSpanOverride"},t.formatMessage(z.a.ruleHelpful),_.a.createElement(L.Button,{variant:"plain","aria-label":"thumbs-up",onClick:function(){return E(1)},ouiaId:"thumbsUp"},1===o?_.a.createElement(B.a,{className:"like",size:"sm"}):_.a.createElement(w.a,{size:"sm"})),_.a.createElement(L.Button,{variant:"plain","aria-label":"thumbs-down",onClick:function(){return E(-1)},ouiaId:"thumbsDown"},-1===o?_.a.createElement(N.a,{className:"dislike",size:"sm"}):_.a.createElement(P.a,{size:"sm"})),u&&p)};V.propTypes={intl:O.a.any,rule:O.a.object};var U=Object(H.c)(V),K=a(1119),q=a(1100),J=(a(1233),function(e){return e.map((function(t,a){return _.a.createElement(_.a.Fragment,{key:a},t,a+1!==e.length&&_.a.createElement("strong",{className:"verticalDivider"}," | "))}))}),W=a(235),Y=function(e){var t=e.children,a=e.rule,r=e.resolutionRisk,o=e.intl,d=e.topics,g=e.header,h=e.isDetailsPage,O=function(){return d&&i()(d.map((function(e){return n()(e.tag.split(" "),a.tags.split(" ")).length&&_.a.createElement(_.a.Fragment,{key:e.slug},_.a.createElement(E.Link,{to:"/topics/".concat(e.slug)},"".concat(e.name)))})))},y=function(e,t){return"string"==typeof e&&Boolean(e)&&_.a.createElement("span",{className:t&&"genericOverride"},_.a.createElement(S.a,{source:e,escapeHtml:!1}))};return _.a.createElement(s.Split,{className:"ins-c-rule-details__split",hasGutter:!0},_.a.createElement(s.SplitItem,null,_.a.createElement(c.Stack,{hasGutter:!0},g&&_.a.createElement(c.StackItem,null,g),_.a.createElement(c.StackItem,null,h?y(a.generic,!0):y(a.summary)),a.node_id&&_.a.createElement(c.StackItem,null,_.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://access.redhat.com/node/".concat(a.node_id)},o.formatMessage(z.a.knowledgebaseArticle)," ",_.a.createElement(p.a,{size:"sm"}))),d&&a.tags&&O().length>0&&_.a.createElement(c.StackItem,null,_.a.createElement(f.Card,{className:"topicsCard",isCompact:!0},_.a.createElement(m.CardBody,null,_.a.createElement("strong",null,o.formatMessage(z.a.topicRelatedToRule)),_.a.createElement("br",null),J(O())))),h&&_.a.createElement(U,{rule:a}),!h&&a.impacted_systems_count>0&&_.a.createElement(c.StackItem,null,_.a.createElement(E.Link,{key:"".concat(a.rule_id,"-link"),to:"/recommendations/".concat(a.rule_id)},o.formatMessage(z.a.viewAffectedSystems,{systems:a.impacted_systems_count}))))),_.a.createElement(s.SplitItem,null,_.a.createElement(c.Stack,{gutter:"sm"},t&&_.a.createElement(c.StackItem,null,t),_.a.createElement(c.StackItem,null,_.a.createElement(c.Stack,{className:"ins-c-rule-details__stack"},_.a.createElement(c.StackItem,null,_.a.createElement("strong",null,o.formatMessage(z.a.totalRisk))),_.a.createElement(c.StackItem,{className:"pf-u-display-inline-flex alignCenterOverride pf-u-pb-sm pf-u-pt-sm"},_.a.createElement("span",{className:"ins-c-rule-details__stackitem"},_.a.createElement("span",null,_.a.createElement(b.a,{value:a.total_risk})),_.a.createElement(c.Stack,{hasGutter:!0,className:"description-stack-override"},_.a.createElement(c.StackItem,null,_.a.createElement(q.TextContent,null,_.a.createElement(u.Text,{component:u.TextVariants.p},o.formatMessage(z.a.rulesDetailsTotalriskBody,{risk:l.TOTAL_RISK_LABEL_LOWER[a.total_risk]||o.formatMessage(z.a.undefined),strong:function(e){return Object(W.a)(e)}})))),_.a.createElement(c.Stack,null,_.a.createElement(c.StackItem,null,_.a.createElement(K.a,{className:"severity-line",title:o.formatMessage(z.a.likelihoodLevel,{level:l.LIKELIHOOD_LABEL[a.likelihood]}),value:a.likelihood,tooltipMessage:o.formatMessage(z.a.likelihoodDescription,{level:l.LIKELIHOOD_LABEL_LOWER[a.likelihood]})})),_.a.createElement(c.StackItem,null,_.a.createElement(K.a,{className:"severity-line",title:o.formatMessage(z.a.impactLevel,{level:l.IMPACT_LABEL[a.impact.impact]}),value:a.impact.impact,tooltipMessage:o.formatMessage(z.a.impactDescription,{level:l.IMPACT_LABEL_LOWER[a.impact.impact]})})))))),_.a.createElement("hr",null),_.a.createElement(c.StackItem,null,_.a.createElement("strong",null,o.formatMessage(z.a.riskofchange))),_.a.createElement(c.StackItem,{className:"pf-u-display-inline-flex alignCenterOverride pf-u-pb-sm pf-u-pt-sm"},_.a.createElement("span",{className:"ins-c-rule-details__stackitem"},_.a.createElement("span",null,_.a.createElement(b.a,{text:l.RISK_OF_CHANGE_LABEL[r],value:r,hideIcon:!0})),_.a.createElement(c.Stack,{hasGutter:!0,className:"description-stack-override"},_.a.createElement(c.StackItem,null,_.a.createElement(q.TextContent,null,_.a.createElement(u.Text,{component:u.TextVariants.p},r?l.RISK_OF_CHANGE_DESC[r]:o.formatMessage(z.a.undefined)))),_.a.createElement(c.StackItem,null,_.a.createElement("span",{className:"system-reboot-message"},_.a.createElement(v.a,{className:a.reboot_required?"reboot-required-icon":"no-reboot-required-icon"}),_.a.createElement(q.TextContent,{className:"system-reboot-message__content"},_.a.createElement(u.Text,{component:u.TextVariants.p},o.formatMessage(z.a.systemReboot,{strong:function(e){return Object(W.a)(e)},status:a.reboot_required?o.formatMessage(z.a.is):o.formatMessage(z.a.isNot)})))))))))))))};Y.propTypes={children:O.a.any,rule:O.a.object,resolutionRisk:O.a.number,intl:O.a.any,topics:O.a.array,header:O.a.any,isDetailsPage:O.a.bool};t.a=Object(H.c)(Y)},1370:function(e,t,a){(t=a(5)(!1)).push([e.i,":root{--ins-color--orange: #ec7a08}.pf-c-label.labelOverride{vertical-align:middle;margin-left:20px}.textOverride{margin-top:var(--pf-global--spacer--md)}.titleOverride{margin-bottom:var(--pf-global--spacer--lg)}\n",""]),e.exports=t},1371:function(e,t,a){var r=a(1194);"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0},o=a(7)(r,n);r.locals&&(e.exports=r.locals),e.hot.accept(1194,(function(){var t=a(1194);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var a,r=0;for(a in e){if(!t||e[a]!==t[a])return!1;r++}for(a in t)r--;return 0===r}(r.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");o(t)})),e.hot.dispose((function(){o()}))},1506:function(e,t,a){"use strict";a.r(t);var r=a(138),n=a.n(r),o=a(233),i=a.n(o),l=a(466),s=a.n(l),c=a(258),u=a.n(c),f=a(335),m=a.n(f),d=(a(1371),a(260)),p=a(8),b=a(1120),E=a(1),g=a.n(E),v=a(1092),h=a(165),O=a(212),y=a(176),_=a(511),k=a(559),S=a(557),T=a(616),I=a(1176),R=a(259),j=a(1108),A=a.n(j),C=a(1116),F=a.n(C),L=a(611),M=a(625),P=a.n(M),x=a(1090),w=a(1205),G=a(1192),N=a(1093),D=a(234),B=a(1156),H=a(1086),z=a(470),V=a(1102),U=a(13),K=a.n(U),q=a(1240),J=a(1234),W=a(1236),Y=a(173),Q=a(110),X=a(1237),Z=a(1238),$=a(22),ee=a(465),te=a.n(ee),ae=a(235),re=a(492),ne=a(471);function oe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ie(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(a),!0).forEach((function(t){u()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var le=function(e){var t,a=e.rules,r=e.filters,o=e.rulesFetchStatus,l=e.setFilters,c=e.fetchRules,f=e.addNotification,d=e.selectedTags,j=e.workloads,C=e.SID,M=Object(re.a)(),U=Object(ne.usePermissions)("advisor",p.PERMS.export).hasAccess,K=Object(ne.usePermissions)("advisor",p.PERMS.disableRec).hasAccess,Y=Object(E.useState)([{title:M.formatMessage($.a.name),transforms:[h.a,Object(O.a)(45)]},{title:M.formatMessage($.a.added),transforms:[h.a,Object(O.a)(15)]},{title:M.formatMessage($.a.totalRisk),transforms:[h.a,Object(O.a)(15)]},{title:M.formatMessage($.a.riskofchange),transforms:[h.a,Object(O.a)(15)]},{title:M.formatMessage($.a.systems),transforms:[h.a,Object(O.a)(15)]},{title:g.a.createElement(g.a.Fragment,null,g.a.createElement(A.a,{size:"md"})," ",M.formatMessage($.a.ansible)),transforms:[h.a,Object(O.a)(15),y.b],dataLabel:M.formatMessage($.a.ansible)}]),Q=m()(Y,1)[0],ee=Object(E.useState)([]),te=m()(ee,2),oe=te[0],le=te[1],se=Object(E.useState)({}),ce=m()(se,2),ue=ce[0],fe=ce[1],me=Object(E.useState)(!0),de=m()(me,2),pe=de[0],be=de[1],Ee=Object(E.useState)(r.text||""),ge=m()(Ee,2),ve=ge[0],he=ge[1],Oe=Object(E.useState)(!1),ye=m()(Oe,2),_e=ye[0],ke=ye[1],Se=Object(E.useState)({}),Te=m()(Se,2),Ie=Te[0],Re=Te[1],je=Object(E.useState)(!1),Ae=m()(je,2),Ce=Ae[0],Fe=Ae[1],Le=Object(E.useState)({}),Me=m()(Le,2),Pe=Me[0],xe=Me[1],we=Object(X.a)(ve,p.DEBOUNCE_DELAY),Ge=a.meta?a.meta.count:0,Ne={1:"description",2:"publish_date",3:"total_risk",4:"resolution_risk",5:"impacted_count",6:"playbook_count"},De=function(e){var t=e.resolution_set.find((function(e){return e.system_type===p.SYSTEM_TYPES.rhel||p.SYSTEM_TYPES.ocp}));return t?t.resolution_risk.risk:void 0},Be=Object(E.useCallback)((function(){Object(I.e)(r,d,j);var e=(null==d?void 0:d.length)&&{tags:d.map((function(e){return encodeURIComponent(e)}))};j&&(e=ie(ie({},e),Object(I.f)(j,C))),c(e.tags?{}:ie(ie({},Object(I.b)(r)),e),e.tags&&Object(I.a)(ie(ie({},Object(I.b)(r)),e)))}),[r,d,j,C,c]),He=function(e){var t=e*r.limit-r.limit;l(ie(ie({},r),{},{offset:t}))},ze=function(e){l(ie(ie({},r),{},{rule_status:e,offset:0},"enabled"!==e&&{impacting:!1}))},Ve=function(){var e=i()(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=oe[t].rule,e.prev=1,"enabled"!==a.rule_status){e.next=7;break}Re(a),ke(!0),e.next=17;break;case 7:return e.prev=7,e.next=10,R.a.delete("".concat(p.BASE_URL,"/ack/").concat(a.rule_id,"/"));case 10:f({variant:"success",timeout:!0,dismissable:!0,title:M.formatMessage($.a.ruleSuccessfullyEnabled)}),Be(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),f({variant:"danger",dismissable:!0,title:M.formatMessage($.a.error),description:"".concat(e.t0)});case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(1),f({variant:"danger",dismissable:!0,title:"enabled"===a.rule_status?M.formatMessage($.a.rulesTableHideReportsErrorDisabled):M.formatMessage($.a.rulesTableHideReportsErrorEnabled),description:"".concat(e.t1)});case 22:case"end":return e.stop()}}),e,null,[[1,19],[7,14]])})));return function(t){return e.apply(this,arguments)}}(),Ue=function(e){switch(e){case"enabled":return $.a.rulesTableNoRuleHitsEnabledRulesBody;case"disabled":return $.a.rulesTableNoRuleHitsDisabledRulesBody;case"rhdisabled":return $.a.rulesTableNoRuleHitsRedHatDisabledRulesBody;default:return $.a.rulesTableNoRuleHitsAnyRulesBody}};Object(E.useEffect)((function(){!pe&&null!==d&&Be()}),[Be,pe,r,d]),Object(E.useEffect)((function(){if(window.location.search&&pe){var e=Object(I.c)();delete e.tags,delete e.sap_system,void 0===e.text?he(""):he(e.text),e.sort=void 0===e.sort?"-total_risk":e.sort[0],void 0!==e.has_playbook&&!Array.isArray(e.has_playbook)&&(e.has_playbook=["".concat(e.has_playbook)]),void 0!==e.incident&&!Array.isArray(e.incident)&&(e.incident=["".concat(e.incident)]),void 0===e.offset?e.offset=0:e.offset=Number(e.offset[0]),void 0===e.limit?e.limit=10:e.limit=Number(e.limit[0]),void 0!==e.reboot&&!Array.isArray(e.reboot)&&(e.reboot=["".concat(e.reboot)]),l(ie(ie({},r),e))}be(!1)}),[]),Object(E.useEffect)((function(){if(void 0!==r.sort){var e=Number(Object.entries(Ne).find((function(e){return e[1]===r.sort||"-".concat(e[1])===r.sort}))[0]),t="-"===r.sort[0]?"desc":"asc";fe({index:e,direction:t})}}),[r.sort]),Object(E.useEffect)((function(){if(a.data)if(0===a.data.length)le([{cells:[{title:g.a.createElement(z.a,{icon:P.a,iconClass:"ansibleCheck",title:M.formatMessage($.a.rulesTableNoRuleHitsTitle),text:M.formatMessage(Ue(r.rule_status))},"enabled"===r.rule_status&&g.a.createElement(L.Button,{variant:"link",style:{paddingTop:24},onClick:function(){return ze("all")}},M.formatMessage($.a.rulesTableNoRuleHitsAddDisabledButton))),props:{colSpan:6}}]}]);else{var e=a.data.flatMap((function(e,t){return[{isOpen:!1,rule:e,cells:[{title:g.a.createElement("span",{key:t},g.a.createElement(J.a,{rule:e}),g.a.createElement(D.Link,{key:t,to:"/recommendations/".concat(e.rule_id)}," ",e.description," "))},{title:g.a.createElement(x.DateFormat,{key:t,date:e.publish_date,variant:"relative"})},{title:g.a.createElement("div",{key:t},g.a.createElement(T.Tooltip,{key:t,position:T.TooltipPosition.bottom,content:M.formatMessage($.a.rulesDetailsTotalriskBody,{risk:p.TOTAL_RISK_LABEL_LOWER[e.total_risk]||M.formatMessage($.a.undefined),strong:function(e){return Object(ae.a)(e)}})},g.a.createElement(N.a,{value:e.total_risk})))},{title:g.a.createElement("div",{key:t},g.a.createElement(N.a,{text:p.RISK_OF_CHANGE_LABEL[De(e)],value:De(e),hideIcon:!0}),g.a.createElement("div",null))},{title:g.a.createElement("div",{key:t},"".concat(e.impacted_systems_count.toLocaleString()))},{title:g.a.createElement("div",{className:"ins-c-center-text ",key:t},e.playbook_count?g.a.createElement(P.a,{className:"ansibleCheck"}):M.formatMessage($.a.no))}]},{parent:2*t,fullWidth:!0,cells:[{title:g.a.createElement(H.Main,{className:"pf-m-light"},g.a.createElement(v.Stack,{hasGutter:!0},e.hosts_acked_count?g.a.createElement(v.StackItem,null,g.a.createElement(F.a,{size:"sm"})," ",e.hosts_acked_count&&!e.impacted_systems_count?M.formatMessage($.a.ruleIsDisabledForAllSystems):M.formatMessage($.a.ruleIsDisabledForSystemsBody,{systems:e.hosts_acked_count}),"  ",g.a.createElement(L.Button,{isInline:!0,variant:"link",ouiaId:"viewSystem",onClick:function(){xe(e),Fe(!0)}},M.formatMessage($.a.viewSystems))):g.a.createElement(g.a.Fragment,null),g.a.createElement(q.a,{rule:e,resolutionRisk:De(e)})))}]}]}));le(e.asMutable())}}),[a]),Object(E.useEffect)((function(){if(!pe&&"pending"!==o){var e=ie({},r),t=ve.length?{text:ve}:{};delete e.text,l(ie(ie(ie({},e),t),{},{offset:0}))}}),[we]);var Ke,qe=function(e){var t=ie(ie({},r),{},{offset:0});"text"===e&&he(""),delete t[e],l(t)},Je=function(e,t){t.length>0?l(ie(ie({},r),{},{offset:0},u()({},e,t))):qe(e)},We=["",{label:M.formatMessage(r.impacting?$.a.rulesTableActionShow:$.a.rulesTableActionHide),onClick:function(){return e=!r.impacting,void l(ie(ie({},r),{},{impacting:e,offset:0}));var e}}],Ye=[{label:M.formatMessage($.a.name).toLowerCase(),filterValues:{key:"text-filter",onChange:function(e,t){return he(t)},value:ve,placeholder:M.formatMessage($.a.search)}},{label:p.FILTER_CATEGORIES.total_risk.title,type:p.FILTER_CATEGORIES.total_risk.type,id:p.FILTER_CATEGORIES.total_risk.urlParam,value:"checkbox-".concat(p.FILTER_CATEGORIES.total_risk.urlParam),filterValues:{key:"".concat(p.FILTER_CATEGORIES.total_risk.urlParam,"-filter"),onChange:function(e,t){return Je(p.FILTER_CATEGORIES.total_risk.urlParam,t)},value:r.total_risk,items:p.FILTER_CATEGORIES.total_risk.values}},{label:p.FILTER_CATEGORIES.res_risk.title,type:p.FILTER_CATEGORIES.res_risk.type,id:p.FILTER_CATEGORIES.res_risk.urlParam,value:"checkbox-".concat(p.FILTER_CATEGORIES.res_risk.urlParam),filterValues:{key:"".concat(p.FILTER_CATEGORIES.res_risk.urlParam,"-filter"),onChange:function(e,t){return Je(p.FILTER_CATEGORIES.res_risk.urlParam,t)},value:r.res_risk,items:p.FILTER_CATEGORIES.res_risk.values}},{label:p.FILTER_CATEGORIES.impact.title,type:p.FILTER_CATEGORIES.impact.type,id:p.FILTER_CATEGORIES.impact.urlParam,value:"checkbox-".concat(p.FILTER_CATEGORIES.impact.urlParam),filterValues:{key:"".concat(p.FILTER_CATEGORIES.impact.urlParam,"-filter"),onChange:function(e,t){return Je(p.FILTER_CATEGORIES.impact.urlParam,t)},value:r.impact,items:p.FILTER_CATEGORIES.impact.values}},{label:p.FILTER_CATEGORIES.likelihood.title,type:p.FILTER_CATEGORIES.likelihood.type,id:p.FILTER_CATEGORIES.likelihood.urlParam,value:"checkbox-".concat(p.FILTER_CATEGORIES.likelihood.urlParam),filterValues:{key:"".concat(p.FILTER_CATEGORIES.likelihood.urlParam,"-filter"),onChange:function(e,t){return Je(p.FILTER_CATEGORIES.likelihood.urlParam,t)},value:r.likelihood,items:p.FILTER_CATEGORIES.likelihood.values}},{label:p.FILTER_CATEGORIES.category.title,type:p.FILTER_CATEGORIES.category.type,id:p.FILTER_CATEGORIES.category.urlParam,value:"checkbox-".concat(p.FILTER_CATEGORIES.category.urlParam),filterValues:{key:"".concat(p.FILTER_CATEGORIES.category.urlParam,"-filter"),onChange:function(e,t){return Je(p.FILTER_CATEGORIES.category.urlParam,t)},value:r.category,items:p.FILTER_CATEGORIES.category.values}},{label:p.FILTER_CATEGORIES.incident.title,type:p.FILTER_CATEGORIES.incident.type,id:p.FILTER_CATEGORIES.incident.urlParam,value:"checkbox-".concat(p.FILTER_CATEGORIES.incident.urlParam),filterValues:{key:"".concat(p.FILTER_CATEGORIES.incident.urlParam,"-filter"),onChange:function(e,t){return Je(p.FILTER_CATEGORIES.incident.urlParam,t)},value:r.incident,items:p.FILTER_CATEGORIES.incident.values}},{label:p.FILTER_CATEGORIES.has_playbook.title,type:p.FILTER_CATEGORIES.has_playbook.type,id:p.FILTER_CATEGORIES.has_playbook.urlParam,value:"checkbox-".concat(p.FILTER_CATEGORIES.has_playbook.urlParam),filterValues:{key:"".concat(p.FILTER_CATEGORIES.has_playbook.urlParam,"-filter"),onChange:function(e,t){return Je(p.FILTER_CATEGORIES.has_playbook.urlParam,t)},value:r.has_playbook,items:p.FILTER_CATEGORIES.has_playbook.values}},{label:p.FILTER_CATEGORIES.reboot.title,type:p.FILTER_CATEGORIES.reboot.type,id:p.FILTER_CATEGORIES.reboot.urlParam,value:"checkbox-".concat(p.FILTER_CATEGORIES.reboot.urlParam),filterValues:{key:"".concat(p.FILTER_CATEGORIES.reboot.urlParam,"-filter"),onChange:function(e,t){return Je(p.FILTER_CATEGORIES.reboot.urlParam,t)},value:r.reboot,items:p.FILTER_CATEGORIES.reboot.values}},{label:p.FILTER_CATEGORIES.rule_status.title,type:p.FILTER_CATEGORIES.rule_status.type,id:p.FILTER_CATEGORIES.rule_status.urlParam,value:"radio-".concat(p.FILTER_CATEGORIES.rule_status.urlParam),filterValues:{key:"".concat(p.FILTER_CATEGORIES.rule_status.urlParam,"-filter"),onChange:function(e,t){return ze(t)},value:"".concat(r.rule_status),items:p.FILTER_CATEGORIES.rule_status.values}}],Qe={filters:(Ke=ie({},r),delete Ke.impacting,delete Ke.topic,delete Ke.sort,delete Ke.offset,delete Ke.limit,Object(I.d)(Ke,p.FILTER_CATEGORIES)),onDelete:function(e,t,a){a?(he(""),l(ie(ie({},r.topic&&{topic:r.topic}),{},{impacting:!0,rule_status:"enabled",limit:r.limit,offset:r.offset}))):t.map((function(e){var t=u()({},e.urlParam,Array.isArray(r[e.urlParam])?r[e.urlParam].filter((function(t){return String(t)!==String(e.chips[0].value)})):"");t[e.urlParam].length>0?l(ie(ie({},r),t)):qe(e.urlParam)}))}};return g.a.createElement(g.a.Fragment,null,Ce&&g.a.createElement(W.a,{handleModalToggle:function(e){return Fe(e)},isModalOpen:Ce,afterFn:function(){Be()},rule:Pe}),_e&&g.a.createElement(w.a,{handleModalToggle:ke,isModalOpen:_e,rule:Ie,afterFn:Be}),g.a.createElement(V.PrimaryToolbar,{pagination:{itemCount:Ge,page:r.offset/r.limit+1,perPage:Number(r.limit),onSetPage:function(e,t){He(t)},onPerPageSelect:function(e,t){l(ie(ie({},r),{},{limit:t,offset:0}))},isCompact:!0},exportConfig:(t={label:M.formatMessage($.a.exportCsv)},u()(t,"label",M.formatMessage($.a.exportJson)),u()(t,"onSelect",(function(e,t){return Object(Z.a)("hits",t,Object(I.e)(r,d))})),u()(t,"isDisabled",!U||!r.impacting),u()(t,"tooltipText",U?M.formatMessage($.a.exportData):M.formatMessage($.a.permsAction)),t),actionsConfig:{actions:We},filterConfig:{items:Ye},activeFiltersConfig:Qe}),"fulfilled"===o&&g.a.createElement(_.a,{"aria-label":"rule-table",actionResolver:function(e,t){var a=t.rowIndex,r=oe[a].rule?oe[a].rule:null;return a%2==0&&r?r&&"enabled"===r.rule_status?[{title:M.formatMessage($.a.disableRule),onClick:function(e,t){return Ve(t)}}]:[{title:M.formatMessage($.a.enableRule),onClick:function(e,t){return Ve(t)}}]:null},onCollapse:function(e,t,a){var r=s()(oe);r[t]=ie(ie({},r[t]),{},{isOpen:a}),le(r)},sortBy:ue,onSort:function(e,t,a){var n="".concat("asc"===a?"":"-").concat(Ne[t]);fe({index:t,direction:a}),l(ie(ie({},r),{},{sort:n,offset:0}))},cells:Q,rows:oe,areActionsDisabled:function(){return!K}},g.a.createElement(k.a,null),g.a.createElement(S.a,null)),"pending"===o&&g.a.createElement(B.a,null),"failed"===o&&g.a.createElement(G.a,{message:M.formatMessage($.a.rulesTableFetchRulesError)}),g.a.createElement(b.Pagination,{ouiaId:"page",itemCount:Ge,page:r.offset/r.limit+1,perPage:Number(r.limit),onSetPage:function(e,t){He(t)},onPerPageSelect:function(e,t){l(ie(ie({},r),{},{limit:t,offset:0}))},widgetId:"pagination-options-menu-bottom",variant:b.PaginationVariant.bottom}))};le.propTypes={fetchRules:K.a.func,rulesFetchStatus:K.a.string,rules:K.a.object,filters:K.a.object,addNotification:K.a.func,setFilters:K.a.func,selectedTags:K.a.array,workloads:K.a.object,SID:K.a.Object};t.default=te()(Object(Q.connect)((function(e){var t=e.AdvisorStore,a=e.ownProps;return ie({rules:t.rules,rulesFetchStatus:t.rulesFetchStatus,filters:t.filters,selectedTags:t.selectedTags,workloads:t.workloads,SID:t.SID},a)}),(function(e){return{fetchRules:function(t,a){return e(d.d(t,a))},addNotification:function(t){return e(Object(Y.addNotification)(t))},setFilters:function(t){return e(d.k(t))}}}))(le))},1928:function(e,t,a){"use strict";a.r(t);a(1929);var r=a(260),n=a(1),o=a.n(n),i=a(1101),l=a(1228),s=a(1089),c=a(1156),u=a(1086),f=a(470),m=a(1087),d=a(13),p=a.n(d),b=a(1506),E=a(1118),g=a.n(E),v=a(1100),h=a(1117),O=a.n(h),y=a(475),_=a(1130),k=a(110),S=a(55),T=a(22),I=a(465),R=a.n(I),j=function(e){var t=e.match,a=e.fetchTopic,r=e.setFilters,d=e.topic,p=e.topicFetchStatus,E=e.intl,h=e.filters;return Object(n.useEffect)((function(){void 0===h.topic&&r({impacting:!0,rule_status:"enabled",topic:t.params.id,sort:"-total_risk",limit:10,offset:0})})),Object(n.useEffect)((function(){return a({topic_id:t.params.id}),function(){r({impacting:!0,rule_status:"enabled",sort:"-total_risk",limit:10,offset:0})}}),[a,t.params.id,r]),Object(n.useEffect)((function(){if(d&&d.name){var e="".concat(d.name," - ").concat(T.a.topics.defaultMessage);document.title=E.formatMessage(T.a.documentTitle,{subnav:e})}}),[d]),o.a.createElement(o.a.Fragment,null,o.a.createElement(m.PageHeader,null,o.a.createElement(l.a,{current:d.name,match:t,ouiaId:"details"}),"fulfilled"===p&&o.a.createElement(o.a.Fragment,null,o.a.createElement(y.Title,{headingLevel:"h3",size:"2xl",className:"titleOverride"},d.name,d.featured&&o.a.createElement(s.Label,{color:"blue",className:"labelOverride",icon:o.a.createElement(g.a,null)},E.formatMessage(T.a.featured))),o.a.createElement(v.TextContent,{className:"textOverride"},o.a.createElement(i.Text,{component:i.TextVariants.p},o.a.createElement(_.Truncate,{text:d.description,length:600,expandText:E.formatMessage(T.a.readmore),collapseText:E.formatMessage(T.a.readless),inline:!0})))),""===p||"pending"===p&&o.a.createElement(c.a,null)),o.a.createElement(u.Main,null,o.a.createElement(o.a.Fragment,null,""===p||"pending"===p||"fulfilled"===p&&o.a.createElement(o.a.Fragment,null,o.a.createElement(y.Title,{headingLevel:"h3",size:"2xl",className:"titleOverride"},E.formatMessage(T.a.recommendations)),h.topic&&o.a.createElement(b.default,null)),"failed"===p||"rejected"===p&&o.a.createElement(f.a,{icon:O.a,title:E.formatMessage(T.a.topicDetailslNodetailsTitle),text:E.formatMessage(T.a.topicDetailslNodetailsBody)}))))};j.propTypes={match:p.a.any,fetchTopic:p.a.func,topic:p.a.object,topicFetchStatus:p.a.string,setFilters:p.a.func,intl:p.a.any,filters:p.a.object};t.default=Object(S.c)(R()(Object(k.connect)((function(e){return{topic:e.AdvisorStore.topic,topicFetchStatus:e.AdvisorStore.topicFetchStatus,filters:e.AdvisorStore.filters}}),(function(e){return{fetchTopic:function(t){return e(r.g(t))},setFilters:function(t){return e(r.k(t))}}}))(j)))},1929:function(e,t,a){var r=a(1370);"string"==typeof r&&(r=[[e.i,r,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0},o=a(7)(r,n);r.locals&&(e.exports=r.locals),e.hot.accept(1370,(function(){var t=a(1370);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var a,r=0;for(a in e){if(!t||e[a]!==t[a])return!1;r++}for(a in t)r--;return 0===r}(r.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");o(t)})),e.hot.dispose((function(){o()}))}}]);
//# sourceMappingURL=TopicDetails.b57cb95eed3a02d5ac30.js.map