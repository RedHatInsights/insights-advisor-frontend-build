/*! For license information please see 5790.1665669573655.8b4550e839cffd9fa9ef.js.LICENSE.txt */
"use strict";(self.webpackChunkadvisor_frontend=self.webpackChunkadvisor_frontend||[]).push([[5790],{81159:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Stack=void 0;const a=r(70655),n=a.__importStar(r(93264)),o=a.__importDefault(r(73976)),i=r(38296);t.Stack=e=>{var{hasGutter:t=!1,className:r="",children:l=null,component:s="div"}=e,c=a.__rest(e,["hasGutter","className","children","component"]);const u=s;return n.createElement(u,Object.assign({},c,{className:i.css(o.default.stack,t&&o.default.modifiers.gutter,r)}),l)},t.Stack.displayName="Stack"},34023:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StackItem=void 0;const a=r(70655),n=a.__importStar(r(93264)),o=a.__importDefault(r(73976)),i=r(38296);t.StackItem=e=>{var{isFilled:t=!1,className:r="",children:l=null}=e,s=a.__rest(e,["isFilled","className","children"]);return n.createElement("div",Object.assign({},s,{className:i.css(o.default.stackItem,t&&o.default.modifiers.fill,r)}),l)},t.StackItem.displayName="StackItem"},88292:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const a=r(70655);a.__exportStar(r(81159),t),a.__exportStar(r(34023),t)},61829:(e,t,r)=>{t.Fs={name:"AnsibeTowerIcon",height:390,width:390,svgPath:"M402.6,214.7c0,103.9-84.2,188.1-188.1,188.1c-103.9,0-188.1-84.2-188.1-188.1  c0-103.9,84.2-188.1,188.1-188.1C318.4,26.6,402.6,110.8,402.6,214.7z M304.1,289.3l-74.9-180.2c-2.1-5.2-6.4-7.9-11.6-7.9c-5.2,0-9.8,2.8-11.9,7.9l-82.2,197.7h28.1l32.5-81.5  l97.1,78.4c3.9,3.2,6.7,4.6,10.4,4.6c7.3,0,13.7-5.5,13.7-13.4C305.4,293.6,305,291.5,304.1,289.3z M217.7,141.5l48.7,120.2  l-73.5-57.9L217.7,141.5z",yOffset:20,xOffset:20},t.Q2=r(35183).createIcon(t.Fs),t.ZP=t.Q2},73976:(e,t,r)=>{r.r(t),r.d(t,{default:()=>a}),r.e(3519).then(r.t.bind(r,53519,23));const a={modifiers:{fill:"pf-m-fill",gutter:"pf-m-gutter"},stack:"pf-l-stack",stackItem:"pf-l-stack__item"}},65790:(e,t,r)=>{r.r(t),r.d(t,{default:()=>oe});var a=r(71002),n=r(15861),o=r(42982),i=r(4942),l=r(70885),s=r(59303),c=r(75662),u=r(13877),f=r(93264),m=r.n(f),d=r(88292),p=r(17855),h=r(76004),y=r(97109),v=r(28216),g=r(61829),b=r(84785),k=r(6202),_=r(52837),E=r(62410),W=r(71094),P=r(44788),w=r(76341),x=r(90693),Z=r(46891),S=r(14748),M=r(7887),O=r(81783),C=r(87516),T=r(95358),L=r(71355),j=r(40609),N=r(58921),A=r(30893),F=r(28186),D=r(28672),I=r(75546),R=r(86896),G=r(43707),V=r(45697),B=r.n(V),z=r(22938),H=r(52017),Y=r(70655),U=r(680);function q(e){var t=(0,R.Z)(),r=t.formatMessage,a=t.textComponent,n=void 0===a?f.Fragment:a,o=e.id,i=e.description,l=e.defaultMessage,s=e.values,c=e.children,u=e.tagName,m=void 0===u?n:u,d=r({id:o,description:i,defaultMessage:l},s,{ignoreTag:e.ignoreTag});return"function"==typeof c?c(Array.isArray(d)?d:[d]):m?f.createElement(m,null,f.Children.toArray(d)):f.createElement(f.Fragment,null,d)}q.displayName="FormattedMessage";var K=f.memo(q,(function(e,t){var r=e.values,a=(0,Y.__rest)(e,["values"]),n=t.values,o=(0,Y.__rest)(t,["values"]);return(0,U.wU)(n,r)&&(0,U.wU)(a,o)}));K.displayName="MemoizedFormattedMessage";const Q=K;var J=r(34702),$=function(e){var t=e.filters,r=e.toggleRulesDisabled,a=ee()[t.rule_status]||ee().default;return m().createElement(J.Z,{icon:H.CheckCircleIcon,iconClass:"ansibleCheck",title:a.title,text:a.body},"enabled"===t.rule_status&&m().createElement(z.Button,{variant:"link",style:{paddingTop:24},onClick:function(){return r("all")}},m().createElement(Q,{id:"rulestable.norulehits.adddisabledbutton"})))};$.propTypes={filters:B().object,toggleRulesDisabled:B().func};const X=$;var ee=function(){var e=m().createElement(Q,{id:"rulestable.norulehits.title"});return{enabled:{title:e,body:m().createElement(m().Fragment,null,m().createElement(z.Text,null,m().createElement(Q,{id:"rulestable.norulehits.enabledrulesbody"})),m().createElement(z.Text,null,m().createElement(Q,{id:"rulestable.norulehits.enabledrulesbodysecondline"})))},disabled:{title:e,body:m().createElement(m().Fragment,null,m().createElement(z.Text,null,m().createElement(Q,{id:"rulestable.norules.disabledrulesbody"})),m().createElement(z.Text,null,m().createElement(Q,{id:"rulestable.norules.disabledrulesbodysecondline"})))},rhdisabled:{title:e,body:m().createElement(z.Text,null,m().createElement(Q,{id:"rulestable.norules.redhatdisabledrulesbody"}))},default:{title:e,body:m().createElement(z.Text,null,m().createElement(Q,{id:"noRecommendations"}))}}};function te(){te=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",l=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function c(e,t,r,a){var n=t&&t.prototype instanceof m?t:m,o=Object.create(n.prototype),i=new P(a||[]);return o._invoke=function(e,t,r){var a="suspendedStart";return function(n,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw o;return{value:void 0,done:!0}}for(r.method=n,r.arg=o;;){var i=r.delegate;if(i){var l=_(i,r);if(l){if(l===f)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===a)throw a="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a="executing";var s=u(e,t,r);if("normal"===s.type){if(a=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a="completed",r.method="throw",r.arg=s.arg)}}}(e,r,i),o}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function m(){}function d(){}function p(){}var h={};s(h,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(w([])));v&&v!==t&&r.call(v,o)&&(h=v);var g=p.prototype=m.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,i,l,s){var c=u(e[o],e,i);if("throw"!==c.type){var f=c.arg,m=f.value;return m&&"object"==(0,a.Z)(m)&&r.call(m,"__await")?t.resolve(m.__await).then((function(e){n("next",e,l,s)}),(function(e){n("throw",e,l,s)})):t.resolve(m).then((function(e){f.value=e,l(f)}),(function(e){return n("throw",e,l,s)}))}s(c.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,a){n(e,r,t,a)}))}return o=o?o.then(a,a):a()}}function _(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var a=u(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var n=a.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function W(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function w(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,n=function t(){for(;++a<e.length;)if(r.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:x}}function x(){return{value:void 0,done:!0}}return d.prototype=p,s(g,"constructor",p),s(p,"constructor",d),d.displayName=s(p,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,l,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(k.prototype),s(k.prototype,i,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,a,n,o){void 0===o&&(o=Promise);var i=new k(c(t,r,a,n),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),s(g,l,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var a=t.pop();if(a in e)return r.value=a,r.done=!1,r}return r.done=!0,r}},e.values=w,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(W),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(r,a){return i.type="throw",i.arg=e,t.next=r,a&&(t.method="next",t.arg=void 0),!!a}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(l&&s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),W(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;W(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:w(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ne=function(e){var t,r,a=e.isTabActive,V=(0,R.Z)(),B=(0,v.useDispatch)(),z=(0,c.useLocation)().search,H=(0,G.T)("advisor",s.Gd.export).hasAccess,Y=(0,G.T)("advisor",s.Gd.disableRec).hasAccess,U=(0,f.useState)([{title:V.formatMessage(A.Z.name),transforms:[p.sortable,(0,p.cellWidth)(40)]},{title:V.formatMessage(A.Z.modified),transforms:[p.sortable,(0,p.cellWidth)(10)]},{title:V.formatMessage(A.Z.category),transforms:[p.sortable,(0,p.cellWidth)(10)]},{title:V.formatMessage(A.Z.totalRisk),transforms:[p.sortable,(0,p.cellWidth)(15)]},{title:V.formatMessage(A.Z.riskOfChange),transforms:[p.sortable,(0,p.cellWidth)(15)]},{title:V.formatMessage(A.Z.systems),transforms:[p.sortable,(0,p.cellWidth)(15)]},{title:V.formatMessage(A.Z.remediation),transforms:[p.sortable,(0,p.cellWidth)(15),p.fitContent]}]),q=(0,l.Z)(U,1)[0],K=(0,v.useSelector)((function(e){return e.filters.selectedTags})),Q=(0,v.useSelector)((function(e){return e.filters.workloads})),J=(0,v.useSelector)((function(e){return e.filters.SID})),$=(0,v.useSelector)((function(e){return e.filters.recState})),ee=(0,f.useState)([]),re=(0,l.Z)(ee,2),ne=re[0],oe=re[1],ie=(0,f.useState)({}),le=(0,l.Z)(ie,2),se=le[0],ce=le[1],ue=(0,f.useState)(!0),fe=(0,l.Z)(ue,2),me=fe[0],de=fe[1],pe=(0,f.useState)((null==$?void 0:$.text)||""),he=(0,l.Z)(pe,2),ye=he[0],ve=he[1],ge=(0,f.useState)(!1),be=(0,l.Z)(ge,2),ke=be[0],_e=be[1],Ee=(0,f.useState)({}),We=(0,l.Z)(Ee,2),Pe=We[0],we=We[1],xe=(0,f.useState)(!1),Ze=(0,l.Z)(xe,2),Se=Ze[0],Me=Ze[1],Oe=(0,f.useState)({}),Ce=(0,l.Z)(Oe,2),Te=Ce[0],Le=Ce[1],je=(0,f.useState)(!1),Ne=(0,l.Z)(je,2),Ae=Ne[0],Fe=Ne[1],De=function(e){return B((0,L.addNotification)(e))},Ie=function(e){return B((0,D.hb)(e))},Re={};(null==K?void 0:K.length)&&(Re=ae(ae({},Re),{tags:K.join(",")})),Q&&(Re=ae(ae({},Re),(0,y.s0)(Q,J)));var Ge=(0,I.Bs)(ae(ae({},(0,y.qW)($)),Re)),Ve=Ge.data,Be=void 0===Ve?[]:Ve,ze=Ge.isFetching,He=Ge.isLoading,Ye=Ge.isError,Ue=Ge.refetch,qe=(0,j.Z)(ye,s.$x),Ke=(null==Be||null===(t=Be.meta)||void 0===t?void 0:t.count)||0,Qe={1:"description",2:"publish_date",3:"category",4:"total_risk",5:"resolution_risk",6:"impacted_count",7:"playbook_count"};(0,f.useEffect)((function(){me||null===K||(0,y.Y4)($,K)}),[$,K,Q,J]);var Je=function(e){var t=e*$.limit-$.limit;Ie(ae(ae({},$),{},{offset:t}))},$e=function(e){Ie(ae(ae({},$),{},{rule_status:e,offset:0},"enabled"!==e&&{impacting:["false"]}))},Xe=function(){var e=(0,n.Z)(te().mark((function e(t){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ne[t].rule,e.prev=1,"enabled"!==r.rule_status){e.next=7;break}we(r),_e(!0),e.next=17;break;case 7:return e.prev=7,e.next=10,(0,W.Sp)("".concat(s._n,"/ack/").concat(r.rule_id,"/"));case 10:De({variant:"success",timeout:!0,dismissable:!0,title:V.formatMessage(A.Z.recSuccessfullyEnabled)}),Ue(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),De({variant:"danger",dismissable:!0,title:V.formatMessage(A.Z.error),description:"".concat(e.t0)});case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(1),De({variant:"danger",dismissable:!0,title:"enabled"===r.rule_status?V.formatMessage(A.Z.rulesTableHideReportsErrorDisabled):V.formatMessage(A.Z.rulesTableHideReportsErrorEnabled),description:"".concat(e.t1)});case 22:case"end":return e.stop()}}),e,null,[[1,19],[7,14]])})));return function(t){return e.apply(this,arguments)}}();(0,f.useEffect)((function(){if(a&&z&&me){var e=(0,y.yG)();delete e.tags,void 0===e.text?ve(""):ve(e.text),e.sort=void 0===e.sort?"-total_risk":e.sort[0],void 0!==e.has_playbook&&!Array.isArray(e.has_playbook)&&(e.has_playbook=["".concat(e.has_playbook)]),void 0!==e.incident&&!Array.isArray(e.incident)&&(e.incident=["".concat(e.incident)]),void 0===e.offset?e.offset=0:e.offset=Number(e.offset[0]),void 0===e.limit?e.limit=20:e.limit=Number(e.limit[0]),void 0!==e.reboot&&!Array.isArray(e.reboot)&&(e.reboot=["".concat(e.reboot)]),void 0!==e.impacting&&!Array.isArray(e.impacting)&&(e.impacting=["".concat(e.impacting)]),Ie(ae(ae({},$),e))}de(!1)}),[]),(0,f.useEffect)((function(){var e,t=null===(e=Object.entries(Qe))||void 0===e?void 0:e.find((function(e){return e[1]===$.sort||"-".concat(e[1])===$.sort}));if(void 0!==$.sort&&t){var r="-"===$.sort[0]?"desc":"asc";ce({index:Number(t[0]),direction:r})}}),[$.sort]),(0,f.useEffect)((function(){if(Be.data)if(0===Be.data.length)oe(function(e,t){return[{cells:[{title:m().createElement(X,{filters:e,toggleRulesDisabled:t}),props:{colSpan:6}}]}]}($,$e));else{var e=Be.data.flatMap((function(e,t){return[{isOpen:Ae,rule:e,cells:[{title:m().createElement("span",{key:t},m().createElement(c.Link,{key:t,to:"/recommendations/".concat(e.rule_id)}," ",e.description," "),m().createElement(C.Z,{rule:e,isCompact:!0}))},{title:m().createElement(E.Z,{key:t,date:e.publish_date,variant:"relative"})},{title:m().createElement(_.Z,{key:t,labelList:[e.category],isCompact:!0})},{title:m().createElement("div",{key:t},m().createElement(h.Tooltip,{key:t,position:h.TooltipPosition.bottom,content:V.formatMessage(A.Z.rulesDetailsTotalRiskBody,{risk:s.Nq[e.total_risk]||V.formatMessage(A.Z.undefined),strong:function(e){return(0,F.fK)(e)}})},m().createElement(x.Z,{value:e.total_risk,isCompact:!0})))},{title:m().createElement("div",{key:t},m().createElement(x.Z,{text:s.MS[(0,y.EW)(e)],value:(0,y.EW)(e),hideIcon:!0,isCompact:!0}),m().createElement("div",null))},{title:"rhdisabled"===e.rule_status?m().createElement(h.Tooltip,{content:V.formatMessage(A.Z.byEnabling,{systems:e.impacted_systems_count})},m().createElement("span",null,V.formatMessage(A.Z.nA))):m().createElement("div",{key:t},"".concat(e.impacted_systems_count.toLocaleString()))},{title:m().createElement("div",{className:"ins-c-center-text ",key:t},e.playbook_count?m().createElement("span",null,m().createElement(g.ZP,{size:"sm"})," ",V.formatMessage(A.Z.playbook)):V.formatMessage(A.Z.manual))}]},{parent:2*t,fullWidth:!0,cells:[{title:m().createElement(S.Z,{className:"pf-m-light"},m().createElement(d.Stack,{hasGutter:!0},e.hosts_acked_count?m().createElement(d.StackItem,null,m().createElement(b.ZP,{size:"sm"})," ",e.hosts_acked_count&&!e.impacted_systems_count?V.formatMessage(A.Z.ruleIsDisabledForAllSystems):V.formatMessage(A.Z.ruleIsDisabledForSystemsBody,{systems:e.hosts_acked_count})," "," ",m().createElement(k.Button,{isInline:!0,variant:"link",ouiaId:"viewSystem",onClick:function(){Le(e),Me(!0)}},V.formatMessage(A.Z.viewSystems))):m().createElement(m().Fragment,null),m().createElement(O.Ii,{messages:(0,F.k5)(V,O.TO,(0,F.jL)(V,e)),product:O.D1.rhel,rule:e,resolutionRisk:(0,y.EW)(e),resolutionRiskDesc:s.wY[(0,y.EW)(e)],isDetailsPage:!1,showViewAffected:!0,linkComponent:c.Link,knowledgebaseUrl:e.node_id?"https://access.redhat.com/node/".concat(e.node_id):""})))}]}]}));oe(e)}}),[Be]),(0,f.useEffect)((function(){if(!me&&!He){var e=ae({},$),t=ye.length?{text:ye}:{};delete e.text,Ie(ae(ae(ae({},e),t),{},{offset:0}))}}),[qe]);var et,tt=function(e){var t=ae(ae({},$),{},{offset:0});"text"===e&&ve(""),delete t[e],Ie(t)},rt=function(e,t){t.length>0?Ie(ae(ae({},$),{},{offset:0},(0,i.Z)({},e,t))):tt(e)},at=[{label:V.formatMessage(A.Z.name).toLowerCase(),filterValues:{key:"text-filter",onChange:function(e,t){return ve(t)},value:ye,placeholder:V.formatMessage(A.Z.filterBy)}},{label:s.W2.total_risk.title,type:s.W2.total_risk.type,id:s.W2.total_risk.urlParam,value:"checkbox-".concat(s.W2.total_risk.urlParam),filterValues:{key:"".concat(s.W2.total_risk.urlParam,"-filter"),onChange:function(e,t){return rt(s.W2.total_risk.urlParam,t)},value:$.total_risk,items:s.W2.total_risk.values}},{label:s.W2.res_risk.title,type:s.W2.res_risk.type,id:s.W2.res_risk.urlParam,value:"checkbox-".concat(s.W2.res_risk.urlParam),filterValues:{key:"".concat(s.W2.res_risk.urlParam,"-filter"),onChange:function(e,t){return rt(s.W2.res_risk.urlParam,t)},value:$.res_risk,items:s.W2.res_risk.values}},{label:s.W2.impact.title,type:s.W2.impact.type,id:s.W2.impact.urlParam,value:"checkbox-".concat(s.W2.impact.urlParam),filterValues:{key:"".concat(s.W2.impact.urlParam,"-filter"),onChange:function(e,t){return rt(s.W2.impact.urlParam,t)},value:$.impact,items:s.W2.impact.values}},{label:s.W2.likelihood.title,type:s.W2.likelihood.type,id:s.W2.likelihood.urlParam,value:"checkbox-".concat(s.W2.likelihood.urlParam),filterValues:{key:"".concat(s.W2.likelihood.urlParam,"-filter"),onChange:function(e,t){return rt(s.W2.likelihood.urlParam,t)},value:$.likelihood,items:s.W2.likelihood.values}},{label:s.W2.category.title,type:s.W2.category.type,id:s.W2.category.urlParam,value:"checkbox-".concat(s.W2.category.urlParam),filterValues:{key:"".concat(s.W2.category.urlParam,"-filter"),onChange:function(e,t){return rt(s.W2.category.urlParam,t)},value:$.category,items:s.W2.category.values}},{label:s.W2.incident.title,type:s.W2.incident.type,id:s.W2.incident.urlParam,value:"checkbox-".concat(s.W2.incident.urlParam),filterValues:{key:"".concat(s.W2.incident.urlParam,"-filter"),onChange:function(e,t){return rt(s.W2.incident.urlParam,t)},value:$.incident,items:s.W2.incident.values}},{label:s.W2.has_playbook.title,type:s.W2.has_playbook.type,id:s.W2.has_playbook.urlParam,value:"checkbox-".concat(s.W2.has_playbook.urlParam),filterValues:{key:"".concat(s.W2.has_playbook.urlParam,"-filter"),onChange:function(e,t){return rt(s.W2.has_playbook.urlParam,t)},value:$.has_playbook,items:s.W2.has_playbook.values}},{label:s.W2.reboot.title,type:s.W2.reboot.type,id:s.W2.reboot.urlParam,value:"checkbox-".concat(s.W2.reboot.urlParam),filterValues:{key:"".concat(s.W2.reboot.urlParam,"-filter"),onChange:function(e,t){return rt(s.W2.reboot.urlParam,t)},value:$.reboot,items:s.W2.reboot.values}},{label:s.W2.rule_status.title,type:s.W2.rule_status.type,id:s.W2.rule_status.urlParam,value:"radio-".concat(s.W2.rule_status.urlParam),filterValues:{key:"".concat(s.W2.rule_status.urlParam,"-filter"),onChange:function(e,t){return $e(t)},value:"".concat($.rule_status),items:s.W2.rule_status.values}},{label:s.W2.impacting.title,type:s.W2.impacting.type,id:s.W2.impacting.urlParam,value:"checkbox-".concat(s.W2.impacting.urlParam),filterValues:{key:"".concat(s.W2.impacting.urlParam,"-filter"),onChange:function(e,t){return rt(s.W2.impacting.urlParam,t)},value:$.impacting,items:s.W2.impacting.values}}],nt={deleteTitle:V.formatMessage(A.Z.resetFilters),filters:(et=ae({},$),delete et.topic,delete et.sort,delete et.offset,delete et.limit,(0,y.yK)(et,s.W2)),showDeleteButton:!0,onDelete:function(e,t,r){r?(ve(""),Ie(ae(ae({},$.topic&&{topic:$.topic}),{},{impacting:["true"],rule_status:"enabled",limit:$.limit,offset:$.offset,pathway:$.pathway}))):t.map((function(e){var t=(0,i.Z)({},e.urlParam,Array.isArray($[e.urlParam])?$[e.urlParam].filter((function(t){return String(t)!==String(e.chips[0].value)})):"");t[e.urlParam].length>0?Ie(ae(ae({},$),t)):tt(e.urlParam)}))}};return m().createElement(m().Fragment,null,Se&&m().createElement(T.Z,{handleModalToggle:function(e){return Me(e)},isModalOpen:Se,afterFn:function(){Ue()},rule:Te}),ke&&m().createElement(P.Z,{handleModalToggle:_e,isModalOpen:ke,rule:Pe,afterFn:Ue}),m().createElement(M.Z,{expandAll:{isAllExpanded:Ae,onClick:function(e,t){var r=(0,o.Z)(ne);Fe(t),r.map((function(e,a){Object.prototype.hasOwnProperty.call(e,"isOpen")&&(r[a]=ae(ae({},e),{},{isOpen:t}))})),oe(r)}},pagination:{itemCount:Ke,page:$.offset/$.limit+1,perPage:Number($.limit),onSetPage:function(e,t){Je(t)},onPerPageSelect:function(e,t){Ie(ae(ae({},$),{},{limit:t,offset:0}))},isCompact:!0},exportConfig:(r={label:V.formatMessage(A.Z.exportCsv)},(0,i.Z)(r,"label",V.formatMessage(A.Z.exportJson)),(0,i.Z)(r,"onSelect",(function(e,t){return(0,N.Z)("hits",t,$,K,Q,J,B)})),(0,i.Z)(r,"isDisabled",!H),(0,i.Z)(r,"tooltipText",H?V.formatMessage(A.Z.exportData):V.formatMessage(A.Z.permsAction)),r),filterConfig:{items:at},activeFiltersConfig:nt}),ze?m().createElement(Z.Z,null):Ye?m().createElement(w.Z,{message:V.formatMessage(A.Z.rulesTableFetchRulesError)}):m().createElement(p.Table,{"aria-label":"rule-table",variant:p.TableVariant.compact,actionResolver:function(e,t){var r=t.rowIndex,a=ne[r].rule?ne[r].rule:null;return r%2==0&&a?a&&"enabled"===a.rule_status?[{title:V.formatMessage(A.Z.disableRule),onClick:function(e,t){return Xe(t)}}]:[{title:V.formatMessage(A.Z.enableRule),onClick:function(e,t){return Xe(t)}}]:null},onCollapse:function(e,t,r){var a=(0,o.Z)(ne);a[t]=ae(ae({},a[t]),{},{isOpen:r}),oe(a)},sortBy:se,onSort:function(e,t,r){var a="".concat("asc"===r?"":"-").concat(Qe[t]);ce({index:t,direction:r}),Ie(ae(ae({},$),{},{sort:a,offset:0}))},cells:q,rows:ne,areActionsDisabled:function(){return!Y},isStickyHeader:!0},m().createElement(p.TableHeader,null),m().createElement(p.TableBody,null)),m().createElement(u.tl,{ouiaId:"page",itemCount:Ke,page:$.offset/$.limit+1,perPage:Number($.limit),onSetPage:function(e,t){Je(t)},onPerPageSelect:function(e,t){Ie(ae(ae({},$),{},{limit:t,offset:0}))},widgetId:"pagination-options-menu-bottom",variant:u.aM.bottom}))};ne.propTypes={isTabActive:B().bool};const oe=ne},40609:(e,t,r)=>{r.d(t,{Z:()=>o});var a=r(70885),n=r(93264);const o=function(e,t){var r=(0,n.useState)(e),o=(0,a.Z)(r,2),i=o[0],l=o[1];return(0,n.useEffect)((function(){var r=setTimeout((function(){l(e)}),t);return function(){clearTimeout(r)}}),[t,e]),i}}}]);