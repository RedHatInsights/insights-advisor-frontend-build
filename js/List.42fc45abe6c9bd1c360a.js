(self.webpackChunkadvisor_frontend=self.webpackChunkadvisor_frontend||[]).push([[842],{93294:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>C});var r=a(92137),s=a(28481),n=a(87757),o=a.n(n),c=a(59303),l=a(48716),i=a(39173),m=a(93264),u=a.n(m),f=a(71094),g=a(43547),d=a(56715),p=a(96156),Z=a(3968),y=a(1657),E=a(85061),v=a(39138),b=a.n(v),M=a(45697),h=a.n(M),R=a(74093),S=a(30893),x=function(e){var t=e.statsSystems,a=e.statsReports,r=e.topActiveRec,n=e.intl,o=function(e,t){return Math.round(Number(e/t*100))},l=[{x:n.formatMessage(S.Z.critical),y:o(a.total_risk[4],a.total)},{x:n.formatMessage(S.Z.important),y:o(a.total_risk[3],a.total)},{x:n.formatMessage(S.Z.moderate),y:o(a.total_risk[2],a.total)},{x:n.formatMessage(S.Z.low),y:o(a.total_risk[1],a.total)}],i=[[n.formatMessage(S.Z.severity),n.formatMessage(S.Z.poundOfRecs)]].concat((0,E.Z)(Object.entries(a.total_risk).map((function(e){var t=(0,s.Z)(e,2),r=t[0],l=t[1];return[c.TOTAL_RISK_LABEL[r].props.children,n.formatMessage(S.Z.recNumAndPercentage,{count:l,total:o(l,a.total)})]})).reverse())),m=[{x:n.formatMessage(S.Z.availability),y:o(a.category.Availability,a.total)},{x:n.formatMessage(S.Z.performance),y:o(a.category.Performance,a.total)},{x:n.formatMessage(S.Z.security),y:o(a.category.Security,a.total)},{x:n.formatMessage(S.Z.stability),y:o(a.category.Stability,a.total)}],f=[[n.formatMessage(S.Z.category),n.formatMessage(S.Z.poundOfRecs)]].concat((0,E.Z)(Object.entries(a.category).map((function(e){var t=(0,s.Z)(e,2),r=t[0],c=t[1];return[r,n.formatMessage(S.Z.recNumAndPercentage,{count:c,total:o(c,a.total)})]})))),g=function(e){return u().createElement(R.xv,null,u().createElement(R.xv,{style:{fontWeight:700}}," ",e.description),"Â ",b()(e.summary,{length:280}))};return u().createElement(u().Fragment,{key:n.formatMessage(S.Z.insightsHeader)},u().createElement(Z.nv,null,n.formatMessage(S.Z.execReportHeader,{systems:u().createElement(R.xv,{style:{fontWeight:700}},n.formatMessage(S.Z.execReportHeaderSystems,{systems:t.total})),risks:u().createElement(R.xv,{style:{fontWeight:700}}," ",n.formatMessage(S.Z.execReportHeaderRisks,{risks:a.total}))})),u().createElement(Z.$0,{title:n.formatMessage(S.Z.severityHeader)},u().createElement(Z.sg,null,u().createElement(Z.iA,{withHeader:!0,rows:i})),u().createElement(Z.sg,null,u().createElement(Z.kL,{chartType:"pie",subTitle:n.formatMessage(S.Z.severityHeader),title:"100",data:l,colorSchema:"multi"}))),u().createElement(Z.$0,{title:n.formatMessage(S.Z.categoryHeader)},u().createElement(Z.sg,null,u().createElement(Z.iA,{withHeader:!0,rows:f})),u().createElement(Z.sg,null,u().createElement(Z.kL,{chartType:"pie",subTitle:n.formatMessage(S.Z.categoryHeader),title:"100",data:m}))),u().createElement(Z.$0,{title:n.formatMessage(S.Z.top3RulesHeader),withColumn:!1},r.data.map((function(e,t){return u().createElement(Z.s_,{key:t,description:g(e)},u().createElement(Z.Lv,{title:n.formatMessage(S.Z.systemsExposed)},"".concat(e.impacted_systems_count)),u().createElement(Z.Lv,{title:n.formatMessage(S.Z.totalRisk)},u().createElement(Z.Uc,{variant:e.total_risk})))}))))};x.propTypes={statsSystems:h().object,statsReports:h().object,topActiveRec:h().object,intl:h().any};const O=x;var k=a(86896);function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach((function(t){(0,p.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const A=function(e){var t=e.isDisabled,a=(0,k.Z)(),n=(0,m.useState)(!1),l=(0,s.Z)(n,2),i=l[0],g=l[1],d=function(){var e=(0,r.Z)(o().mark((function e(){var t,r,n,l,i,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.t0=Promise,e.next=4,f.Z.get(c.STATS_SYSTEMS_FETCH_URL);case 4:return e.t1=e.sent.data,e.next=7,f.Z.get(c.STATS_REPORTS_FETCH_URL);case 7:return e.t2=e.sent.data,e.next=10,f.Z.get(c.RULES_FETCH_URL,{},{limit:3,sort:"-total_risk,-impacted_count",impacting:!0});case 10:return e.t3=e.sent.data,e.t4=[e.t1,e.t2,e.t3],e.next=14,e.t0.all.call(e.t0,e.t4);case 14:return t=e.sent,r=(0,s.Z)(t,3),n=r[0],l=r[1],i=r[2],m=O({statsReports:l,statsSystems:n,topActiveRec:i,intl:a}),g(!1),e.abrupt("return",[m]);case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,m.useMemo)((function(){return u().createElement(Z.o6,{groupName:a.formatMessage(S.Z.redHatInsights),label:i?a.formatMessage(S.Z.loading):a.formatMessage(S.Z.downloadExecutiveLabel),asyncFunction:d,buttonProps:w({variant:"link",icon:u().createElement(y.ZP,{className:"iconOverride"}),component:"a",className:"downloadButtonOverride",isAriaDisabled:t},i?{isDisabled:!0}:null),type:a.formatMessage(S.Z.insightsHeader),fileName:"Advisor-Executive-Report--".concat((new Date).toUTCString().replace(/ /g,"-"),".pdf")})}),[i])};var T=a(46891),H=a(86350),P=a(35224),L=a(43707),j=(0,m.lazy)((function(){return Promise.all([a.e(410),a.e(252),a.e(736),a.e(341),a.e(609),a.e(702),a.e(921),a.e(384)]).then(a.bind(a,74560))})),D=function(){var e=(0,k.Z)(),t=(0,L.T)("advisor",c.PERMS.export),a=JSON.parse(localStorage.getItem("AdvisorRedHatDisabledRuleAlert")||"true"),n=(0,m.useState)(a),p=(0,s.Z)(n,2),Z=p[0],y=p[1],E=(0,m.useState)(0),v=(0,s.Z)(E,2),b=v[0],M=v[1];return document.title=e.formatMessage(S.Z.documentTitle,{subnav:S.Z.recommendations.defaultMessage}),(0,m.useEffect)((function(){a&&(0,r.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.Z.get("".concat(c.RULES_FETCH_URL,"?rule_status=rhdisabled"));case 3:t=e.sent.data,M(t.meta.count),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),M(0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[a]),u().createElement(u().Fragment,null,u().createElement(l.Z,{className:"ins-c-recommendations-header"},u().createElement(i.Z,{title:"".concat(e.formatMessage(S.Z.insightsHeader)," ").concat(e.formatMessage(S.Z.recommendations).toLowerCase())}),!t.isLoading&&u().createElement(P.u,{trigger:t.hasAccess?"":"mouseenter",content:e.formatMessage(S.Z.permsAction)},u().createElement(A,{isDisabled:!t.hasAccess})),Z&&b>0&&u().createElement(g.b,{className:"alertOverride",variant:"warning",isInline:!0,title:e.formatMessage(S.Z.redhatDisabledRuleAlertTitle),actionClose:u().createElement(d.g,{onClose:function(){y(!1),localStorage.setItem("AdvisorRedHatDisabledRuleAlert","false")}})},e.formatMessage(S.Z.redhatDisabledRuleAlert))),u().createElement(H.Z,null,u().createElement(m.Suspense,{fallback:u().createElement(T.Z,null)},u().createElement(j,null))))};D.displayName="recommendations-list";const C=D},82728:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>g});var r=a(48716),s=a(39173),n=a(93264),o=a.n(n),c=a(46891),l=a(86350),i=a(30893),m=a(86896),u=(0,n.lazy)((function(){return Promise.all([a.e(410),a.e(252),a.e(736),a.e(341),a.e(609),a.e(921),a.e(993)]).then(a.bind(a,40444))})),f=function(){var e=(0,m.Z)();return document.title=e.formatMessage(i.Z.documentTitle,{subnav:i.Z.systems.defaultMessage}),o().createElement(o().Fragment,null,o().createElement(r.Z,null,o().createElement(s.Z,{title:"".concat(e.formatMessage(i.Z.insightsHeader)," ").concat(e.formatMessage(i.Z.systems).toLowerCase())})),o().createElement(l.Z,null,o().createElement(n.Suspense,{fallback:o().createElement(c.Z,null)},o().createElement(u,null))))};f.displayName="systems-list";const g=f},19527:()=>{},69331:()=>{},69862:()=>{},40964:()=>{}}]);
//# sourceMappingURL=../sourcemaps/List.ce8c021852ea59b50a44.js.map